var Gp=Object.defineProperty;var Yp=(s,r,i)=>r in s?Gp(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i;var qe=(s,r,i)=>Yp(s,typeof r!="symbol"?r+"":r,i);function Xp(s,r){for(var i=0;i<r.length;i++){const l=r[i];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in s)){const f=Object.getOwnPropertyDescriptor(l,u);f&&Object.defineProperty(s,u,f.get?f:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function Td(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _a={exports:{}},Ji={},Ea={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function Jp(){if(bf)return Oe;bf=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function P(k,A,fe){this.props=k,this.context=A,this.refs=j,this.updater=fe||L}P.prototype.isReactComponent={},P.prototype.setState=function(k,A){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,A,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=P.prototype;function $(k,A,fe){this.props=k,this.context=A,this.refs=j,this.updater=fe||L}var z=$.prototype=new K;z.constructor=$,O(z,P.prototype),z.isPureReactComponent=!0;var G=Array.isArray,de=Object.prototype.hasOwnProperty,_e={current:null},be={key:!0,ref:!0,__self:!0,__source:!0};function Pe(k,A,fe){var he,Se={},me=null,J=null;if(A!=null)for(he in A.ref!==void 0&&(J=A.ref),A.key!==void 0&&(me=""+A.key),A)de.call(A,he)&&!be.hasOwnProperty(he)&&(Se[he]=A[he]);var xe=arguments.length-2;if(xe===1)Se.children=fe;else if(1<xe){for(var De=Array(xe),V=0;V<xe;V++)De[V]=arguments[V+2];Se.children=De}if(k&&k.defaultProps)for(he in xe=k.defaultProps,xe)Se[he]===void 0&&(Se[he]=xe[he]);return{$$typeof:s,type:k,key:me,ref:J,props:Se,_owner:_e.current}}function Fe(k,A){return{$$typeof:s,type:k.type,key:A,ref:k.ref,props:k.props,_owner:k._owner}}function Ae(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function He(k){var A={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return A[fe]})}var Ne=/\/+/g;function Ie(k,A){return typeof k=="object"&&k!==null&&k.key!=null?He(""+k.key):A.toString(36)}function Te(k,A,fe,he,Se){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var J=!1;if(k===null)J=!0;else switch(me){case"string":case"number":J=!0;break;case"object":switch(k.$$typeof){case s:case r:J=!0}}if(J)return J=k,Se=Se(J),k=he===""?"."+Ie(J,0):he,G(Se)?(fe="",k!=null&&(fe=k.replace(Ne,"$&/")+"/"),Te(Se,A,fe,"",function(V){return V})):Se!=null&&(Ae(Se)&&(Se=Fe(Se,fe+(!Se.key||J&&J.key===Se.key?"":(""+Se.key).replace(Ne,"$&/")+"/")+k)),A.push(Se)),1;if(J=0,he=he===""?".":he+":",G(k))for(var xe=0;xe<k.length;xe++){me=k[xe];var De=he+Ie(me,xe);J+=Te(me,A,fe,De,Se)}else if(De=S(k),typeof De=="function")for(k=De.call(k),xe=0;!(me=k.next()).done;)me=me.value,De=he+Ie(me,xe++),J+=Te(me,A,fe,De,Se);else if(me==="object")throw A=String(k),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return J}function Z(k,A,fe){if(k==null)return k;var he=[],Se=0;return Te(k,he,"","",function(me){return A.call(fe,me,Se++)}),he}function Y(k){if(k._status===-1){var A=k._result;A=A(),A.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=A)}if(k._status===1)return k._result.default;throw k._result}var re={current:null},W={transition:null},te={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:W,ReactCurrentOwner:_e};function q(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Z,forEach:function(k,A,fe){Z(k,function(){A.apply(this,arguments)},fe)},count:function(k){var A=0;return Z(k,function(){A++}),A},toArray:function(k){return Z(k,function(A){return A})||[]},only:function(k){if(!Ae(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Oe.Component=P,Oe.Fragment=i,Oe.Profiler=u,Oe.PureComponent=$,Oe.StrictMode=l,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Oe.act=q,Oe.cloneElement=function(k,A,fe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var he=O({},k.props),Se=k.key,me=k.ref,J=k._owner;if(A!=null){if(A.ref!==void 0&&(me=A.ref,J=_e.current),A.key!==void 0&&(Se=""+A.key),k.type&&k.type.defaultProps)var xe=k.type.defaultProps;for(De in A)de.call(A,De)&&!be.hasOwnProperty(De)&&(he[De]=A[De]===void 0&&xe!==void 0?xe[De]:A[De])}var De=arguments.length-2;if(De===1)he.children=fe;else if(1<De){xe=Array(De);for(var V=0;V<De;V++)xe[V]=arguments[V+2];he.children=xe}return{$$typeof:s,type:k.type,key:Se,ref:me,props:he,_owner:J}},Oe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:f,_context:k},k.Consumer=k},Oe.createElement=Pe,Oe.createFactory=function(k){var A=Pe.bind(null,k);return A.type=k,A},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:g,render:k}},Oe.isValidElement=Ae,Oe.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:Y}},Oe.memo=function(k,A){return{$$typeof:y,type:k,compare:A===void 0?null:A}},Oe.startTransition=function(k){var A=W.transition;W.transition={};try{k()}finally{W.transition=A}},Oe.unstable_act=q,Oe.useCallback=function(k,A){return re.current.useCallback(k,A)},Oe.useContext=function(k){return re.current.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k){return re.current.useDeferredValue(k)},Oe.useEffect=function(k,A){return re.current.useEffect(k,A)},Oe.useId=function(){return re.current.useId()},Oe.useImperativeHandle=function(k,A,fe){return re.current.useImperativeHandle(k,A,fe)},Oe.useInsertionEffect=function(k,A){return re.current.useInsertionEffect(k,A)},Oe.useLayoutEffect=function(k,A){return re.current.useLayoutEffect(k,A)},Oe.useMemo=function(k,A){return re.current.useMemo(k,A)},Oe.useReducer=function(k,A,fe){return re.current.useReducer(k,A,fe)},Oe.useRef=function(k){return re.current.useRef(k)},Oe.useState=function(k){return re.current.useState(k)},Oe.useSyncExternalStore=function(k,A,fe){return re.current.useSyncExternalStore(k,A,fe)},Oe.useTransition=function(){return re.current.useTransition()},Oe.version="18.3.1",Oe}var Af;function tu(){return Af||(Af=1,Ea.exports=Jp()),Ea.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function Zp(){if($f)return Ji;$f=1;var s=tu(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(g,m,y){var x,w={},S=null,L=null;y!==void 0&&(S=""+y),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(L=m.ref);for(x in m)l.call(m,x)&&!f.hasOwnProperty(x)&&(w[x]=m[x]);if(g&&g.defaultProps)for(x in m=g.defaultProps,m)w[x]===void 0&&(w[x]=m[x]);return{$$typeof:r,type:g,key:S,ref:L,props:w,_owner:u.current}}return Ji.Fragment=i,Ji.jsx=h,Ji.jsxs=h,Ji}var zf;function eg(){return zf||(zf=1,_a.exports=Zp()),_a.exports}var d=eg(),_=tu();const Nd=Td(_),tg=Xp({__proto__:null,default:Nd},[_]);var So={},ka={exports:{}},Rt={},Oa={exports:{}},Ta={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function ng(){return Ff||(Ff=1,(function(s){function r(W,te){var q=W.length;W.push(te);e:for(;0<q;){var k=q-1>>>1,A=W[k];if(0<u(A,te))W[k]=te,W[q]=A,q=k;else break e}}function i(W){return W.length===0?null:W[0]}function l(W){if(W.length===0)return null;var te=W[0],q=W.pop();if(q!==te){W[0]=q;e:for(var k=0,A=W.length,fe=A>>>1;k<fe;){var he=2*(k+1)-1,Se=W[he],me=he+1,J=W[me];if(0>u(Se,q))me<A&&0>u(J,Se)?(W[k]=J,W[me]=q,k=me):(W[k]=Se,W[he]=q,k=he);else if(me<A&&0>u(J,q))W[k]=J,W[me]=q,k=me;else break e}}return te}function u(W,te){var q=W.sortIndex-te.sortIndex;return q!==0?q:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var m=[],y=[],x=1,w=null,S=3,L=!1,O=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(W){for(var te=i(y);te!==null;){if(te.callback===null)l(y);else if(te.startTime<=W)l(y),te.sortIndex=te.expirationTime,r(m,te);else break;te=i(y)}}function G(W){if(j=!1,z(W),!O)if(i(m)!==null)O=!0,Y(de);else{var te=i(y);te!==null&&re(G,te.startTime-W)}}function de(W,te){O=!1,j&&(j=!1,K(Pe),Pe=-1),L=!0;var q=S;try{for(z(te),w=i(m);w!==null&&(!(w.expirationTime>te)||W&&!He());){var k=w.callback;if(typeof k=="function"){w.callback=null,S=w.priorityLevel;var A=k(w.expirationTime<=te);te=s.unstable_now(),typeof A=="function"?w.callback=A:w===i(m)&&l(m),z(te)}else l(m);w=i(m)}if(w!==null)var fe=!0;else{var he=i(y);he!==null&&re(G,he.startTime-te),fe=!1}return fe}finally{w=null,S=q,L=!1}}var _e=!1,be=null,Pe=-1,Fe=5,Ae=-1;function He(){return!(s.unstable_now()-Ae<Fe)}function Ne(){if(be!==null){var W=s.unstable_now();Ae=W;var te=!0;try{te=be(!0,W)}finally{te?Ie():(_e=!1,be=null)}}else _e=!1}var Ie;if(typeof $=="function")Ie=function(){$(Ne)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Z=Te.port2;Te.port1.onmessage=Ne,Ie=function(){Z.postMessage(null)}}else Ie=function(){P(Ne,0)};function Y(W){be=W,_e||(_e=!0,Ie())}function re(W,te){Pe=P(function(){W(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){O||L||(O=!0,Y(de))},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return i(m)},s.unstable_next=function(W){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var q=S;S=te;try{return W()}finally{S=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=S;S=W;try{return te()}finally{S=q}},s.unstable_scheduleCallback=function(W,te,q){var k=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?k+q:k):q=k,W){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,W={id:x++,callback:te,priorityLevel:W,startTime:q,expirationTime:A,sortIndex:-1},q>k?(W.sortIndex=q,r(y,W),i(m)===null&&W===i(y)&&(j?(K(Pe),Pe=-1):j=!0,re(G,q-k))):(W.sortIndex=A,r(m,W),O||L||(O=!0,Y(de))),W},s.unstable_shouldYield=He,s.unstable_wrapCallback=function(W){var te=S;return function(){var q=S;S=te;try{return W.apply(this,arguments)}finally{S=q}}}})(Ta)),Ta}var Uf;function rg(){return Uf||(Uf=1,Oa.exports=ng()),Oa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function ig(){if(Bf)return Rt;Bf=1;var s=tu(),r=rg();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function S(e){return m.call(w,e)?!0:m.call(x,e)?!1:y.test(e)?w[e]=!0:(x[e]=!0,!1)}function L(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,o){if(t===null||typeof t>"u"||L(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,n,o,a,c,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K,$);P[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K,$);P[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K,$);P[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,n,o){var a=P.hasOwnProperty(t)?P[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,a,o)&&(n=null),o||a===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,o=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var G=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),_e=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),Pe=Symbol.for("react.strict_mode"),Fe=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),He=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),W=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,k;function A(e){if(k===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var fe=!1;function he(e,t){if(!e||fe)return"";fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var o=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){o=R}e.call(t.prototype)}else{try{throw Error()}catch(R){o=R}e()}}catch(R){if(R&&o&&typeof R.stack=="string"){for(var a=R.stack.split(`
`),c=o.stack.split(`
`),p=a.length-1,v=c.length-1;1<=p&&0<=v&&a[p]!==c[v];)v--;for(;1<=p&&0<=v;p--,v--)if(a[p]!==c[v]){if(p!==1||v!==1)do if(p--,v--,0>v||a[p]!==c[v]){var C=`
`+a[p].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=p&&0<=v);break}}}finally{fe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?A(e):""}function Se(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case be:return"Fragment";case _e:return"Portal";case Fe:return"Profiler";case Pe:return"StrictMode";case Ie:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case He:return(e.displayName||"Context")+".Consumer";case Ae:return(e._context.displayName||"Context")+".Provider";case Ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function J(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===Pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V(e){var t=De(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(p){o=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ie(e){e._valueTracker||(e._valueTracker=V(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=De(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function ae(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $e(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ft(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=xe(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function et(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function ln(e,t){et(e,t);var n=xe(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pr(e,t.type,n):t.hasOwnProperty("defaultValue")&&pr(e,t.type,xe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pr(e,t,n){(t!=="number"||ae(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var an=Array.isArray;function un(e,t,n,o){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&o&&(e[n].defaultSelected=!0)}else{for(n=""+xe(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function mn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(an(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xe(n)}}function In(e,t){var n=xe(t.value),o=xe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function It(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bn,Ar=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bn=bn||document.createElement("div"),bn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(Bt).forEach(function(e){An.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bt[t]=Bt[e]})});function yn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bt.hasOwnProperty(e)&&Bt[e]?(""+t).trim():t+"px"}function Sn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,a=yn(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,a):e[n]=a}}var gi=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(e,t){if(t){if(gi[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function $n(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vr=null,cn=null,fn=null;function $r(e){if(e=Ai(e)){if(typeof vr!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Rs(t),vr(e.stateNode,e.type,t))}}function zn(e){cn?fn?fn.push(e):fn=[e]:cn=e}function zr(){if(cn){var e=cn,t=fn;if(fn=cn=null,$r(e),t)for(e=0;e<t.length;e++)$r(t[e])}}function xn(e,t){return e(t)}function Fn(){}var yr=!1;function I(e,t,n){if(yr)return e(t,n);yr=!0;try{return xn(e,t,n)}finally{yr=!1,(cn!==null||fn!==null)&&(Fn(),zr())}}function Tt(e,t){var n=e.stateNode;if(n===null)return null;var o=Rs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var dt=!1;if(g)try{var je={};Object.defineProperty(je,"passive",{get:function(){dt=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{dt=!1}function U(e,t,n,o,a,c,p,v,C){var R=Array.prototype.slice.call(arguments,3);try{t.apply(n,R)}catch(B){this.onError(B)}}var Ve=!1,ke=null,Ke=!1,ht=null,yt={onError:function(e){Ve=!0,ke=e}};function us(e,t,n,o,a,c,p,v,C){Ve=!1,ke=null,U.apply(yt,arguments)}function cs(e,t,n,o,a,c,p,v,C){if(us.apply(this,arguments),Ve){if(Ve){var R=ke;Ve=!1,ke=null}else throw Error(i(198));Ke||(Ke=!0,ht=R)}}function se(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fs(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mi(e){if(se(e)!==e)throw Error(i(188))}function Uo(e){var t=e.alternate;if(!t){if(t=se(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var a=n.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){n=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===n)return mi(a),e;if(c===o)return mi(a),t;c=c.sibling}throw Error(i(188))}if(n.return!==o.return)n=a,o=c;else{for(var p=!1,v=a.child;v;){if(v===n){p=!0,n=a,o=c;break}if(v===o){p=!0,o=a,n=c;break}v=v.sibling}if(!p){for(v=c.child;v;){if(v===n){p=!0,n=c,o=a;break}if(v===o){p=!0,o=c,n=a;break}v=v.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function vi(e){return e=Uo(e),e!==null?ds(e):null}function ds(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ds(e);if(t!==null)return t;e=e.sibling}return null}var hs=r.unstable_scheduleCallback,ps=r.unstable_cancelCallback,gs=r.unstable_shouldYield,ms=r.unstable_requestPaint,Ge=r.unstable_now,Bo=r.unstable_getCurrentPriorityLevel,yi=r.unstable_ImmediatePriority,Si=r.unstable_UserBlockingPriority,Un=r.unstable_NormalPriority,Wo=r.unstable_LowPriority,vs=r.unstable_IdlePriority,Sr=null,Wt=null;function pt(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Sr,e,void 0,(e.current.flags&128)===128)}catch{}}var T=Math.clz32?Math.clz32:ce,M=Math.log,b=Math.LN2;function ce(e){return e>>>=0,e===0?32:31-(M(e)/b|0)|0}var ue=64,Le=4194304;function Mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cn(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,p=n&268435455;if(p!==0){var v=p&~a;v!==0?o=Mt(v):(c&=p,c!==0&&(o=Mt(c)))}else p=n&~a,p!==0?o=Mt(p):c!==0&&(o=Mt(c));if(o===0)return 0;if(t!==0&&t!==o&&(t&a)===0&&(a=o&-o,c=t&-t,a>=c||a===16&&(c&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-T(t),a=1<<n,o|=e[n],t&=~a;return o}function ph(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var p=31-T(c),v=1<<p,C=a[p];C===-1?((v&n)===0||(v&o)!==0)&&(a[p]=ph(v,t)):C<=t&&(e.expiredLanes|=v),c&=~v}}function Ho(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function du(){var e=ue;return ue<<=1,(ue&4194240)===0&&(ue=64),e}function Vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-T(t),e[t]=n}function mh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-T(n),c=1<<a;t[a]=0,o[a]=-1,e[a]=-1,n&=~c}}function Ko(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-T(n),a=1<<o;a&t|e[o]&t&&(e[o]|=t),n&=~a}}var ze=0;function hu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var pu,Qo,gu,mu,vu,qo=!1,ys=[],Bn=null,Wn=null,Hn=null,xi=new Map,Ci=new Map,Vn=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function _i(e,t,n,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},t!==null&&(t=Ai(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yh(e,t,n,o,a){switch(t){case"focusin":return Bn=_i(Bn,e,t,n,o,a),!0;case"dragenter":return Wn=_i(Wn,e,t,n,o,a),!0;case"mouseover":return Hn=_i(Hn,e,t,n,o,a),!0;case"pointerover":var c=a.pointerId;return xi.set(c,_i(xi.get(c)||null,e,t,n,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Ci.set(c,_i(Ci.get(c)||null,e,t,n,o,a)),!0}return!1}function Su(e){var t=wr(e.target);if(t!==null){var n=se(t);if(n!==null){if(t=n.tag,t===13){if(t=fs(n),t!==null){e.blockedOn=t,vu(e.priority,function(){gu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);mr=o,n.target.dispatchEvent(o),mr=null}else return t=Ai(n),t!==null&&Qo(t),e.blockedOn=n,!1;t.shift()}return!0}function wu(e,t,n){Ss(e)&&n.delete(t)}function Sh(){qo=!1,Bn!==null&&Ss(Bn)&&(Bn=null),Wn!==null&&Ss(Wn)&&(Wn=null),Hn!==null&&Ss(Hn)&&(Hn=null),xi.forEach(wu),Ci.forEach(wu)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}function ki(e){function t(a){return Ei(a,e)}if(0<ys.length){Ei(ys[0],e);for(var n=1;n<ys.length;n++){var o=ys[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Bn!==null&&Ei(Bn,e),Wn!==null&&Ei(Wn,e),Hn!==null&&Ei(Hn,e),xi.forEach(t),Ci.forEach(t),n=0;n<Vn.length;n++)o=Vn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Vn.length&&(n=Vn[0],n.blockedOn===null);)Su(n),n.blockedOn===null&&Vn.shift()}var Fr=G.ReactCurrentBatchConfig,ws=!0;function wh(e,t,n,o){var a=ze,c=Fr.transition;Fr.transition=null;try{ze=1,Go(e,t,n,o)}finally{ze=a,Fr.transition=c}}function xh(e,t,n,o){var a=ze,c=Fr.transition;Fr.transition=null;try{ze=4,Go(e,t,n,o)}finally{ze=a,Fr.transition=c}}function Go(e,t,n,o){if(ws){var a=Yo(e,t,n,o);if(a===null)hl(e,t,o,xs,n),yu(e,o);else if(yh(a,e,t,n,o))o.stopPropagation();else if(yu(e,o),t&4&&-1<vh.indexOf(e)){for(;a!==null;){var c=Ai(a);if(c!==null&&pu(c),c=Yo(e,t,n,o),c===null&&hl(e,t,o,xs,n),c===a)break;a=c}a!==null&&o.stopPropagation()}else hl(e,t,o,null,n)}}var xs=null;function Yo(e,t,n,o){if(xs=null,e=wn(o),e=wr(e),e!==null)if(t=se(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fs(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function xu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bo()){case yi:return 1;case Si:return 4;case Un:case Wo:return 16;case vs:return 536870912;default:return 16}default:return 16}}var Kn=null,Xo=null,Cs=null;function Cu(){if(Cs)return Cs;var e,t=Xo,n=t.length,o,a="value"in Kn?Kn.value:Kn.textContent,c=a.length;for(e=0;e<n&&t[e]===a[e];e++);var p=n-e;for(o=1;o<=p&&t[n-o]===a[c-o];o++);return Cs=a.slice(e,1<o?1-o:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function _u(){return!1}function bt(e){function t(n,o,a,c,p){this._reactName=n,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Es:_u,this.isPropagationStopped=_u,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=bt(Ur),Oi=q({},Ur,{view:0,detail:0}),Ch=bt(Oi),Zo,el,Ti,ks=q({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Zo=e.screenX-Ti.screenX,el=e.screenY-Ti.screenY):el=Zo=0,Ti=e),Zo)},movementY:function(e){return"movementY"in e?e.movementY:el}}),Eu=bt(ks),_h=q({},ks,{dataTransfer:0}),Eh=bt(_h),kh=q({},Oi,{relatedTarget:0}),tl=bt(kh),Oh=q({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Th=bt(Oh),Nh=q({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dh=bt(Nh),jh=q({},Ur,{data:0}),ku=bt(jh),Ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rh[e])?!!t[e]:!1}function nl(){return Ih}var Mh=q({},Oi,{key:function(e){if(e.key){var t=Ph[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bh=bt(Mh),Ah=q({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=bt(Ah),$h=q({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),zh=bt($h),Fh=q({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uh=bt(Fh),Bh=q({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wh=bt(Bh),Hh=[9,13,27,32],rl=g&&"CompositionEvent"in window,Ni=null;g&&"documentMode"in document&&(Ni=document.documentMode);var Vh=g&&"TextEvent"in window&&!Ni,Tu=g&&(!rl||Ni&&8<Ni&&11>=Ni),Nu=" ",Du=!1;function ju(e,t){switch(e){case"keyup":return Hh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function Kh(e,t){switch(e){case"compositionend":return Pu(t);case"keypress":return t.which!==32?null:(Du=!0,Nu);case"textInput":return e=t.data,e===Nu&&Du?null:e;default:return null}}function Qh(e,t){if(Br)return e==="compositionend"||!rl&&ju(e,t)?(e=Cu(),Cs=Xo=Kn=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tu&&t.locale!=="ko"?null:t.data;default:return null}}var qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qh[e.type]:t==="textarea"}function Ru(e,t,n,o){zn(o),t=js(t,"onChange"),0<t.length&&(n=new Jo("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Di=null,ji=null;function Gh(e){Xu(e,0)}function Os(e){var t=Qr(e);if(Ee(t))return e}function Yh(e,t){if(e==="change")return t}var Iu=!1;if(g){var il;if(g){var sl="oninput"in document;if(!sl){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),sl=typeof Mu.oninput=="function"}il=sl}else il=!1;Iu=il&&(!document.documentMode||9<document.documentMode)}function bu(){Di&&(Di.detachEvent("onpropertychange",Au),ji=Di=null)}function Au(e){if(e.propertyName==="value"&&Os(ji)){var t=[];Ru(t,ji,e,wn(e)),I(Gh,t)}}function Xh(e,t,n){e==="focusin"?(bu(),Di=t,ji=n,Di.attachEvent("onpropertychange",Au)):e==="focusout"&&bu()}function Jh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(ji)}function Zh(e,t){if(e==="click")return Os(t)}function ep(e,t){if(e==="input"||e==="change")return Os(t)}function tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:tp;function Pi(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var a=n[o];if(!m.call(t,a)||!en(e[a],t[a]))return!1}return!0}function $u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var n=$u(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$u(n)}}function Fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uu(){for(var e=window,t=ae();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ae(e.document)}return t}function ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function np(e){var t=Uu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fu(n.ownerDocument.documentElement,n)){if(o!==null&&ol(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=zu(n,c);var p=zu(n,o);a&&p&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rp=g&&"documentMode"in document&&11>=document.documentMode,Wr=null,ll=null,Li=null,al=!1;function Bu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;al||Wr==null||Wr!==ae(o)||(o=Wr,"selectionStart"in o&&ol(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Li&&Pi(Li,o)||(Li=o,o=js(ll,"onSelect"),0<o.length&&(t=new Jo("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Wr)))}function Ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hr={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},ul={},Wu={};g&&(Wu=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Ns(e){if(ul[e])return ul[e];if(!Hr[e])return e;var t=Hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wu)return ul[e]=t[n];return e}var Hu=Ns("animationend"),Vu=Ns("animationiteration"),Ku=Ns("animationstart"),Qu=Ns("transitionend"),qu=new Map,Gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){qu.set(e,t),f(t,[e])}for(var cl=0;cl<Gu.length;cl++){var fl=Gu[cl],ip=fl.toLowerCase(),sp=fl[0].toUpperCase()+fl.slice(1);Qn(ip,"on"+sp)}Qn(Hu,"onAnimationEnd"),Qn(Vu,"onAnimationIteration"),Qn(Ku,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Qu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Yu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,cs(o,t,void 0,e),e.currentTarget=null}function Xu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],a=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var p=o.length-1;0<=p;p--){var v=o[p],C=v.instance,R=v.currentTarget;if(v=v.listener,C!==c&&a.isPropagationStopped())break e;Yu(a,v,R),c=C}else for(p=0;p<o.length;p++){if(v=o[p],C=v.instance,R=v.currentTarget,v=v.listener,C!==c&&a.isPropagationStopped())break e;Yu(a,v,R),c=C}}}if(Ke)throw e=ht,Ke=!1,ht=null,e}function Be(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var o=e+"__bubble";n.has(o)||(Ju(t,e,2,!1),n.add(o))}function dl(e,t,n){var o=0;t&&(o|=4),Ju(n,e,o,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function Ii(e){if(!e[Ds]){e[Ds]=!0,l.forEach(function(n){n!=="selectionchange"&&(op.has(n)||dl(n,!1,e),dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,dl("selectionchange",!1,t))}}function Ju(e,t,n,o){switch(xu(t)){case 1:var a=wh;break;case 4:a=xh;break;default:a=Go}n=a.bind(null,t,n,e),a=void 0,!dt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function hl(e,t,n,o,a){var c=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===a||v.nodeType===8&&v.parentNode===a)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===a||C.nodeType===8&&C.parentNode===a))return;p=p.return}for(;v!==null;){if(p=wr(v),p===null)return;if(C=p.tag,C===5||C===6){o=c=p;continue e}v=v.parentNode}}o=o.return}I(function(){var R=c,B=wn(n),H=[];e:{var F=qu.get(e);if(F!==void 0){var X=Jo,ne=e;switch(e){case"keypress":if(_s(n)===0)break e;case"keydown":case"keyup":X=bh;break;case"focusin":ne="focus",X=tl;break;case"focusout":ne="blur",X=tl;break;case"beforeblur":case"afterblur":X=tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=zh;break;case Hu:case Vu:case Ku:X=Th;break;case Qu:X=Uh;break;case"scroll":X=Ch;break;case"wheel":X=Wh;break;case"copy":case"cut":case"paste":X=Dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ou}var oe=(t&4)!==0,tt=!oe&&e==="scroll",N=oe?F!==null?F+"Capture":null:F;oe=[];for(var E=R,D;E!==null;){D=E;var Q=D.stateNode;if(D.tag===5&&Q!==null&&(D=Q,N!==null&&(Q=Tt(E,N),Q!=null&&oe.push(Mi(E,Q,D)))),tt)break;E=E.return}0<oe.length&&(F=new X(F,ne,null,n,B),H.push({event:F,listeners:oe}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&n!==mr&&(ne=n.relatedTarget||n.fromElement)&&(wr(ne)||ne[_n]))break e;if((X||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,X?(ne=n.relatedTarget||n.toElement,X=R,ne=ne?wr(ne):null,ne!==null&&(tt=se(ne),ne!==tt||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(X=null,ne=R),X!==ne)){if(oe=Eu,Q="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Ou,Q="onPointerLeave",N="onPointerEnter",E="pointer"),tt=X==null?F:Qr(X),D=ne==null?F:Qr(ne),F=new oe(Q,E+"leave",X,n,B),F.target=tt,F.relatedTarget=D,Q=null,wr(B)===R&&(oe=new oe(N,E+"enter",ne,n,B),oe.target=D,oe.relatedTarget=tt,Q=oe),tt=Q,X&&ne)t:{for(oe=X,N=ne,E=0,D=oe;D;D=Vr(D))E++;for(D=0,Q=N;Q;Q=Vr(Q))D++;for(;0<E-D;)oe=Vr(oe),E--;for(;0<D-E;)N=Vr(N),D--;for(;E--;){if(oe===N||N!==null&&oe===N.alternate)break t;oe=Vr(oe),N=Vr(N)}oe=null}else oe=null;X!==null&&Zu(H,F,X,oe,!1),ne!==null&&tt!==null&&Zu(H,tt,ne,oe,!0)}}e:{if(F=R?Qr(R):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var le=Yh;else if(Lu(F))if(Iu)le=ep;else{le=Jh;var pe=Xh}else(X=F.nodeName)&&X.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(le=Zh);if(le&&(le=le(e,R))){Ru(H,le,n,B);break e}pe&&pe(e,F,R),e==="focusout"&&(pe=F._wrapperState)&&pe.controlled&&F.type==="number"&&pr(F,"number",F.value)}switch(pe=R?Qr(R):window,e){case"focusin":(Lu(pe)||pe.contentEditable==="true")&&(Wr=pe,ll=R,Li=null);break;case"focusout":Li=ll=Wr=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,Bu(H,n,B);break;case"selectionchange":if(rp)break;case"keydown":case"keyup":Bu(H,n,B)}var ge;if(rl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Br?ju(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(Tu&&n.locale!=="ko"&&(Br||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Br&&(ge=Cu()):(Kn=B,Xo="value"in Kn?Kn.value:Kn.textContent,Br=!0)),pe=js(R,ye),0<pe.length&&(ye=new ku(ye,e,null,n,B),H.push({event:ye,listeners:pe}),ge?ye.data=ge:(ge=Pu(n),ge!==null&&(ye.data=ge)))),(ge=Vh?Kh(e,n):Qh(e,n))&&(R=js(R,"onBeforeInput"),0<R.length&&(B=new ku("onBeforeInput","beforeinput",null,n,B),H.push({event:B,listeners:R}),B.data=ge))}Xu(H,t)})}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function js(e,t){for(var n=t+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Tt(e,n),c!=null&&o.unshift(Mi(e,c,a)),c=Tt(e,t),c!=null&&o.push(Mi(e,c,a))),e=e.return}return o}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,n,o,a){for(var c=t._reactName,p=[];n!==null&&n!==o;){var v=n,C=v.alternate,R=v.stateNode;if(C!==null&&C===o)break;v.tag===5&&R!==null&&(v=R,a?(C=Tt(n,c),C!=null&&p.unshift(Mi(n,C,v))):a||(C=Tt(n,c),C!=null&&p.push(Mi(n,C,v)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var lp=/\r\n?/g,ap=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(ap,"")}function Ps(e,t,n){if(t=ec(t),ec(e)!==t&&n)throw Error(i(425))}function Ls(){}var pl=null,gl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(fp)}:vl;function fp(e){setTimeout(function(){throw e})}function yl(e,t){var n=t,o=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(o===0){e.removeChild(a),ki(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=a}while(n);ki(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Kr,bi="__reactProps$"+Kr,_n="__reactContainer$"+Kr,Sl="__reactEvents$"+Kr,dp="__reactListeners$"+Kr,hp="__reactHandles$"+Kr;function wr(e){var t=e[dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nc(e);e!==null;){if(n=e[dn])return n;e=nc(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[dn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Rs(e){return e[bi]||null}var wl=[],qr=-1;function Gn(e){return{current:e}}function We(e){0>qr||(e.current=wl[qr],wl[qr]=null,qr--)}function Ue(e,t){qr++,wl[qr]=e.current,e.current=t}var Yn={},St=Gn(Yn),Nt=Gn(!1),xr=Yn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return Yn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in n)a[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Dt(e){return e=e.childContextTypes,e!=null}function Is(){We(Nt),We(St)}function rc(e,t,n){if(St.current!==Yn)throw Error(i(168));Ue(St,t),Ue(Nt,n)}function ic(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(i(108,J(e)||"Unknown",a));return q({},n,o)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,xr=St.current,Ue(St,e),Ue(Nt,Nt.current),!0}function sc(e,t,n){var o=e.stateNode;if(!o)throw Error(i(169));n?(e=ic(e,t,xr),o.__reactInternalMemoizedMergedChildContext=e,We(Nt),We(St),Ue(St,e)):We(Nt),Ue(Nt,n)}var En=null,bs=!1,xl=!1;function oc(e){En===null?En=[e]:En.push(e)}function pp(e){bs=!0,oc(e)}function Xn(){if(!xl&&En!==null){xl=!0;var e=0,t=ze;try{var n=En;for(ze=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}En=null,bs=!1}catch(a){throw En!==null&&(En=En.slice(e+1)),hs(yi,Xn),a}finally{ze=t,xl=!1}}return null}var Yr=[],Xr=0,As=null,$s=0,Ht=[],Vt=0,Cr=null,kn=1,On="";function _r(e,t){Yr[Xr++]=$s,Yr[Xr++]=As,As=e,$s=t}function lc(e,t,n){Ht[Vt++]=kn,Ht[Vt++]=On,Ht[Vt++]=Cr,Cr=e;var o=kn;e=On;var a=32-T(o)-1;o&=~(1<<a),n+=1;var c=32-T(t)+a;if(30<c){var p=a-a%5;c=(o&(1<<p)-1).toString(32),o>>=p,a-=p,kn=1<<32-T(t)+a|n<<a|o,On=c+e}else kn=1<<c|n<<a|o,On=e}function Cl(e){e.return!==null&&(_r(e,1),lc(e,1,0))}function _l(e){for(;e===As;)As=Yr[--Xr],Yr[Xr]=null,$s=Yr[--Xr],Yr[Xr]=null;for(;e===Cr;)Cr=Ht[--Vt],Ht[Vt]=null,On=Ht[--Vt],Ht[Vt]=null,kn=Ht[--Vt],Ht[Vt]=null}var At=null,$t=null,Qe=!1,tn=null;function ac(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,$t=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:kn,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,$t=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kl(e){if(Qe){var t=$t;if(t){var n=t;if(!uc(e,t)){if(El(e))throw Error(i(418));t=qn(n.nextSibling);var o=At;t&&uc(e,t)?ac(o,n):(e.flags=e.flags&-4097|2,Qe=!1,At=e)}}else{if(El(e))throw Error(i(418));e.flags=e.flags&-4097|2,Qe=!1,At=e}}}function cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function zs(e){if(e!==At)return!1;if(!Qe)return cc(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=$t)){if(El(e))throw fc(),Error(i(418));for(;t;)ac(e,t),t=qn(t.nextSibling)}if(cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=At?qn(e.stateNode.nextSibling):null;return!0}function fc(){for(var e=$t;e;)e=qn(e.nextSibling)}function Jr(){$t=At=null,Qe=!1}function Ol(e){tn===null?tn=[e]:tn.push(e)}var gp=G.ReactCurrentBatchConfig;function $i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var a=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(p){var v=a.refs;p===null?delete v[c]:v[c]=p},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dc(e){var t=e._init;return t(e._payload)}function hc(e){function t(N,E){if(e){var D=N.deletions;D===null?(N.deletions=[E],N.flags|=16):D.push(E)}}function n(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function o(N,E){for(N=new Map;E!==null;)E.key!==null?N.set(E.key,E):N.set(E.index,E),E=E.sibling;return N}function a(N,E){return N=sr(N,E),N.index=0,N.sibling=null,N}function c(N,E,D){return N.index=D,e?(D=N.alternate,D!==null?(D=D.index,D<E?(N.flags|=2,E):D):(N.flags|=2,E)):(N.flags|=1048576,E)}function p(N){return e&&N.alternate===null&&(N.flags|=2),N}function v(N,E,D,Q){return E===null||E.tag!==6?(E=va(D,N.mode,Q),E.return=N,E):(E=a(E,D),E.return=N,E)}function C(N,E,D,Q){var le=D.type;return le===be?B(N,E,D.props.children,Q,D.key):E!==null&&(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&dc(le)===E.type)?(Q=a(E,D.props),Q.ref=$i(N,E,D),Q.return=N,Q):(Q=co(D.type,D.key,D.props,null,N.mode,Q),Q.ref=$i(N,E,D),Q.return=N,Q)}function R(N,E,D,Q){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=ya(D,N.mode,Q),E.return=N,E):(E=a(E,D.children||[]),E.return=N,E)}function B(N,E,D,Q,le){return E===null||E.tag!==7?(E=Pr(D,N.mode,Q,le),E.return=N,E):(E=a(E,D),E.return=N,E)}function H(N,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return E=va(""+E,N.mode,D),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case de:return D=co(E.type,E.key,E.props,null,N.mode,D),D.ref=$i(N,null,E),D.return=N,D;case _e:return E=ya(E,N.mode,D),E.return=N,E;case Y:var Q=E._init;return H(N,Q(E._payload),D)}if(an(E)||te(E))return E=Pr(E,N.mode,D,null),E.return=N,E;Fs(N,E)}return null}function F(N,E,D,Q){var le=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return le!==null?null:v(N,E,""+D,Q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case de:return D.key===le?C(N,E,D,Q):null;case _e:return D.key===le?R(N,E,D,Q):null;case Y:return le=D._init,F(N,E,le(D._payload),Q)}if(an(D)||te(D))return le!==null?null:B(N,E,D,Q,null);Fs(N,D)}return null}function X(N,E,D,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return N=N.get(D)||null,v(E,N,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case de:return N=N.get(Q.key===null?D:Q.key)||null,C(E,N,Q,le);case _e:return N=N.get(Q.key===null?D:Q.key)||null,R(E,N,Q,le);case Y:var pe=Q._init;return X(N,E,D,pe(Q._payload),le)}if(an(Q)||te(Q))return N=N.get(D)||null,B(E,N,Q,le,null);Fs(E,Q)}return null}function ne(N,E,D,Q){for(var le=null,pe=null,ge=E,ye=E=0,ut=null;ge!==null&&ye<D.length;ye++){ge.index>ye?(ut=ge,ge=null):ut=ge.sibling;var Me=F(N,ge,D[ye],Q);if(Me===null){ge===null&&(ge=ut);break}e&&ge&&Me.alternate===null&&t(N,ge),E=c(Me,E,ye),pe===null?le=Me:pe.sibling=Me,pe=Me,ge=ut}if(ye===D.length)return n(N,ge),Qe&&_r(N,ye),le;if(ge===null){for(;ye<D.length;ye++)ge=H(N,D[ye],Q),ge!==null&&(E=c(ge,E,ye),pe===null?le=ge:pe.sibling=ge,pe=ge);return Qe&&_r(N,ye),le}for(ge=o(N,ge);ye<D.length;ye++)ut=X(ge,N,ye,D[ye],Q),ut!==null&&(e&&ut.alternate!==null&&ge.delete(ut.key===null?ye:ut.key),E=c(ut,E,ye),pe===null?le=ut:pe.sibling=ut,pe=ut);return e&&ge.forEach(function(or){return t(N,or)}),Qe&&_r(N,ye),le}function oe(N,E,D,Q){var le=te(D);if(typeof le!="function")throw Error(i(150));if(D=le.call(D),D==null)throw Error(i(151));for(var pe=le=null,ge=E,ye=E=0,ut=null,Me=D.next();ge!==null&&!Me.done;ye++,Me=D.next()){ge.index>ye?(ut=ge,ge=null):ut=ge.sibling;var or=F(N,ge,Me.value,Q);if(or===null){ge===null&&(ge=ut);break}e&&ge&&or.alternate===null&&t(N,ge),E=c(or,E,ye),pe===null?le=or:pe.sibling=or,pe=or,ge=ut}if(Me.done)return n(N,ge),Qe&&_r(N,ye),le;if(ge===null){for(;!Me.done;ye++,Me=D.next())Me=H(N,Me.value,Q),Me!==null&&(E=c(Me,E,ye),pe===null?le=Me:pe.sibling=Me,pe=Me);return Qe&&_r(N,ye),le}for(ge=o(N,ge);!Me.done;ye++,Me=D.next())Me=X(ge,N,ye,Me.value,Q),Me!==null&&(e&&Me.alternate!==null&&ge.delete(Me.key===null?ye:Me.key),E=c(Me,E,ye),pe===null?le=Me:pe.sibling=Me,pe=Me);return e&&ge.forEach(function(qp){return t(N,qp)}),Qe&&_r(N,ye),le}function tt(N,E,D,Q){if(typeof D=="object"&&D!==null&&D.type===be&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case de:e:{for(var le=D.key,pe=E;pe!==null;){if(pe.key===le){if(le=D.type,le===be){if(pe.tag===7){n(N,pe.sibling),E=a(pe,D.props.children),E.return=N,N=E;break e}}else if(pe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&dc(le)===pe.type){n(N,pe.sibling),E=a(pe,D.props),E.ref=$i(N,pe,D),E.return=N,N=E;break e}n(N,pe);break}else t(N,pe);pe=pe.sibling}D.type===be?(E=Pr(D.props.children,N.mode,Q,D.key),E.return=N,N=E):(Q=co(D.type,D.key,D.props,null,N.mode,Q),Q.ref=$i(N,E,D),Q.return=N,N=Q)}return p(N);case _e:e:{for(pe=D.key;E!==null;){if(E.key===pe)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){n(N,E.sibling),E=a(E,D.children||[]),E.return=N,N=E;break e}else{n(N,E);break}else t(N,E);E=E.sibling}E=ya(D,N.mode,Q),E.return=N,N=E}return p(N);case Y:return pe=D._init,tt(N,E,pe(D._payload),Q)}if(an(D))return ne(N,E,D,Q);if(te(D))return oe(N,E,D,Q);Fs(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,E!==null&&E.tag===6?(n(N,E.sibling),E=a(E,D),E.return=N,N=E):(n(N,E),E=va(D,N.mode,Q),E.return=N,N=E),p(N)):n(N,E)}return tt}var Zr=hc(!0),pc=hc(!1),Us=Gn(null),Bs=null,ei=null,Tl=null;function Nl(){Tl=ei=Bs=null}function Dl(e){var t=Us.current;We(Us),e._currentValue=t}function jl(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function ti(e,t){Bs=e,Tl=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(jt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(Tl!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(Bs===null)throw Error(i(308));ei=e,Bs.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var Er=null;function Pl(e){Er===null?Er=[e]:Er.push(e)}function gc(e,t,n,o){var a=t.interleaved;return a===null?(n.next=n,Pl(t)):(n.next=a.next,a.next=n),t.interleaved=n,Tn(e,o)}function Tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jn=!1;function Ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Re&2)!==0){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,Tn(e,n)}return a=o.interleaved,a===null?(t.next=t,Pl(o)):(t.next=a.next,a.next=t),o.interleaved=t,Tn(e,n)}function Ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Ko(e,n)}}function vc(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var a=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?a=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?a=c=t:c=c.next=t}else a=c=t;n={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,o){var a=e.updateQueue;Jn=!1;var c=a.firstBaseUpdate,p=a.lastBaseUpdate,v=a.shared.pending;if(v!==null){a.shared.pending=null;var C=v,R=C.next;C.next=null,p===null?c=R:p.next=R,p=C;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==p&&(v===null?B.firstBaseUpdate=R:v.next=R,B.lastBaseUpdate=C))}if(c!==null){var H=a.baseState;p=0,B=R=C=null,v=c;do{var F=v.lane,X=v.eventTime;if((o&F)===F){B!==null&&(B=B.next={eventTime:X,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var ne=e,oe=v;switch(F=t,X=n,oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){H=ne.call(X,H,F);break e}H=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,F=typeof ne=="function"?ne.call(X,H,F):ne,F==null)break e;H=q({},H,F);break e;case 2:Jn=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,F=a.effects,F===null?a.effects=[v]:F.push(v))}else X={eventTime:X,lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(R=B=X,C=H):B=B.next=X,p|=F;if(v=v.next,v===null){if(v=a.shared.pending,v===null)break;F=v,v=F.next,F.next=null,a.lastBaseUpdate=F,a.shared.pending=null}}while(!0);if(B===null&&(C=H),a.baseState=C,a.firstBaseUpdate=R,a.lastBaseUpdate=B,t=a.shared.interleaved,t!==null){a=t;do p|=a.lane,a=a.next;while(a!==t)}else c===null&&(a.shared.lanes=0);Tr|=p,e.lanes=p,e.memoizedState=H}}function yc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=n,typeof a!="function")throw Error(i(191,a));a.call(o)}}}var zi={},hn=Gn(zi),Fi=Gn(zi),Ui=Gn(zi);function kr(e){if(e===zi)throw Error(i(174));return e}function Rl(e,t){switch(Ue(Ui,t),Ue(Fi,e),Ue(hn,zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zt(t,e)}We(hn),Ue(hn,t)}function ni(){We(hn),We(Fi),We(Ui)}function Sc(e){kr(Ui.current);var t=kr(hn.current),n=Zt(t,e.type);t!==n&&(Ue(Fi,e),Ue(hn,n))}function Il(e){Fi.current===e&&(We(hn),We(Fi))}var Ye=Gn(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function bl(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Ks=G.ReactCurrentDispatcher,Al=G.ReactCurrentBatchConfig,Or=0,Xe=null,it=null,lt=null,Qs=!1,Bi=!1,Wi=0,mp=0;function wt(){throw Error(i(321))}function $l(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function zl(e,t,n,o,a,c){if(Or=c,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ks.current=e===null||e.memoizedState===null?wp:xp,e=n(o,a),Bi){c=0;do{if(Bi=!1,Wi=0,25<=c)throw Error(i(301));c+=1,lt=it=null,t.updateQueue=null,Ks.current=Cp,e=n(o,a)}while(Bi)}if(Ks.current=Ys,t=it!==null&&it.next!==null,Or=0,lt=it=Xe=null,Qs=!1,t)throw Error(i(300));return e}function Fl(){var e=Wi!==0;return Wi=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Xe.memoizedState=lt=e:lt=lt.next=e,lt}function Qt(){if(it===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=lt===null?Xe.memoizedState:lt.next;if(t!==null)lt=t,it=e;else{if(e===null)throw Error(i(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?Xe.memoizedState=lt=e:lt=lt.next=e}return lt}function Hi(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=it,a=o.baseQueue,c=n.pending;if(c!==null){if(a!==null){var p=a.next;a.next=c.next,c.next=p}o.baseQueue=a=c,n.pending=null}if(a!==null){c=a.next,o=o.baseState;var v=p=null,C=null,R=c;do{var B=R.lane;if((Or&B)===B)C!==null&&(C=C.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),o=R.hasEagerState?R.eagerState:e(o,R.action);else{var H={lane:B,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};C===null?(v=C=H,p=o):C=C.next=H,Xe.lanes|=B,Tr|=B}R=R.next}while(R!==null&&R!==c);C===null?p=o:C.next=v,en(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=C,n.lastRenderedState=o}if(e=n.interleaved,e!==null){a=e;do c=a.lane,Xe.lanes|=c,Tr|=c,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bl(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,a=n.pending,c=t.memoizedState;if(a!==null){n.pending=null;var p=a=a.next;do c=e(c,p.action),p=p.next;while(p!==a);en(c,t.memoizedState)||(jt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,o]}function wc(){}function xc(e,t){var n=Xe,o=Qt(),a=t(),c=!en(o.memoizedState,a);if(c&&(o.memoizedState=a,jt=!0),o=o.queue,Wl(Ec.bind(null,n,o,e),[e]),o.getSnapshot!==t||c||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Vi(9,_c.bind(null,n,o,a,t),void 0,null),at===null)throw Error(i(349));(Or&30)!==0||Cc(n,t,a)}return a}function Cc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _c(e,t,n,o){t.value=n,t.getSnapshot=o,kc(t)&&Oc(e)}function Ec(e,t,n){return n(function(){kc(t)&&Oc(e)})}function kc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function Oc(e){var t=Tn(e,1);t!==null&&on(t,e,1,-1)}function Tc(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Sp.bind(null,Xe,e),[t.memoizedState,e]}function Vi(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Nc(){return Qt().memoizedState}function qs(e,t,n,o){var a=pn();Xe.flags|=e,a.memoizedState=Vi(1|t,n,void 0,o===void 0?null:o)}function Gs(e,t,n,o){var a=Qt();o=o===void 0?null:o;var c=void 0;if(it!==null){var p=it.memoizedState;if(c=p.destroy,o!==null&&$l(o,p.deps)){a.memoizedState=Vi(t,n,c,o);return}}Xe.flags|=e,a.memoizedState=Vi(1|t,n,c,o)}function Dc(e,t){return qs(8390656,8,e,t)}function Wl(e,t){return Gs(2048,8,e,t)}function jc(e,t){return Gs(4,2,e,t)}function Pc(e,t){return Gs(4,4,e,t)}function Lc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rc(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4,4,Lc.bind(null,t,e),n)}function Hl(){}function Ic(e,t){var n=Qt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&$l(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Mc(e,t){var n=Qt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&$l(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function bc(e,t,n){return(Or&21)===0?(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n):(en(n,t)||(n=du(),Xe.lanes|=n,Tr|=n,e.baseState=!0),t)}function vp(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var o=Al.transition;Al.transition={};try{e(!1),t()}finally{ze=n,Al.transition=o}}function Ac(){return Qt().memoizedState}function yp(e,t,n){var o=rr(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},$c(e))zc(t,n);else if(n=gc(e,t,n,o),n!==null){var a=kt();on(n,e,o,a),Fc(n,t,o)}}function Sp(e,t,n){var o=rr(e),a={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if($c(e))zc(t,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,v=c(p,n);if(a.hasEagerState=!0,a.eagerState=v,en(v,p)){var C=t.interleaved;C===null?(a.next=a,Pl(t)):(a.next=C.next,C.next=a),t.interleaved=a;return}}catch{}finally{}n=gc(e,t,a,o),n!==null&&(a=kt(),on(n,e,o,a),Fc(n,t,o))}}function $c(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function zc(e,t){Bi=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Ko(e,n)}}var Ys={readContext:Kt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},wp={readContext:Kt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qs(4194308,4,Lc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=pn();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=yp.bind(null,Xe,e),[o.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:Hl,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=vp.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Xe,a=pn();if(Qe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),at===null)throw Error(i(349));(Or&30)!==0||Cc(o,t,n)}a.memoizedState=n;var c={value:n,getSnapshot:t};return a.queue=c,Dc(Ec.bind(null,o,c,e),[e]),o.flags|=2048,Vi(9,_c.bind(null,o,c,n,t),void 0,null),n},useId:function(){var e=pn(),t=at.identifierPrefix;if(Qe){var n=On,o=kn;n=(o&~(1<<32-T(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xp={readContext:Kt,useCallback:Ic,useContext:Kt,useEffect:Wl,useImperativeHandle:Rc,useInsertionEffect:jc,useLayoutEffect:Pc,useMemo:Mc,useReducer:Ul,useRef:Nc,useState:function(){return Ul(Hi)},useDebugValue:Hl,useDeferredValue:function(e){var t=Qt();return bc(t,it.memoizedState,e)},useTransition:function(){var e=Ul(Hi)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:wc,useSyncExternalStore:xc,useId:Ac,unstable_isNewReconciler:!1},Cp={readContext:Kt,useCallback:Ic,useContext:Kt,useEffect:Wl,useImperativeHandle:Rc,useInsertionEffect:jc,useLayoutEffect:Pc,useMemo:Mc,useReducer:Bl,useRef:Nc,useState:function(){return Bl(Hi)},useDebugValue:Hl,useDeferredValue:function(e){var t=Qt();return it===null?t.memoizedState=e:bc(t,it.memoizedState,e)},useTransition:function(){var e=Bl(Hi)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:wc,useSyncExternalStore:xc,useId:Ac,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={isMounted:function(e){return(e=e._reactInternals)?se(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=kt(),a=rr(e),c=Nn(o,a);c.payload=t,n!=null&&(c.callback=n),t=Zn(e,c,a),t!==null&&(on(t,e,a,o),Ws(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=kt(),a=rr(e),c=Nn(o,a);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Zn(e,c,a),t!==null&&(on(t,e,a,o),Ws(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),o=rr(e),a=Nn(n,o);a.tag=2,t!=null&&(a.callback=t),t=Zn(e,a,o),t!==null&&(on(t,e,o,n),Ws(t,e,o))}};function Uc(e,t,n,o,a,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,p):t.prototype&&t.prototype.isPureReactComponent?!Pi(n,o)||!Pi(a,c):!0}function Bc(e,t,n){var o=!1,a=Yn,c=t.contextType;return typeof c=="object"&&c!==null?c=Kt(c):(a=Dt(t)?xr:St.current,o=t.contextTypes,c=(o=o!=null)?Gr(e,a):Yn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),t}function Wc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function Kl(e,t,n,o){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ll(e);var c=t.contextType;typeof c=="object"&&c!==null?a.context=Kt(c):(c=Dt(t)?xr:St.current,a.context=Gr(e,c)),a.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Vl(e,t,c,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xs.enqueueReplaceState(a,a.state,null),Hs(e,n,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ri(e,t){try{var n="",o=t;do n+=Se(o),o=o.return;while(o);var a=n}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:a,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ql(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _p=typeof WeakMap=="function"?WeakMap:Map;function Hc(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){io||(io=!0,ua=o),ql(e,t)},n}function Vc(e,t,n){n=Nn(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;n.payload=function(){return o(a)},n.callback=function(){ql(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){ql(e,t),typeof o!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Kc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new _p;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(n)||(a.add(n),e=Ap.bind(null,e,t,n),t.then(e,e))}function Qc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qc(e,t,n,o,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,Zn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Ep=G.ReactCurrentOwner,jt=!1;function Et(e,t,n,o){t.child=e===null?pc(t,null,n,o):Zr(t,e.child,n,o)}function Gc(e,t,n,o,a){n=n.render;var c=t.ref;return ti(t,a),o=zl(e,t,n,o,c,a),n=Fl(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dn(e,t,a)):(Qe&&n&&Cl(t),t.flags|=1,Et(e,t,o,a),t.child)}function Yc(e,t,n,o,a){if(e===null){var c=n.type;return typeof c=="function"&&!ma(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Xc(e,t,c,o,a)):(e=co(n.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&a)===0){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:Pi,n(p,o)&&e.ref===t.ref)return Dn(e,t,a)}return t.flags|=1,e=sr(c,o),e.ref=t.ref,e.return=t,t.child=e}function Xc(e,t,n,o,a){if(e!==null){var c=e.memoizedProps;if(Pi(c,o)&&e.ref===t.ref)if(jt=!1,t.pendingProps=o=c,(e.lanes&a)!==0)(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,Dn(e,t,a)}return Gl(e,t,n,o,a)}function Jc(e,t,n){var o=t.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(si,zt),zt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(si,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,Ue(si,zt),zt|=o}else c!==null?(o=c.baseLanes|n,t.memoizedState=null):o=n,Ue(si,zt),zt|=o;return Et(e,t,a,n),t.child}function Zc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gl(e,t,n,o,a){var c=Dt(n)?xr:St.current;return c=Gr(t,c),ti(t,a),n=zl(e,t,n,o,c,a),o=Fl(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dn(e,t,a)):(Qe&&o&&Cl(t),t.flags|=1,Et(e,t,n,a),t.child)}function ef(e,t,n,o,a){if(Dt(n)){var c=!0;Ms(t)}else c=!1;if(ti(t,a),t.stateNode===null)Zs(e,t),Bc(t,n,o),Kl(t,n,o,a),o=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var C=p.context,R=n.contextType;typeof R=="object"&&R!==null?R=Kt(R):(R=Dt(n)?xr:St.current,R=Gr(t,R));var B=n.getDerivedStateFromProps,H=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function";H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==o||C!==R)&&Wc(t,p,o,R),Jn=!1;var F=t.memoizedState;p.state=F,Hs(t,o,p,a),C=t.memoizedState,v!==o||F!==C||Nt.current||Jn?(typeof B=="function"&&(Vl(t,n,B,o),C=t.memoizedState),(v=Jn||Uc(t,n,v,o,F,C,R))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),p.props=o,p.state=C,p.context=R,o=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,mc(e,t),v=t.memoizedProps,R=t.type===t.elementType?v:nn(t.type,v),p.props=R,H=t.pendingProps,F=p.context,C=n.contextType,typeof C=="object"&&C!==null?C=Kt(C):(C=Dt(n)?xr:St.current,C=Gr(t,C));var X=n.getDerivedStateFromProps;(B=typeof X=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==H||F!==C)&&Wc(t,p,o,C),Jn=!1,F=t.memoizedState,p.state=F,Hs(t,o,p,a);var ne=t.memoizedState;v!==H||F!==ne||Nt.current||Jn?(typeof X=="function"&&(Vl(t,n,X,o),ne=t.memoizedState),(R=Jn||Uc(t,n,R,o,F,ne,C)||!1)?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,ne,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,ne,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=ne),p.props=o,p.state=ne,p.context=C,o=R):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),o=!1)}return Yl(e,t,n,o,c,a)}function Yl(e,t,n,o,a,c){Zc(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return a&&sc(t,n,!1),Dn(e,t,c);o=t.stateNode,Ep.current=t;var v=p&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=Zr(t,e.child,null,c),t.child=Zr(t,null,v,c)):Et(e,t,v,c),t.memoizedState=o.state,a&&sc(t,n,!0),t.child}function tf(e){var t=e.stateNode;t.pendingContext?rc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rc(e,t.context,!1),Rl(e,t.containerInfo)}function nf(e,t,n,o,a){return Jr(),Ol(a),t.flags|=256,Et(e,t,n,o),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,n){var o=t.pendingProps,a=Ye.current,c=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(a&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ue(Ye,a&1),e===null)return kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,c?(o=t.mode,c=t.child,p={mode:"hidden",children:p},(o&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=p):c=fo(p,o,0,null),e=Pr(e,o,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Jl(n),t.memoizedState=Xl,e):Zl(t,p));if(a=e.memoizedState,a!==null&&(v=a.dehydrated,v!==null))return kp(e,t,p,o,v,a,n);if(c){c=o.fallback,p=t.mode,a=e.child,v=a.sibling;var C={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=sr(a,C),o.subtreeFlags=a.subtreeFlags&14680064),v!==null?c=sr(v,c):(c=Pr(c,p,n,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,p=e.child.memoizedState,p=p===null?Jl(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=e.childLanes&~n,t.memoizedState=Xl,o}return c=e.child,e=c.sibling,o=sr(c,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Zl(e,t){return t=fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Js(e,t,n,o){return o!==null&&Ol(o),Zr(t,e.child,null,n),e=Zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kp(e,t,n,o,a,c,p){if(n)return t.flags&256?(t.flags&=-257,o=Ql(Error(i(422))),Js(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,a=t.mode,o=fo({mode:"visible",children:o.children},a,0,null),c=Pr(c,a,p,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,(t.mode&1)!==0&&Zr(t,e.child,null,p),t.child.memoizedState=Jl(p),t.memoizedState=Xl,c);if((t.mode&1)===0)return Js(e,t,p,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var v=o.dgst;return o=v,c=Error(i(419)),o=Ql(c,o,void 0),Js(e,t,p,o)}if(v=(p&e.childLanes)!==0,jt||v){if(o=at,o!==null){switch(p&-p){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(o.suspendedLanes|p))!==0?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Tn(e,a),on(o,e,a,-1))}return ga(),o=Ql(Error(i(421))),Js(e,t,p,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$p.bind(null,e),a._reactRetry=t,null):(e=c.treeContext,$t=qn(a.nextSibling),At=t,Qe=!0,tn=null,e!==null&&(Ht[Vt++]=kn,Ht[Vt++]=On,Ht[Vt++]=Cr,kn=e.id,On=e.overflow,Cr=t),t=Zl(t,o.children),t.flags|=4096,t)}function sf(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),jl(e.return,t,n)}function ea(e,t,n,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:a}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=a)}function of(e,t,n){var o=t.pendingProps,a=o.revealOrder,c=o.tail;if(Et(e,t,o.children,n),o=Ye.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,n,t);else if(e.tag===19)sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ue(Ye,o),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Vs(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ea(t,!1,a,n,c);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vs(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ea(t,!0,n,null,c);break;case"together":ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=sr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Op(e,t,n){switch(t.tag){case 3:tf(t),Jr();break;case 5:Sc(t);break;case 1:Dt(t.type)&&Ms(t);break;case 4:Rl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;Ue(Us,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ue(Ye,Ye.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?rf(e,t,n):(Ue(Ye,Ye.current&1),e=Dn(e,t,n),e!==null?e.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return of(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ue(Ye,Ye.current),o)break;return null;case 22:case 23:return t.lanes=0,Jc(e,t,n)}return Dn(e,t,n)}var lf,ta,af,uf;lf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ta=function(){},af=function(e,t,n,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,kr(hn.current);var c=null;switch(n){case"input":a=$e(e,a),o=$e(e,o),c=[];break;case"select":a=q({},a,{value:void 0}),o=q({},o,{value:void 0}),c=[];break;case"textarea":a=mn(e,a),o=mn(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ls)}gr(n,o);var p;n=null;for(R in a)if(!o.hasOwnProperty(R)&&a.hasOwnProperty(R)&&a[R]!=null)if(R==="style"){var v=a[R];for(p in v)v.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(u.hasOwnProperty(R)?c||(c=[]):(c=c||[]).push(R,null));for(R in o){var C=o[R];if(v=a!=null?a[R]:void 0,o.hasOwnProperty(R)&&C!==v&&(C!=null||v!=null))if(R==="style")if(v){for(p in v)!v.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in C)C.hasOwnProperty(p)&&v[p]!==C[p]&&(n||(n={}),n[p]=C[p])}else n||(c||(c=[]),c.push(R,n)),n=C;else R==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(c=c||[]).push(R,C)):R==="children"?typeof C!="string"&&typeof C!="number"||(c=c||[]).push(R,""+C):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(u.hasOwnProperty(R)?(C!=null&&R==="onScroll"&&Be("scroll",e),c||v===C||(c=[])):(c=c||[]).push(R,C))}n&&(c=c||[]).push("style",n);var R=c;(t.updateQueue=R)&&(t.flags|=4)}},uf=function(e,t,n,o){n!==o&&(t.flags|=4)};function Ki(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Tp(e,t,n){var o=t.pendingProps;switch(_l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return Dt(t.type)&&Is(),xt(t),null;case 3:return o=t.stateNode,ni(),We(Nt),We(St),bl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tn!==null&&(da(tn),tn=null))),ta(e,t),xt(t),null;case 5:Il(t);var a=kr(Ui.current);if(n=t.type,e!==null&&t.stateNode!=null)af(e,t,n,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return xt(t),null}if(e=kr(hn.current),zs(t)){o=t.stateNode,n=t.type;var c=t.memoizedProps;switch(o[dn]=t,o[bi]=c,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(a=0;a<Ri.length;a++)Be(Ri[a],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":ft(o,c),Be("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Be("invalid",o);break;case"textarea":Rn(o,c),Be("invalid",o)}gr(n,c),a=null;for(var p in c)if(c.hasOwnProperty(p)){var v=c[p];p==="children"?typeof v=="string"?o.textContent!==v&&(c.suppressHydrationWarning!==!0&&Ps(o.textContent,v,e),a=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&Ps(o.textContent,v,e),a=["children",""+v]):u.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&Be("scroll",o)}switch(n){case"input":ie(o),Jt(o,c,!0);break;case"textarea":ie(o),It(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Ls)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(n,{is:o.is}):(e=p.createElement(n),n==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,n),e[dn]=t,e[bi]=o,lf(e,t,!1,!1),t.stateNode=e;e:{switch(p=$n(n,o),n){case"dialog":Be("cancel",e),Be("close",e),a=o;break;case"iframe":case"object":case"embed":Be("load",e),a=o;break;case"video":case"audio":for(a=0;a<Ri.length;a++)Be(Ri[a],e);a=o;break;case"source":Be("error",e),a=o;break;case"img":case"image":case"link":Be("error",e),Be("load",e),a=o;break;case"details":Be("toggle",e),a=o;break;case"input":ft(e,o),a=$e(e,o),Be("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=q({},o,{value:void 0}),Be("invalid",e);break;case"textarea":Rn(e,o),a=mn(e,o),Be("invalid",e);break;default:a=o}gr(n,a),v=a;for(c in v)if(v.hasOwnProperty(c)){var C=v[c];c==="style"?Sn(e,C):c==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Ar(e,C)):c==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&vn(e,C):typeof C=="number"&&vn(e,""+C):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(u.hasOwnProperty(c)?C!=null&&c==="onScroll"&&Be("scroll",e):C!=null&&z(e,c,C,p))}switch(n){case"input":ie(e),Jt(e,o,!1);break;case"textarea":ie(e),It(e);break;case"option":o.value!=null&&e.setAttribute("value",""+xe(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?un(e,!!o.multiple,c,!1):o.defaultValue!=null&&un(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ls)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)uf(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(n=kr(Ui.current),kr(hn.current),zs(t)){if(o=t.stateNode,n=t.memoizedProps,o[dn]=t,(c=o.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:Ps(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(o.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[dn]=t,t.stateNode=o}return xt(t),null;case 13:if(We(Ye),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&$t!==null&&(t.mode&1)!==0&&(t.flags&128)===0)fc(),Jr(),t.flags|=98560,c=!1;else if(c=zs(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[dn]=t}else Jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),c=!1}else tn!==null&&(da(tn),tn=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?st===0&&(st=3):ga())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return ni(),ta(e,t),e===null&&Ii(t.stateNode.containerInfo),xt(t),null;case 10:return Dl(t.type._context),xt(t),null;case 17:return Dt(t.type)&&Is(),xt(t),null;case 19:if(We(Ye),c=t.memoizedState,c===null)return xt(t),null;if(o=(t.flags&128)!==0,p=c.rendering,p===null)if(o)Ki(c,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Vs(e),p!==null){for(t.flags|=128,Ki(c,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)c=n,e=o,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,e=p.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ge()>oi&&(t.flags|=128,o=!0,Ki(c,!1),t.lanes=4194304)}else{if(!o)if(e=Vs(p),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ki(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Qe)return xt(t),null}else 2*Ge()-c.renderingStartTime>oi&&n!==1073741824&&(t.flags|=128,o=!0,Ki(c,!1),t.lanes=4194304);c.isBackwards?(p.sibling=t.child,t.child=p):(n=c.last,n!==null?n.sibling=p:t.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ge(),t.sibling=null,n=Ye.current,Ue(Ye,o?n&1|2:n&1),t):(xt(t),null);case 22:case 23:return pa(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(zt&1073741824)!==0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Np(e,t){switch(_l(t),t.tag){case 1:return Dt(t.type)&&Is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ni(),We(Nt),We(St),bl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(We(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ye),null;case 4:return ni(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return pa(),null;case 24:return null;default:return null}}var eo=!1,Ct=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ze(e,t,o)}else n.current=null}function na(e,t,n){try{n()}catch(o){Ze(e,t,o)}}var cf=!1;function jp(e,t){if(pl=ws,e=Uu(),ol(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,v=-1,C=-1,R=0,B=0,H=e,F=null;t:for(;;){for(var X;H!==n||a!==0&&H.nodeType!==3||(v=p+a),H!==c||o!==0&&H.nodeType!==3||(C=p+o),H.nodeType===3&&(p+=H.nodeValue.length),(X=H.firstChild)!==null;)F=H,H=X;for(;;){if(H===e)break t;if(F===n&&++R===a&&(v=p),F===c&&++B===o&&(C=p),(X=H.nextSibling)!==null)break;H=F,F=H.parentNode}H=X}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(gl={focusedElem:e,selectionRange:n},ws=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var oe=ne.memoizedProps,tt=ne.memoizedState,N=t.stateNode,E=N.getSnapshotBeforeUpdate(t.elementType===t.type?oe:nn(t.type,oe),tt);N.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Q){Ze(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return ne=cf,cf=!1,ne}function Qi(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&na(t,n,c)}a=a.next}while(a!==o)}}function to(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[bi],delete t[Sl],delete t[dp],delete t[hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function df(e){return e.tag===5||e.tag===3||e.tag===4}function hf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ia(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ls));else if(o!==4&&(e=e.child,e!==null))for(ia(e,t,n),e=e.sibling;e!==null;)ia(e,t,n),e=e.sibling}function sa(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(sa(e,t,n),e=e.sibling;e!==null;)sa(e,t,n),e=e.sibling}var gt=null,rn=!1;function er(e,t,n){for(n=n.child;n!==null;)pf(e,t,n),n=n.sibling}function pf(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Sr,n)}catch{}switch(n.tag){case 5:Ct||ii(n,t);case 6:var o=gt,a=rn;gt=null,er(e,t,n),gt=o,rn=a,gt!==null&&(rn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(rn?(e=gt,n=n.stateNode,e.nodeType===8?yl(e.parentNode,n):e.nodeType===1&&yl(e,n),ki(e)):yl(gt,n.stateNode));break;case 4:o=gt,a=rn,gt=n.stateNode.containerInfo,rn=!0,er(e,t,n),gt=o,rn=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,p=c.destroy;c=c.tag,p!==void 0&&((c&2)!==0||(c&4)!==0)&&na(n,t,p),a=a.next}while(a!==o)}er(e,t,n);break;case 1:if(!Ct&&(ii(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){Ze(n,t,v)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(Ct=(o=Ct)||n.memoizedState!==null,er(e,t,n),Ct=o):er(e,t,n);break;default:er(e,t,n)}}function gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dp),t.forEach(function(o){var a=zp.bind(null,e,o);n.has(o)||(n.add(o),o.then(a,a))})}}function sn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];try{var c=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:gt=v.stateNode,rn=!1;break e;case 3:gt=v.stateNode.containerInfo,rn=!0;break e;case 4:gt=v.stateNode.containerInfo,rn=!0;break e}v=v.return}if(gt===null)throw Error(i(160));pf(c,p,a),gt=null,rn=!1;var C=a.alternate;C!==null&&(C.return=null),a.return=null}catch(R){Ze(a,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}function mf(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),gn(e),o&4){try{Qi(3,e,e.return),to(3,e)}catch(oe){Ze(e,e.return,oe)}try{Qi(5,e,e.return)}catch(oe){Ze(e,e.return,oe)}}break;case 1:sn(t,e),gn(e),o&512&&n!==null&&ii(n,n.return);break;case 5:if(sn(t,e),gn(e),o&512&&n!==null&&ii(n,n.return),e.flags&32){var a=e.stateNode;try{vn(a,"")}catch(oe){Ze(e,e.return,oe)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,p=n!==null?n.memoizedProps:c,v=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&et(a,c),$n(v,p);var R=$n(v,c);for(p=0;p<C.length;p+=2){var B=C[p],H=C[p+1];B==="style"?Sn(a,H):B==="dangerouslySetInnerHTML"?Ar(a,H):B==="children"?vn(a,H):z(a,B,H,R)}switch(v){case"input":ln(a,c);break;case"textarea":In(a,c);break;case"select":var F=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var X=c.value;X!=null?un(a,!!c.multiple,X,!1):F!==!!c.multiple&&(c.defaultValue!=null?un(a,!!c.multiple,c.defaultValue,!0):un(a,!!c.multiple,c.multiple?[]:"",!1))}a[bi]=c}catch(oe){Ze(e,e.return,oe)}}break;case 6:if(sn(t,e),gn(e),o&4){if(e.stateNode===null)throw Error(i(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(oe){Ze(e,e.return,oe)}}break;case 3:if(sn(t,e),gn(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(oe){Ze(e,e.return,oe)}break;case 4:sn(t,e),gn(e);break;case 13:sn(t,e),gn(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(aa=Ge())),o&4&&gf(e);break;case 22:if(B=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(R=Ct)||B,sn(t,e),Ct=R):sn(t,e),gn(e),o&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!B&&(e.mode&1)!==0)for(ee=e,B=e.child;B!==null;){for(H=ee=B;ee!==null;){switch(F=ee,X=F.child,F.tag){case 0:case 11:case 14:case 15:Qi(4,F,F.return);break;case 1:ii(F,F.return);var ne=F.stateNode;if(typeof ne.componentWillUnmount=="function"){o=F,n=F.return;try{t=o,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(oe){Ze(o,n,oe)}}break;case 5:ii(F,F.return);break;case 22:if(F.memoizedState!==null){Sf(H);continue}}X!==null?(X.return=F,ee=X):Sf(H)}B=B.sibling}e:for(B=null,H=e;;){if(H.tag===5){if(B===null){B=H;try{a=H.stateNode,R?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=H.stateNode,C=H.memoizedProps.style,p=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=yn("display",p))}catch(oe){Ze(e,e.return,oe)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=R?"":H.memoizedProps}catch(oe){Ze(e,e.return,oe)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:sn(t,e),gn(e),o&4&&gf(e);break;case 21:break;default:sn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(df(n)){var o=n;break e}n=n.return}throw Error(i(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(vn(a,""),o.flags&=-33);var c=hf(e);sa(e,c,a);break;case 3:case 4:var p=o.stateNode.containerInfo,v=hf(e);ia(e,v,p);break;default:throw Error(i(161))}}catch(C){Ze(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e,t,n){ee=e,vf(e)}function vf(e,t,n){for(var o=(e.mode&1)!==0;ee!==null;){var a=ee,c=a.child;if(a.tag===22&&o){var p=a.memoizedState!==null||eo;if(!p){var v=a.alternate,C=v!==null&&v.memoizedState!==null||Ct;v=eo;var R=Ct;if(eo=p,(Ct=C)&&!R)for(ee=a;ee!==null;)p=ee,C=p.child,p.tag===22&&p.memoizedState!==null?wf(a):C!==null?(C.return=p,ee=C):wf(a);for(;c!==null;)ee=c,vf(c),c=c.sibling;ee=a,eo=v,Ct=R}yf(e)}else(a.subtreeFlags&8772)!==0&&c!==null?(c.return=a,ee=c):yf(e)}}function yf(e){for(;ee!==null;){var t=ee;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ct||to(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ct)if(n===null)o.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);o.componentDidUpdate(a,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&yc(t,c,o);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yc(t,p,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var B=R.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&ki(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ct||t.flags&512&&ra(t)}catch(F){Ze(t,t.return,F)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Sf(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function wf(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{to(4,t)}catch(C){Ze(t,n,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch(C){Ze(t,a,C)}}var c=t.return;try{ra(t)}catch(C){Ze(t,c,C)}break;case 5:var p=t.return;try{ra(t)}catch(C){Ze(t,p,C)}}}catch(C){Ze(t,t.return,C)}if(t===e){ee=null;break}var v=t.sibling;if(v!==null){v.return=t.return,ee=v;break}ee=t.return}}var Lp=Math.ceil,no=G.ReactCurrentDispatcher,oa=G.ReactCurrentOwner,qt=G.ReactCurrentBatchConfig,Re=0,at=null,nt=null,mt=0,zt=0,si=Gn(0),st=0,qi=null,Tr=0,ro=0,la=0,Gi=null,Pt=null,aa=0,oi=1/0,jn=null,io=!1,ua=null,tr=null,so=!1,nr=null,oo=0,Yi=0,ca=null,lo=-1,ao=0;function kt(){return(Re&6)!==0?Ge():lo!==-1?lo:lo=Ge()}function rr(e){return(e.mode&1)===0?1:(Re&2)!==0&&mt!==0?mt&-mt:gp.transition!==null?(ao===0&&(ao=du()),ao):(e=ze,e!==0||(e=window.event,e=e===void 0?16:xu(e.type)),e)}function on(e,t,n,o){if(50<Yi)throw Yi=0,ca=null,Error(i(185));wi(e,n,o),((Re&2)===0||e!==at)&&(e===at&&((Re&2)===0&&(ro|=n),st===4&&ir(e,mt)),Lt(e,o),n===1&&Re===0&&(t.mode&1)===0&&(oi=Ge()+500,bs&&Xn()))}function Lt(e,t){var n=e.callbackNode;gh(e,t);var o=Cn(e,e===at?mt:0);if(o===0)n!==null&&ps(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&ps(n),t===1)e.tag===0?pp(Cf.bind(null,e)):oc(Cf.bind(null,e)),cp(function(){(Re&6)===0&&Xn()}),n=null;else{switch(hu(o)){case 1:n=yi;break;case 4:n=Si;break;case 16:n=Un;break;case 536870912:n=vs;break;default:n=Un}n=jf(n,xf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xf(e,t){if(lo=-1,ao=0,(Re&6)!==0)throw Error(i(327));var n=e.callbackNode;if(li()&&e.callbackNode!==n)return null;var o=Cn(e,e===at?mt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=uo(e,o);else{t=o;var a=Re;Re|=2;var c=Ef();(at!==e||mt!==t)&&(jn=null,oi=Ge()+500,Dr(e,t));do try{Mp();break}catch(v){_f(e,v)}while(!0);Nl(),no.current=c,Re=a,nt!==null?t=0:(at=null,mt=0,t=st)}if(t!==0){if(t===2&&(a=Ho(e),a!==0&&(o=a,t=fa(e,a))),t===1)throw n=qi,Dr(e,0),ir(e,o),Lt(e,Ge()),n;if(t===6)ir(e,o);else{if(a=e.current.alternate,(o&30)===0&&!Rp(a)&&(t=uo(e,o),t===2&&(c=Ho(e),c!==0&&(o=c,t=fa(e,c))),t===1))throw n=qi,Dr(e,0),ir(e,o),Lt(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:jr(e,Pt,jn);break;case 3:if(ir(e,o),(o&130023424)===o&&(t=aa+500-Ge(),10<t)){if(Cn(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){kt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=vl(jr.bind(null,e,Pt,jn),t);break}jr(e,Pt,jn);break;case 4:if(ir(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var p=31-T(o);c=1<<p,p=t[p],p>a&&(a=p),o&=~c}if(o=a,o=Ge()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Lp(o/1960))-o,10<o){e.timeoutHandle=vl(jr.bind(null,e,Pt,jn),o);break}jr(e,Pt,jn);break;case 5:jr(e,Pt,jn);break;default:throw Error(i(329))}}}return Lt(e,Ge()),e.callbackNode===n?xf.bind(null,e):null}function fa(e,t){var n=Gi;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=uo(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&da(t)),e}function da(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function Rp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var a=n[o],c=a.getSnapshot;a=a.value;try{if(!en(c(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~la,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-T(t),o=1<<n;e[n]=-1,t&=~o}}function Cf(e){if((Re&6)!==0)throw Error(i(327));li();var t=Cn(e,0);if((t&1)===0)return Lt(e,Ge()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var o=Ho(e);o!==0&&(t=o,n=fa(e,o))}if(n===1)throw n=qi,Dr(e,0),ir(e,t),Lt(e,Ge()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,Pt,jn),Lt(e,Ge()),null}function ha(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(oi=Ge()+500,bs&&Xn())}}function Nr(e){nr!==null&&nr.tag===0&&(Re&6)===0&&li();var t=Re;Re|=1;var n=qt.transition,o=ze;try{if(qt.transition=null,ze=1,e)return e()}finally{ze=o,qt.transition=n,Re=t,(Re&6)===0&&Xn()}}function pa(){zt=si.current,We(si)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,up(n)),nt!==null)for(n=nt.return;n!==null;){var o=n;switch(_l(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Is();break;case 3:ni(),We(Nt),We(St),bl();break;case 5:Il(o);break;case 4:ni();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Dl(o.type._context);break;case 22:case 23:pa()}n=n.return}if(at=e,nt=e=sr(e.current,null),mt=zt=t,st=0,qi=null,la=ro=Tr=0,Pt=Gi=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],o=n.interleaved,o!==null){n.interleaved=null;var a=o.next,c=n.pending;if(c!==null){var p=c.next;c.next=a,o.next=p}n.pending=o}Er=null}return e}function _f(e,t){do{var n=nt;try{if(Nl(),Ks.current=Ys,Qs){for(var o=Xe.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Qs=!1}if(Or=0,lt=it=Xe=null,Bi=!1,Wi=0,oa.current=null,n===null||n.return===null){st=1,qi=t,nt=null;break}e:{var c=e,p=n.return,v=n,C=t;if(t=mt,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var R=C,B=v,H=B.tag;if((B.mode&1)===0&&(H===0||H===11||H===15)){var F=B.alternate;F?(B.updateQueue=F.updateQueue,B.memoizedState=F.memoizedState,B.lanes=F.lanes):(B.updateQueue=null,B.memoizedState=null)}var X=Qc(p);if(X!==null){X.flags&=-257,qc(X,p,v,c,t),X.mode&1&&Kc(c,R,t),t=X,C=R;var ne=t.updateQueue;if(ne===null){var oe=new Set;oe.add(C),t.updateQueue=oe}else ne.add(C);break e}else{if((t&1)===0){Kc(c,R,t),ga();break e}C=Error(i(426))}}else if(Qe&&v.mode&1){var tt=Qc(p);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),qc(tt,p,v,c,t),Ol(ri(C,v));break e}}c=C=ri(C,v),st!==4&&(st=2),Gi===null?Gi=[c]:Gi.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var N=Hc(c,C,t);vc(c,N);break e;case 1:v=C;var E=c.type,D=c.stateNode;if((c.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(tr===null||!tr.has(D)))){c.flags|=65536,t&=-t,c.lanes|=t;var Q=Vc(c,v,t);vc(c,Q);break e}}c=c.return}while(c!==null)}Of(n)}catch(le){t=le,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Ef(){var e=no.current;return no.current=Ys,e===null?Ys:e}function ga(){(st===0||st===3||st===2)&&(st=4),at===null||(Tr&268435455)===0&&(ro&268435455)===0||ir(at,mt)}function uo(e,t){var n=Re;Re|=2;var o=Ef();(at!==e||mt!==t)&&(jn=null,Dr(e,t));do try{Ip();break}catch(a){_f(e,a)}while(!0);if(Nl(),Re=n,no.current=o,nt!==null)throw Error(i(261));return at=null,mt=0,st}function Ip(){for(;nt!==null;)kf(nt)}function Mp(){for(;nt!==null&&!gs();)kf(nt)}function kf(e){var t=Df(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Of(e):nt=t,oa.current=null}function Of(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Tp(n,t,zt),n!==null){nt=n;return}}else{if(n=Np(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,nt=null;return}}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);st===0&&(st=5)}function jr(e,t,n){var o=ze,a=qt.transition;try{qt.transition=null,ze=1,bp(e,t,n,o)}finally{qt.transition=a,ze=o}return null}function bp(e,t,n,o){do li();while(nr!==null);if((Re&6)!==0)throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(mh(e,c),e===at&&(nt=at=null,mt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||so||(so=!0,jf(Un,function(){return li(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=qt.transition,qt.transition=null;var p=ze;ze=1;var v=Re;Re|=4,oa.current=null,jp(e,n),mf(n,e),np(gl),ws=!!pl,gl=pl=null,e.current=n,Pp(n),ms(),Re=v,ze=p,qt.transition=c}else e.current=n;if(so&&(so=!1,nr=e,oo=a),c=e.pendingLanes,c===0&&(tr=null),pt(n.stateNode),Lt(e,Ge()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],o(a.value,{componentStack:a.stack,digest:a.digest});if(io)throw io=!1,e=ua,ua=null,e;return(oo&1)!==0&&e.tag!==0&&li(),c=e.pendingLanes,(c&1)!==0?e===ca?Yi++:(Yi=0,ca=e):Yi=0,Xn(),null}function li(){if(nr!==null){var e=hu(oo),t=qt.transition,n=ze;try{if(qt.transition=null,ze=16>e?16:e,nr===null)var o=!1;else{if(e=nr,nr=null,oo=0,(Re&6)!==0)throw Error(i(331));var a=Re;for(Re|=4,ee=e.current;ee!==null;){var c=ee,p=c.child;if((ee.flags&16)!==0){var v=c.deletions;if(v!==null){for(var C=0;C<v.length;C++){var R=v[C];for(ee=R;ee!==null;){var B=ee;switch(B.tag){case 0:case 11:case 15:Qi(8,B,c)}var H=B.child;if(H!==null)H.return=B,ee=H;else for(;ee!==null;){B=ee;var F=B.sibling,X=B.return;if(ff(B),B===R){ee=null;break}if(F!==null){F.return=X,ee=F;break}ee=X}}}var ne=c.alternate;if(ne!==null){var oe=ne.child;if(oe!==null){ne.child=null;do{var tt=oe.sibling;oe.sibling=null,oe=tt}while(oe!==null)}}ee=c}}if((c.subtreeFlags&2064)!==0&&p!==null)p.return=c,ee=p;else e:for(;ee!==null;){if(c=ee,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Qi(9,c,c.return)}var N=c.sibling;if(N!==null){N.return=c.return,ee=N;break e}ee=c.return}}var E=e.current;for(ee=E;ee!==null;){p=ee;var D=p.child;if((p.subtreeFlags&2064)!==0&&D!==null)D.return=p,ee=D;else e:for(p=E;ee!==null;){if(v=ee,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:to(9,v)}}catch(le){Ze(v,v.return,le)}if(v===p){ee=null;break e}var Q=v.sibling;if(Q!==null){Q.return=v.return,ee=Q;break e}ee=v.return}}if(Re=a,Xn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Sr,e)}catch{}o=!0}return o}finally{ze=n,qt.transition=t}}return!1}function Tf(e,t,n){t=ri(n,t),t=Hc(e,t,1),e=Zn(e,t,1),t=kt(),e!==null&&(wi(e,1,t),Lt(e,t))}function Ze(e,t,n){if(e.tag===3)Tf(e,e,n);else for(;t!==null;){if(t.tag===3){Tf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(tr===null||!tr.has(o))){e=ri(n,e),e=Vc(t,e,1),t=Zn(t,e,1),e=kt(),t!==null&&(wi(t,1,e),Lt(t,e));break}}t=t.return}}function Ap(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(mt&n)===n&&(st===4||st===3&&(mt&130023424)===mt&&500>Ge()-aa?Dr(e,0):la|=n),Lt(e,t)}function Nf(e,t){t===0&&((e.mode&1)===0?t=1:(t=Le,Le<<=1,(Le&130023424)===0&&(Le=4194304)));var n=kt();e=Tn(e,t),e!==null&&(wi(e,t,n),Lt(e,n))}function $p(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nf(e,n)}function zp(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),Nf(e,n)}var Df;Df=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)jt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return jt=!1,Op(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Qe&&(t.flags&1048576)!==0&&lc(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Zs(e,t),e=t.pendingProps;var a=Gr(t,St.current);ti(t,n),a=zl(null,t,o,e,a,n);var c=Fl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(o)?(c=!0,Ms(t)):c=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ll(t),a.updater=Xs,t.stateNode=a,a._reactInternals=t,Kl(t,o,e,n),t=Yl(null,t,o,!0,c,n)):(t.tag=0,Qe&&c&&Cl(t),Et(null,t,a,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=Up(o),e=nn(o,e),a){case 0:t=Gl(null,t,o,e,n);break e;case 1:t=ef(null,t,o,e,n);break e;case 11:t=Gc(null,t,o,e,n);break e;case 14:t=Yc(null,t,o,nn(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),Gl(e,t,o,a,n);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),ef(e,t,o,a,n);case 3:e:{if(tf(t),e===null)throw Error(i(387));o=t.pendingProps,c=t.memoizedState,a=c.element,mc(e,t),Hs(t,o,null,n);var p=t.memoizedState;if(o=p.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){a=ri(Error(i(423)),t),t=nf(e,t,o,n,a);break e}else if(o!==a){a=ri(Error(i(424)),t),t=nf(e,t,o,n,a);break e}else for($t=qn(t.stateNode.containerInfo.firstChild),At=t,Qe=!0,tn=null,n=pc(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),o===a){t=Dn(e,t,n);break e}Et(e,t,o,n)}t=t.child}return t;case 5:return Sc(t),e===null&&kl(t),o=t.type,a=t.pendingProps,c=e!==null?e.memoizedProps:null,p=a.children,ml(o,a)?p=null:c!==null&&ml(o,c)&&(t.flags|=32),Zc(e,t),Et(e,t,p,n),t.child;case 6:return e===null&&kl(t),null;case 13:return rf(e,t,n);case 4:return Rl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Zr(t,null,o,n):Et(e,t,o,n),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),Gc(e,t,o,a,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,c=t.memoizedProps,p=a.value,Ue(Us,o._currentValue),o._currentValue=p,c!==null)if(en(c.value,p)){if(c.children===a.children&&!Nt.current){t=Dn(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){p=c.child;for(var C=v.firstContext;C!==null;){if(C.context===o){if(c.tag===1){C=Nn(-1,n&-n),C.tag=2;var R=c.updateQueue;if(R!==null){R=R.shared;var B=R.pending;B===null?C.next=C:(C.next=B.next,B.next=C),R.pending=C}}c.lanes|=n,C=c.alternate,C!==null&&(C.lanes|=n),jl(c.return,n,t),v.lanes|=n;break}C=C.next}}else if(c.tag===10)p=c.type===t.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(i(341));p.lanes|=n,v=p.alternate,v!==null&&(v.lanes|=n),jl(p,n,t),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}Et(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,ti(t,n),a=Kt(a),o=o(a),t.flags|=1,Et(e,t,o,n),t.child;case 14:return o=t.type,a=nn(o,t.pendingProps),a=nn(o.type,a),Yc(e,t,o,a,n);case 15:return Xc(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),Zs(e,t),t.tag=1,Dt(o)?(e=!0,Ms(t)):e=!1,ti(t,n),Bc(t,o,a),Kl(t,o,a,n),Yl(null,t,o,!0,e,n);case 19:return of(e,t,n);case 22:return Jc(e,t,n)}throw Error(i(156,t.tag))};function jf(e,t){return hs(e,t)}function Fp(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,o){return new Fp(e,t,n,o)}function ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Up(e){if(typeof e=="function")return ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ne)return 11;if(e===Z)return 14}return 2}function sr(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function co(e,t,n,o,a,c){var p=2;if(o=e,typeof e=="function")ma(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case be:return Pr(n.children,a,c,t);case Pe:p=8,a|=8;break;case Fe:return e=Gt(12,n,t,a|2),e.elementType=Fe,e.lanes=c,e;case Ie:return e=Gt(13,n,t,a),e.elementType=Ie,e.lanes=c,e;case Te:return e=Gt(19,n,t,a),e.elementType=Te,e.lanes=c,e;case re:return fo(n,a,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ae:p=10;break e;case He:p=9;break e;case Ne:p=11;break e;case Z:p=14;break e;case Y:p=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Gt(p,n,t,a),t.elementType=e,t.type=o,t.lanes=c,t}function Pr(e,t,n,o){return e=Gt(7,e,o,t),e.lanes=n,e}function fo(e,t,n,o){return e=Gt(22,e,o,t),e.elementType=re,e.lanes=n,e.stateNode={isHidden:!1},e}function va(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function ya(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,n,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Sa(e,t,n,o,a,c,p,v,C){return e=new Bp(e,t,n,v,C),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Gt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(c),e}function Wp(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Pf(e){if(!e)return Yn;e=e._reactInternals;e:{if(se(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(Dt(n))return ic(e,n,t)}return t}function Lf(e,t,n,o,a,c,p,v,C){return e=Sa(n,o,!0,e,a,c,p,v,C),e.context=Pf(null),n=e.current,o=kt(),a=rr(n),c=Nn(o,a),c.callback=t??null,Zn(n,c,a),e.current.lanes=a,wi(e,a,o),Lt(e,o),e}function ho(e,t,n,o){var a=t.current,c=kt(),p=rr(a);return n=Pf(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(c,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Zn(a,t,p),e!==null&&(on(e,a,p,c),Ws(e,a,p)),p}function po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wa(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function Hp(){return null}var If=typeof reportError=="function"?reportError:function(e){console.error(e)};function xa(e){this._internalRoot=e}go.prototype.render=xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));ho(e,t,null,null)},go.prototype.unmount=xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){ho(null,e,null,null)}),t[_n]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=mu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vn.length&&t!==0&&t<Vn[n].priority;n++);Vn.splice(n,0,e),n===0&&Su(e)}};function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function Vp(e,t,n,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var R=po(p);c.call(R)}}var p=Lf(t,o,e,0,null,!1,!1,"",Mf);return e._reactRootContainer=p,e[_n]=p.current,Ii(e.nodeType===8?e.parentNode:e),Nr(),p}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var v=o;o=function(){var R=po(C);v.call(R)}}var C=Sa(e,0,!1,null,null,!1,!1,"",Mf);return e._reactRootContainer=C,e[_n]=C.current,Ii(e.nodeType===8?e.parentNode:e),Nr(function(){ho(t,C,n,o)}),C}function vo(e,t,n,o,a){var c=n._reactRootContainer;if(c){var p=c;if(typeof a=="function"){var v=a;a=function(){var C=po(p);v.call(C)}}ho(t,p,e,a)}else p=Vp(n,t,e,a,o);return po(p)}pu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mt(t.pendingLanes);n!==0&&(Ko(t,n|1),Lt(t,Ge()),(Re&6)===0&&(oi=Ge()+500,Xn()))}break;case 13:Nr(function(){var o=Tn(e,1);if(o!==null){var a=kt();on(o,e,1,a)}}),wa(e,1)}},Qo=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var n=kt();on(t,e,134217728,n)}wa(e,134217728)}},gu=function(e){if(e.tag===13){var t=rr(e),n=Tn(e,t);if(n!==null){var o=kt();on(n,e,t,o)}wa(e,t)}},mu=function(){return ze},vu=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}},vr=function(e,t,n){switch(t){case"input":if(ln(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var a=Rs(o);if(!a)throw Error(i(90));Ee(o),ln(o,a)}}}break;case"textarea":In(e,n);break;case"select":t=n.value,t!=null&&un(e,!!n.multiple,t,!1)}},xn=ha,Fn=Nr;var Kp={usingClientEntryPoint:!1,Events:[Ai,Qr,Rs,zn,zr,ha]},Xi={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vi(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||Hp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Sr=yo.inject(Qp),Wt=yo}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp,Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(t))throw Error(i(200));return Wp(e,t,null,n)},Rt.createRoot=function(e,t){if(!Ca(e))throw Error(i(299));var n=!1,o="",a=If;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Sa(e,1,!1,null,null,n,!1,o,a),e[_n]=t.current,Ii(e.nodeType===8?e.parentNode:e),new xa(t)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=vi(t),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return Nr(e)},Rt.hydrate=function(e,t,n){if(!mo(t))throw Error(i(200));return vo(null,e,t,!0,n)},Rt.hydrateRoot=function(e,t,n){if(!Ca(e))throw Error(i(405));var o=n!=null&&n.hydratedSources||null,a=!1,c="",p=If;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=Lf(t,null,e,1,n??null,a,!1,c,p),e[_n]=t.current,Ii(e),o)for(e=0;e<o.length;e++)n=o[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new go(t)},Rt.render=function(e,t,n){if(!mo(t))throw Error(i(200));return vo(null,e,t,!1,n)},Rt.unmountComponentAtNode=function(e){if(!mo(e))throw Error(i(40));return e._reactRootContainer?(Nr(function(){vo(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1},Rt.unstable_batchedUpdates=ha,Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!mo(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return vo(e,t,n,!1,o)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var Wf;function Dd(){if(Wf)return ka.exports;Wf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),ka.exports=ig(),ka.exports}var Hf;function sg(){if(Hf)return So;Hf=1;var s=Dd();return So.createRoot=s.createRoot,So.hydrateRoot=s.hydrateRoot,So}var og=sg();const lg=Td(og);Dd();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},is.apply(this,arguments)}var cr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(cr||(cr={}));const Vf="popstate";function ag(s){s===void 0&&(s={});function r(l,u){let{pathname:f,search:h,hash:g}=l.location;return Wa("",{pathname:f,search:h,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){return typeof u=="string"?u:Do(u)}return cg(r,i,null,s)}function Je(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function nu(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ug(){return Math.random().toString(36).substr(2,8)}function Kf(s,r){return{usr:s.state,key:s.key,idx:r}}function Wa(s,r,i,l){return i===void 0&&(i=null),is({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?hi(r):r,{state:i,key:r&&r.key||l||ug()})}function Do(s){let{pathname:r="/",search:i="",hash:l=""}=s;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function hi(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substr(i),s=s.substr(0,i));let l=s.indexOf("?");l>=0&&(r.search=s.substr(l),s=s.substr(0,l)),s&&(r.pathname=s)}return r}function cg(s,r,i,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:f=!1}=l,h=u.history,g=cr.Pop,m=null,y=x();y==null&&(y=0,h.replaceState(is({},h.state,{idx:y}),""));function x(){return(h.state||{idx:null}).idx}function w(){g=cr.Pop;let P=x(),K=P==null?null:P-y;y=P,m&&m({action:g,location:j.location,delta:K})}function S(P,K){g=cr.Push;let $=Wa(j.location,P,K);y=x()+1;let z=Kf($,y),G=j.createHref($);try{h.pushState(z,"",G)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;u.location.assign(G)}f&&m&&m({action:g,location:j.location,delta:1})}function L(P,K){g=cr.Replace;let $=Wa(j.location,P,K);y=x();let z=Kf($,y),G=j.createHref($);h.replaceState(z,"",G),f&&m&&m({action:g,location:j.location,delta:0})}function O(P){let K=u.location.origin!=="null"?u.location.origin:u.location.href,$=typeof P=="string"?P:Do(P);return $=$.replace(/ $/,"%20"),Je(K,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,K)}let j={get action(){return g},get location(){return s(u,h)},listen(P){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(Vf,w),m=P,()=>{u.removeEventListener(Vf,w),m=null}},createHref(P){return r(u,P)},createURL:O,encodeLocation(P){let K=O(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:L,go(P){return h.go(P)}};return j}var Qf;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Qf||(Qf={}));function fg(s,r,i){return i===void 0&&(i="/"),dg(s,r,i)}function dg(s,r,i,l){let u=typeof r=="string"?hi(r):r,f=ci(u.pathname||"/",i);if(f==null)return null;let h=jd(s);hg(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let y=Eg(f);g=Cg(h[m],y)}return g}function jd(s,r,i,l){r===void 0&&(r=[]),i===void 0&&(i=[]),l===void 0&&(l="");let u=(f,h,g)=>{let m={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};m.relativePath.startsWith("/")&&(Je(m.relativePath.startsWith(l),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(l.length));let y=fr([l,m.relativePath]),x=i.concat(m);f.children&&f.children.length>0&&(Je(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),jd(f.children,r,x,y)),!(f.path==null&&!f.index)&&r.push({path:y,score:wg(y,f.index),routesMeta:x})};return s.forEach((f,h)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,h);else for(let m of Pd(f.path))u(f,h,m)}),r}function Pd(s){let r=s.split("/");if(r.length===0)return[];let[i,...l]=r,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return u?[f,""]:[f];let h=Pd(l.join("/")),g=[];return g.push(...h.map(m=>m===""?f:[f,m].join("/"))),u&&g.push(...h),g.map(m=>s.startsWith("/")&&m===""?"/":m)}function hg(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:xg(r.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}const pg=/^:[\w-]+$/,gg=3,mg=2,vg=1,yg=10,Sg=-2,qf=s=>s==="*";function wg(s,r){let i=s.split("/"),l=i.length;return i.some(qf)&&(l+=Sg),r&&(l+=mg),i.filter(u=>!qf(u)).reduce((u,f)=>u+(pg.test(f)?gg:f===""?vg:yg),l)}function xg(s,r){return s.length===r.length&&s.slice(0,-1).every((l,u)=>l===r[u])?s[s.length-1]-r[r.length-1]:0}function Cg(s,r,i){let{routesMeta:l}=s,u={},f="/",h=[];for(let g=0;g<l.length;++g){let m=l[g],y=g===l.length-1,x=f==="/"?r:r.slice(f.length)||"/",w=Ha({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},x),S=m.route;if(!w)return null;Object.assign(u,w.params),h.push({params:u,pathname:fr([f,w.pathname]),pathnameBase:Dg(fr([f,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(f=fr([f,w.pathnameBase]))}return h}function Ha(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,l]=_g(s.path,s.caseSensitive,s.end),u=r.match(i);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:l.reduce((y,x,w)=>{let{paramName:S,isOptional:L}=x;if(S==="*"){let j=g[w]||"";h=f.slice(0,f.length-j.length).replace(/(.)\/+$/,"$1")}const O=g[w];return L&&!O?y[S]=void 0:y[S]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:h,pattern:s}}function _g(s,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),nu(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(l.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function Eg(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return nu(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function ci(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,l=s.charAt(i);return l&&l!=="/"?null:s.slice(i)||"/"}const kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Og=s=>kg.test(s);function Tg(s,r){r===void 0&&(r="/");let{pathname:i,search:l="",hash:u=""}=typeof s=="string"?hi(s):s,f;if(i)if(Og(i))f=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),nu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+i))}i.startsWith("/")?f=Gf(i.substring(1),"/"):f=Gf(i,r)}else f=r;return{pathname:f,search:jg(l),hash:Pg(u)}}function Gf(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Na(s,r,i,l){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ng(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function ru(s,r){let i=Ng(s);return r?i.map((l,u)=>u===i.length-1?l.pathname:l.pathnameBase):i.map(l=>l.pathnameBase)}function iu(s,r,i,l){l===void 0&&(l=!1);let u;typeof s=="string"?u=hi(s):(u=is({},s),Je(!u.pathname||!u.pathname.includes("?"),Na("?","pathname","search",u)),Je(!u.pathname||!u.pathname.includes("#"),Na("#","pathname","hash",u)),Je(!u.search||!u.search.includes("#"),Na("#","search","hash",u)));let f=s===""||u.pathname==="",h=f?"/":u.pathname,g;if(h==null)g=i;else{let w=r.length-1;if(!l&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;u.pathname=S.join("/")}g=w>=0?r[w]:"/"}let m=Tg(u,g),y=h&&h!=="/"&&h.endsWith("/"),x=(f||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(y||x)&&(m.pathname+="/"),m}const fr=s=>s.join("/").replace(/\/\/+/g,"/"),Dg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),jg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Pg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Lg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Ld=["post","put","patch","delete"];new Set(Ld);const Rg=["get",...Ld];new Set(Rg);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},ss.apply(this,arguments)}const Lo=_.createContext(null),Rd=_.createContext(null),Pn=_.createContext(null),Ro=_.createContext(null),hr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Id=_.createContext(null);function Ig(s,r){let{relative:i}=r===void 0?{}:r;pi()||Je(!1);let{basename:l,navigator:u}=_.useContext(Pn),{hash:f,pathname:h,search:g}=Io(s,{relative:i}),m=h;return l!=="/"&&(m=h==="/"?l:fr([l,h])),u.createHref({pathname:m,search:g,hash:f})}function pi(){return _.useContext(Ro)!=null}function Mr(){return pi()||Je(!1),_.useContext(Ro).location}function Md(s){_.useContext(Pn).static||_.useLayoutEffect(s)}function bd(){let{isDataRoute:s}=_.useContext(hr);return s?Qg():Mg()}function Mg(){pi()||Je(!1);let s=_.useContext(Lo),{basename:r,future:i,navigator:l}=_.useContext(Pn),{matches:u}=_.useContext(hr),{pathname:f}=Mr(),h=JSON.stringify(ru(u,i.v7_relativeSplatPath)),g=_.useRef(!1);return Md(()=>{g.current=!0}),_.useCallback(function(y,x){if(x===void 0&&(x={}),!g.current)return;if(typeof y=="number"){l.go(y);return}let w=iu(y,JSON.parse(h),f,x.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:fr([r,w.pathname])),(x.replace?l.replace:l.push)(w,x.state,x)},[r,l,h,f,s])}function Io(s,r){let{relative:i}=r===void 0?{}:r,{future:l}=_.useContext(Pn),{matches:u}=_.useContext(hr),{pathname:f}=Mr(),h=JSON.stringify(ru(u,l.v7_relativeSplatPath));return _.useMemo(()=>iu(s,JSON.parse(h),f,i==="path"),[s,h,f,i])}function bg(s,r){return Ag(s,r)}function Ag(s,r,i,l){pi()||Je(!1);let{navigator:u}=_.useContext(Pn),{matches:f}=_.useContext(hr),h=f[f.length-1],g=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let y=Mr(),x;if(r){var w;let P=typeof r=="string"?hi(r):r;m==="/"||(w=P.pathname)!=null&&w.startsWith(m)||Je(!1),x=P}else x=y;let S=x.pathname||"/",L=S;if(m!=="/"){let P=m.replace(/^\//,"").split("/");L="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let O=fg(s,{pathname:L}),j=Bg(O&&O.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:fr([m,u.encodeLocation?u.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:fr([m,u.encodeLocation?u.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),f,i,l);return r&&j?_.createElement(Ro.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:cr.Pop}},j):j}function $g(){let s=Kg(),r=Lg(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},r),i?_.createElement("pre",{style:u},i):null,null)}const zg=_.createElement($g,null);class Fg extends _.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?_.createElement(hr.Provider,{value:this.props.routeContext},_.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ug(s){let{routeContext:r,match:i,children:l}=s,u=_.useContext(Lo);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),_.createElement(hr.Provider,{value:r},l)}function Bg(s,r,i,l){var u;if(r===void 0&&(r=[]),i===void 0&&(i=null),l===void 0&&(l=null),s==null){var f;if(!i)return null;if(i.errors)s=i.matches;else if((f=l)!=null&&f.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let h=s,g=(u=i)==null?void 0:u.errors;if(g!=null){let x=h.findIndex(w=>w.route.id&&(g==null?void 0:g[w.route.id])!==void 0);x>=0||Je(!1),h=h.slice(0,Math.min(h.length,x+1))}let m=!1,y=-1;if(i&&l&&l.v7_partialHydration)for(let x=0;x<h.length;x++){let w=h[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=x),w.route.id){let{loaderData:S,errors:L}=i,O=w.route.loader&&S[w.route.id]===void 0&&(!L||L[w.route.id]===void 0);if(w.route.lazy||O){m=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((x,w,S)=>{let L,O=!1,j=null,P=null;i&&(L=g&&w.route.id?g[w.route.id]:void 0,j=w.route.errorElement||zg,m&&(y<0&&S===0?(qg("route-fallback"),O=!0,P=null):y===S&&(O=!0,P=w.route.hydrateFallbackElement||null)));let K=r.concat(h.slice(0,S+1)),$=()=>{let z;return L?z=j:O?z=P:w.route.Component?z=_.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=x,_.createElement(Ug,{match:w,routeContext:{outlet:x,matches:K,isDataRoute:i!=null},children:z})};return i&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?_.createElement(Fg,{location:i.location,revalidation:i.revalidation,component:j,error:L,children:$(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):$()},null)}var Ad=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Ad||{}),$d=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})($d||{});function Wg(s){let r=_.useContext(Lo);return r||Je(!1),r}function Hg(s){let r=_.useContext(Rd);return r||Je(!1),r}function Vg(s){let r=_.useContext(hr);return r||Je(!1),r}function zd(s){let r=Vg(),i=r.matches[r.matches.length-1];return i.route.id||Je(!1),i.route.id}function Kg(){var s;let r=_.useContext(Id),i=Hg(),l=zd();return r!==void 0?r:(s=i.errors)==null?void 0:s[l]}function Qg(){let{router:s}=Wg(Ad.UseNavigateStable),r=zd($d.UseNavigateStable),i=_.useRef(!1);return Md(()=>{i.current=!0}),_.useCallback(function(u,f){f===void 0&&(f={}),i.current&&(typeof u=="number"?s.navigate(u):s.navigate(u,ss({fromRouteId:r},f)))},[s,r])}const Yf={};function qg(s,r,i){Yf[s]||(Yf[s]=!0)}function Gg(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Yg(s){let{to:r,replace:i,state:l,relative:u}=s;pi()||Je(!1);let{future:f,static:h}=_.useContext(Pn),{matches:g}=_.useContext(hr),{pathname:m}=Mr(),y=bd(),x=iu(r,ru(g,f.v7_relativeSplatPath),m,u==="path"),w=JSON.stringify(x);return _.useEffect(()=>y(JSON.parse(w),{replace:i,state:l,relative:u}),[y,w,u,i,l]),null}function ui(s){Je(!1)}function Xg(s){let{basename:r="/",children:i=null,location:l,navigationType:u=cr.Pop,navigator:f,static:h=!1,future:g}=s;pi()&&Je(!1);let m=r.replace(/^\/*/,"/"),y=_.useMemo(()=>({basename:m,navigator:f,static:h,future:ss({v7_relativeSplatPath:!1},g)}),[m,g,f,h]);typeof l=="string"&&(l=hi(l));let{pathname:x="/",search:w="",hash:S="",state:L=null,key:O="default"}=l,j=_.useMemo(()=>{let P=ci(x,m);return P==null?null:{location:{pathname:P,search:w,hash:S,state:L,key:O},navigationType:u}},[m,x,w,S,L,O,u]);return j==null?null:_.createElement(Pn.Provider,{value:y},_.createElement(Ro.Provider,{children:i,value:j}))}function Jg(s){let{children:r,location:i}=s;return bg(Va(r),i)}new Promise(()=>{});function Va(s,r){r===void 0&&(r=[]);let i=[];return _.Children.forEach(s,(l,u)=>{if(!_.isValidElement(l))return;let f=[...r,u];if(l.type===_.Fragment){i.push.apply(i,Va(l.props.children,f));return}l.type!==ui&&Je(!1),!l.props.index||!l.props.children||Je(!1);let h={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Va(l.props.children,f)),i.push(h)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},jo.apply(this,arguments)}function Fd(s,r){if(s==null)return{};var i={},l=Object.keys(s),u,f;for(f=0;f<l.length;f++)u=l[f],!(r.indexOf(u)>=0)&&(i[u]=s[u]);return i}function Zg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function em(s,r){return s.button===0&&(!r||r==="_self")&&!Zg(s)}const tm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rm="6";try{window.__reactRouterVersion=rm}catch{}const im=_.createContext({isTransitioning:!1}),sm="startTransition",Xf=tg[sm];function om(s){let{basename:r,children:i,future:l,window:u}=s,f=_.useRef();f.current==null&&(f.current=ag({window:u,v5Compat:!0}));let h=f.current,[g,m]=_.useState({action:h.action,location:h.location}),{v7_startTransition:y}=l||{},x=_.useCallback(w=>{y&&Xf?Xf(()=>m(w)):m(w)},[m,y]);return _.useLayoutEffect(()=>h.listen(x),[h,x]),_.useEffect(()=>Gg(l),[l]),_.createElement(Xg,{basename:r,children:i,location:g.location,navigationType:g.action,navigator:h,future:l})}const lm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=_.forwardRef(function(r,i){let{onClick:l,relative:u,reloadDocument:f,replace:h,state:g,target:m,to:y,preventScrollReset:x,viewTransition:w}=r,S=Fd(r,tm),{basename:L}=_.useContext(Pn),O,j=!1;if(typeof y=="string"&&am.test(y)&&(O=y,lm))try{let z=new URL(window.location.href),G=y.startsWith("//")?new URL(z.protocol+y):new URL(y),de=ci(G.pathname,L);G.origin===z.origin&&de!=null?y=de+G.search+G.hash:j=!0}catch{}let P=Ig(y,{relative:u}),K=fm(y,{replace:h,state:g,target:m,preventScrollReset:x,relative:u,viewTransition:w});function $(z){l&&l(z),z.defaultPrevented||K(z)}return _.createElement("a",jo({},S,{href:O||P,onClick:j||f?l:$,ref:i,target:m}))}),um=_.forwardRef(function(r,i){let{"aria-current":l="page",caseSensitive:u=!1,className:f="",end:h=!1,style:g,to:m,viewTransition:y,children:x}=r,w=Fd(r,nm),S=Io(m,{relative:w.relative}),L=Mr(),O=_.useContext(Rd),{navigator:j,basename:P}=_.useContext(Pn),K=O!=null&&dm(S)&&y===!0,$=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,z=L.pathname,G=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;u||(z=z.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&P&&(G=ci(G,P)||G);const de=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let _e=z===$||!h&&z.startsWith($)&&z.charAt(de)==="/",be=G!=null&&(G===$||!h&&G.startsWith($)&&G.charAt($.length)==="/"),Pe={isActive:_e,isPending:be,isTransitioning:K},Fe=_e?l:void 0,Ae;typeof f=="function"?Ae=f(Pe):Ae=[f,_e?"active":null,be?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let He=typeof g=="function"?g(Pe):g;return _.createElement(Eo,jo({},w,{"aria-current":Fe,className:Ae,ref:i,style:He,to:m,viewTransition:y}),typeof x=="function"?x(Pe):x)});var Ka;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Ka||(Ka={}));var Jf;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Jf||(Jf={}));function cm(s){let r=_.useContext(Lo);return r||Je(!1),r}function fm(s,r){let{target:i,replace:l,state:u,preventScrollReset:f,relative:h,viewTransition:g}=r===void 0?{}:r,m=bd(),y=Mr(),x=Io(s,{relative:h});return _.useCallback(w=>{if(em(w,i)){w.preventDefault();let S=l!==void 0?l:Do(y)===Do(x);m(s,{replace:S,state:u,preventScrollReset:f,relative:h,viewTransition:g})}},[y,m,x,l,u,i,s,f,h,g])}function dm(s,r){r===void 0&&(r={});let i=_.useContext(im);i==null&&Je(!1);let{basename:l}=cm(Ka.useViewTransitionState),u=Io(s,{relative:r.relative});if(!i.isTransitioning)return!1;let f=ci(i.currentLocation.pathname,l)||i.currentLocation.pathname,h=ci(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Ha(u.pathname,h)!=null||Ha(u.pathname,f)!=null}function Ud(){return d.jsx("span",{className:"brand-logo","aria-hidden":"true",children:""})}const hm=[{href:"/",label:"Home"},{href:"/multiplayer",label:"Online"},{href:"/computer",label:"Vs Computer"},{href:"/replay",label:"Replay"}];function pm(){return d.jsxs("nav",{className:"top-nav",children:[d.jsxs("div",{className:"brand",children:[d.jsx(Ud,{}),d.jsx("span",{children:"Chessica"})]}),d.jsx("div",{className:"nav-links",children:hm.map(s=>d.jsx(um,{to:s.href,className:({isActive:r})=>r?"active":"",end:s.href==="/",children:s.label},s.href))})]})}function gm(){return d.jsxs("div",{className:"landing",children:[d.jsxs("header",{className:"hero landing-hero",children:[d.jsxs("div",{className:"hero-title",children:[d.jsx("div",{className:"badge",children:d.jsx(Ud,{})}),d.jsxs("div",{children:[d.jsx("h1",{children:"Welcome to Chessica"}),d.jsx("p",{children:"Pick your arena: battle the exploit-aware engine or meet humans in online play."})]})]}),d.jsx("span",{className:"pill",children:"Alpha"})]}),d.jsxs("section",{className:"cta-grid",children:[d.jsxs("article",{className:"cta-card",children:[d.jsx("h2",{children:"Play vs Computer"}),d.jsx("p",{children:"Use difficulty presets, live narration, and coach summaries without CDN dependencies."}),d.jsx(Eo,{className:"cta-button",to:"/computer",children:"Launch Control Room"})]}),d.jsxs("article",{className:"cta-card",children:[d.jsx("h2",{children:"Play Online"}),d.jsx("p",{children:"Queue for multiplayer matchmaking with board streaming and clocked time controls."}),d.jsx(Eo,{className:"cta-button secondary",to:"/multiplayer",children:"Open Online Mode"})]}),d.jsxs("article",{className:"cta-card",children:[d.jsx("h2",{children:"Replay Sessions"}),d.jsx("p",{children:"Load any session id, scrub through the moves, and download PGN for study."}),d.jsx(Eo,{className:"cta-button secondary",to:"/replay",children:"Replay Games"})]})]})]})}function mm(s){return s!==null?{comment:s,variations:[]}:{variations:[]}}function vm(s,r,i,l,u){const f={move:s,variations:u};return r&&(f.suffix=r),i&&(f.nag=i),l!==null&&(f.comment=l),f}function ym(...s){const[r,...i]=s;let l=r;for(const u of i)u!==null&&(l.variations=[u,...u.variations],u.variations=[],l=u);return r}function Sm(s,r){if(r.marker&&r.marker.comment){let i=r.root;for(;;){const l=i.variations[0];if(!l){i.comment=r.marker.comment;break}i=l}}return{headers:s,root:r.root,result:(r.marker&&r.marker.result)??void 0}}function wm(s,r){function i(){this.constructor=s}i.prototype=r.prototype,s.prototype=new i}function fi(s,r,i,l){var u=Error.call(this,s);return Object.setPrototypeOf&&Object.setPrototypeOf(u,fi.prototype),u.expected=r,u.found=i,u.location=l,u.name="SyntaxError",u}wm(fi,Error);function Da(s,r,i){return i=i||" ",s.length>r?s:(r-=s.length,i+=i.repeat(r),s+i.slice(0,r))}fi.prototype.format=function(s){var r="Error: "+this.message;if(this.location){var i=null,l;for(l=0;l<s.length;l++)if(s[l].source===this.location.source){i=s[l].text.split(/\r\n|\n|\r/g);break}var u=this.location.start,f=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(u):u,h=this.location.source+":"+f.line+":"+f.column;if(i){var g=this.location.end,m=Da("",f.line.toString().length," "),y=i[u.line-1],x=u.line===g.line?g.column:y.length+1,w=x-u.column||1;r+=`
 --> `+h+`
`+m+` |
`+f.line+" | "+y+`
`+m+" | "+Da("",u.column-1," ")+Da("",w,"^")}else r+=`
 at `+h}return r};fi.buildMessage=function(s,r){var i={literal:function(y){return'"'+u(y.text)+'"'},class:function(y){var x=y.parts.map(function(w){return Array.isArray(w)?f(w[0])+"-"+f(w[1]):f(w)});return"["+(y.inverted?"^":"")+x.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function l(y){return y.charCodeAt(0).toString(16).toUpperCase()}function u(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(x){return"\\x0"+l(x)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(x){return"\\x"+l(x)})}function f(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(x){return"\\x0"+l(x)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(x){return"\\x"+l(x)})}function h(y){return i[y.type](y)}function g(y){var x=y.map(h),w,S;if(x.sort(),x.length>0){for(w=1,S=1;w<x.length;w++)x[w-1]!==x[w]&&(x[S]=x[w],S++);x.length=S}switch(x.length){case 1:return x[0];case 2:return x[0]+" or "+x[1];default:return x.slice(0,-1).join(", ")+", or "+x[x.length-1]}}function m(y){return y?'"'+u(y)+'"':"end of input"}return"Expected "+g(s)+" but "+m(r)+" found."};function xm(s,r){r=r!==void 0?r:{};var i={},l=r.grammarSource,u={pgn:mi},f=mi,h="[",g='"',m="]",y=".",x="O-O-O",w="O-O",S="0-0-0",L="0-0",O="$",j="{",P="}",K=";",$="(",z=")",G="1-0",de="0-1",_e="1/2-1/2",be="*",Pe=/^[a-zA-Z]/,Fe=/^[^"]/,Ae=/^[0-9]/,He=/^[.]/,Ne=/^[a-zA-Z1-8\-=]/,Ie=/^[+#]/,Te=/^[!?]/,Z=/^[^}]/,Y=/^[^\r\n]/,re=/^[ \t\r\n]/,W=yt("tag pair"),te=ke("[",!1),q=ke('"',!1),k=ke("]",!1),A=yt("tag name"),fe=Ke([["a","z"],["A","Z"]],!1,!1),he=yt("tag value"),Se=Ke(['"'],!0,!1),me=yt("move number"),J=Ke([["0","9"]],!1,!1),xe=ke(".",!1),De=Ke(["."],!1,!1),V=yt("standard algebraic notation"),ie=ke("O-O-O",!1),Ee=ke("O-O",!1),ae=ke("0-0-0",!1),$e=ke("0-0",!1),ft=Ke([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),et=Ke(["+","#"],!1,!1),ln=yt("suffix annotation"),Jt=Ke(["!","?"],!1,!1),pr=yt("NAG"),an=ke("$",!1),un=yt("brace comment"),mn=ke("{",!1),Rn=Ke(["}"],!0,!1),In=ke("}",!1),It=yt("rest of line comment"),Mn=ke(";",!1),Zt=Ke(["\r",`
`],!0,!1),bn=yt("variation"),Ar=ke("(",!1),vn=ke(")",!1),Bt=yt("game termination marker"),An=ke("1-0",!1),yn=ke("0-1",!1),Sn=ke("1/2-1/2",!1),gi=ke("*",!1),gr=yt("whitespace"),$n=Ke([" ","	","\r",`
`],!1,!1),mr=function(T,M){return Sm(T,M)},wn=function(T){return Object.fromEntries(T)},vr=function(T,M){return[T,M]},cn=function(T,M){return{root:T,marker:M}},fn=function(T,M){return ym(mm(T),...M.flat())},$r=function(T,M,b,ce,ue){return vm(T,M,b,ce,ue)},zn=function(T){return T},zr=function(T){return T.replace(/[\r\n]+/g," ")},xn=function(T){return T.trim()},Fn=function(T){return T},yr=function(T,M){return{result:T,comment:M}},I=r.peg$currPos|0,Tt=[{line:1,column:1}],dt=I,je=r.peg$maxFailExpected||[],U=r.peg$silentFails|0,Ve;if(r.startRule){if(!(r.startRule in u))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');f=u[r.startRule]}function ke(T,M){return{type:"literal",text:T,ignoreCase:M}}function Ke(T,M,b){return{type:"class",parts:T,inverted:M,ignoreCase:b}}function ht(){return{type:"end"}}function yt(T){return{type:"other",description:T}}function us(T){var M=Tt[T],b;if(M)return M;if(T>=Tt.length)b=Tt.length-1;else for(b=T;!Tt[--b];);for(M=Tt[b],M={line:M.line,column:M.column};b<T;)s.charCodeAt(b)===10?(M.line++,M.column=1):M.column++,b++;return Tt[T]=M,M}function cs(T,M,b){var ce=us(T),ue=us(M),Le={source:l,start:{offset:T,line:ce.line,column:ce.column},end:{offset:M,line:ue.line,column:ue.column}};return Le}function se(T){I<dt||(I>dt&&(dt=I,je=[]),je.push(T))}function fs(T,M,b){return new fi(fi.buildMessage(T,M),T,M,b)}function mi(){var T,M,b;return T=I,M=Uo(),b=ps(),T=mr(M,b),T}function Uo(){var T,M,b;for(T=I,M=[],b=vi();b!==i;)M.push(b),b=vi();return b=pt(),T=wn(M),T}function vi(){var T,M,b,ce,ue,Le,Mt;return U++,T=I,pt(),s.charCodeAt(I)===91?(M=h,I++):(M=i,U===0&&se(te)),M!==i?(pt(),b=ds(),b!==i?(pt(),s.charCodeAt(I)===34?(ce=g,I++):(ce=i,U===0&&se(q)),ce!==i?(ue=hs(),s.charCodeAt(I)===34?(Le=g,I++):(Le=i,U===0&&se(q)),Le!==i?(pt(),s.charCodeAt(I)===93?(Mt=m,I++):(Mt=i,U===0&&se(k)),Mt!==i?T=vr(b,ue):(I=T,T=i)):(I=T,T=i)):(I=T,T=i)):(I=T,T=i)):(I=T,T=i),U--,T===i&&U===0&&se(W),T}function ds(){var T,M,b;if(U++,T=I,M=[],b=s.charAt(I),Pe.test(b)?I++:(b=i,U===0&&se(fe)),b!==i)for(;b!==i;)M.push(b),b=s.charAt(I),Pe.test(b)?I++:(b=i,U===0&&se(fe));else M=i;return M!==i?T=s.substring(T,I):T=M,U--,T===i&&(M=i,U===0&&se(A)),T}function hs(){var T,M,b;for(U++,T=I,M=[],b=s.charAt(I),Fe.test(b)?I++:(b=i,U===0&&se(Se));b!==i;)M.push(b),b=s.charAt(I),Fe.test(b)?I++:(b=i,U===0&&se(Se));return T=s.substring(T,I),U--,M=i,U===0&&se(he),T}function ps(){var T,M,b;return T=I,M=gs(),pt(),b=Wt(),b===i&&(b=null),pt(),T=cn(M,b),T}function gs(){var T,M,b,ce;for(T=I,M=Un(),M===i&&(M=null),b=[],ce=ms();ce!==i;)b.push(ce),ce=ms();return T=fn(M,b),T}function ms(){var T,M,b,ce,ue,Le,Mt,Cn;if(T=I,pt(),Ge(),pt(),M=Bo(),M!==i){for(b=yi(),b===i&&(b=null),ce=[],ue=Si();ue!==i;)ce.push(ue),ue=Si();for(ue=pt(),Le=Un(),Le===i&&(Le=null),Mt=[],Cn=Sr();Cn!==i;)Mt.push(Cn),Cn=Sr();T=$r(M,b,ce,Le,Mt)}else I=T,T=i;return T}function Ge(){var T,M,b,ce,ue,Le;for(U++,T=I,M=[],b=s.charAt(I),Ae.test(b)?I++:(b=i,U===0&&se(J));b!==i;)M.push(b),b=s.charAt(I),Ae.test(b)?I++:(b=i,U===0&&se(J));if(s.charCodeAt(I)===46?(b=y,I++):(b=i,U===0&&se(xe)),b!==i){for(ce=pt(),ue=[],Le=s.charAt(I),He.test(Le)?I++:(Le=i,U===0&&se(De));Le!==i;)ue.push(Le),Le=s.charAt(I),He.test(Le)?I++:(Le=i,U===0&&se(De));M=[M,b,ce,ue],T=M}else I=T,T=i;return U--,T===i&&(M=i,U===0&&se(me)),T}function Bo(){var T,M,b,ce,ue,Le;if(U++,T=I,M=I,s.substr(I,5)===x?(b=x,I+=5):(b=i,U===0&&se(ie)),b===i&&(s.substr(I,3)===w?(b=w,I+=3):(b=i,U===0&&se(Ee)),b===i&&(s.substr(I,5)===S?(b=S,I+=5):(b=i,U===0&&se(ae)),b===i&&(s.substr(I,3)===L?(b=L,I+=3):(b=i,U===0&&se($e)),b===i))))if(b=I,ce=s.charAt(I),Pe.test(ce)?I++:(ce=i,U===0&&se(fe)),ce!==i){if(ue=[],Le=s.charAt(I),Ne.test(Le)?I++:(Le=i,U===0&&se(ft)),Le!==i)for(;Le!==i;)ue.push(Le),Le=s.charAt(I),Ne.test(Le)?I++:(Le=i,U===0&&se(ft));else ue=i;ue!==i?(ce=[ce,ue],b=ce):(I=b,b=i)}else I=b,b=i;return b!==i?(ce=s.charAt(I),Ie.test(ce)?I++:(ce=i,U===0&&se(et)),ce===i&&(ce=null),b=[b,ce],M=b):(I=M,M=i),M!==i?T=s.substring(T,I):T=M,U--,T===i&&(M=i,U===0&&se(V)),T}function yi(){var T,M,b;for(U++,T=I,M=[],b=s.charAt(I),Te.test(b)?I++:(b=i,U===0&&se(Jt));b!==i;)M.push(b),M.length>=2?b=i:(b=s.charAt(I),Te.test(b)?I++:(b=i,U===0&&se(Jt)));return M.length<1?(I=T,T=i):T=M,U--,T===i&&(M=i,U===0&&se(ln)),T}function Si(){var T,M,b,ce,ue;if(U++,T=I,pt(),s.charCodeAt(I)===36?(M=O,I++):(M=i,U===0&&se(an)),M!==i){if(b=I,ce=[],ue=s.charAt(I),Ae.test(ue)?I++:(ue=i,U===0&&se(J)),ue!==i)for(;ue!==i;)ce.push(ue),ue=s.charAt(I),Ae.test(ue)?I++:(ue=i,U===0&&se(J));else ce=i;ce!==i?b=s.substring(b,I):b=ce,b!==i?T=zn(b):(I=T,T=i)}else I=T,T=i;return U--,T===i&&U===0&&se(pr),T}function Un(){var T;return T=Wo(),T===i&&(T=vs()),T}function Wo(){var T,M,b,ce,ue;if(U++,T=I,s.charCodeAt(I)===123?(M=j,I++):(M=i,U===0&&se(mn)),M!==i){for(b=I,ce=[],ue=s.charAt(I),Z.test(ue)?I++:(ue=i,U===0&&se(Rn));ue!==i;)ce.push(ue),ue=s.charAt(I),Z.test(ue)?I++:(ue=i,U===0&&se(Rn));b=s.substring(b,I),s.charCodeAt(I)===125?(ce=P,I++):(ce=i,U===0&&se(In)),ce!==i?T=zr(b):(I=T,T=i)}else I=T,T=i;return U--,T===i&&(M=i,U===0&&se(un)),T}function vs(){var T,M,b,ce,ue;if(U++,T=I,s.charCodeAt(I)===59?(M=K,I++):(M=i,U===0&&se(Mn)),M!==i){for(b=I,ce=[],ue=s.charAt(I),Y.test(ue)?I++:(ue=i,U===0&&se(Zt));ue!==i;)ce.push(ue),ue=s.charAt(I),Y.test(ue)?I++:(ue=i,U===0&&se(Zt));b=s.substring(b,I),T=xn(b)}else I=T,T=i;return U--,T===i&&(M=i,U===0&&se(It)),T}function Sr(){var T,M,b,ce;return U++,T=I,pt(),s.charCodeAt(I)===40?(M=$,I++):(M=i,U===0&&se(Ar)),M!==i?(b=gs(),b!==i?(pt(),s.charCodeAt(I)===41?(ce=z,I++):(ce=i,U===0&&se(vn)),ce!==i?T=Fn(b):(I=T,T=i)):(I=T,T=i)):(I=T,T=i),U--,T===i&&U===0&&se(bn),T}function Wt(){var T,M,b;return U++,T=I,s.substr(I,3)===G?(M=G,I+=3):(M=i,U===0&&se(An)),M===i&&(s.substr(I,3)===de?(M=de,I+=3):(M=i,U===0&&se(yn)),M===i&&(s.substr(I,7)===_e?(M=_e,I+=7):(M=i,U===0&&se(Sn)),M===i&&(s.charCodeAt(I)===42?(M=be,I++):(M=i,U===0&&se(gi))))),M!==i?(pt(),b=Un(),b===i&&(b=null),T=yr(M,b)):(I=T,T=i),U--,T===i&&(M=i,U===0&&se(Bt)),T}function pt(){var T,M;for(U++,T=[],M=s.charAt(I),re.test(M)?I++:(M=i,U===0&&se($n));M!==i;)T.push(M),M=s.charAt(I),re.test(M)?I++:(M=i,U===0&&se($n));return U--,M=i,U===0&&se(gr),T}if(Ve=f(),r.peg$library)return{peg$result:Ve,peg$currPos:I,peg$FAILED:i,peg$maxFailExpected:je,peg$maxFailPos:dt};if(Ve!==i&&I===s.length)return Ve;throw Ve!==i&&I<s.length&&se(ht()),fs(je,dt<s.length?s.charAt(dt):null,dt<s.length?cs(dt,dt+1):cs(dt,dt))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ko=0xffffffffffffffffn;function ja(s,r){return(s<<r|s>>64n-r)&0xffffffffffffffffn}function Zf(s,r){return s*r&ko}function Cm(s){return function(){let r=BigInt(s&ko),i=BigInt(s>>64n&ko);const l=Zf(ja(Zf(r,5n),7n),9n);return i^=r,r=(ja(r,24n)^i^i<<16n)&ko,i=ja(i,37n),s=i<<64n|r,l}}const Mo=Cm(0xa187eb39cdcaed8f31c4b365b102e01en),_m=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Mo()))),Em=Array.from({length:8},()=>Mo()),km=Array.from({length:16},()=>Mo()),Pa=Mo(),_t="w",Ut="b",rt="p",Qa="n",Oo="b",ts="r",ur="q",ot="k",La="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class wo{constructor(r,i){qe(this,"color");qe(this,"from");qe(this,"to");qe(this,"piece");qe(this,"captured");qe(this,"promotion");qe(this,"flags");qe(this,"san");qe(this,"lan");qe(this,"before");qe(this,"after");const{color:l,piece:u,from:f,to:h,flags:g,captured:m,promotion:y}=i,x=ct(f),w=ct(h);this.color=l,this.piece=u,this.from=x,this.to=w,this.san=r._moveToSan(i,r._moves({legal:!0})),this.lan=x+w,this.before=r.fen(),r._makeMove(i),this.after=r.fen(),r._undoMove(),this.flags="";for(const S in we)we[S]&g&&(this.flags+=Lr[S]);m&&(this.captured=m),y&&(this.promotion=y,this.lan+=y)}isCapture(){return this.flags.indexOf(Lr.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Lr.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Lr.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Lr.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Lr.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Lr.BIG_PAWN)>-1}}const vt=-1,Lr={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},we={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},qa={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},Om={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Tm={...qa,...Om},ve={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Ra={b:[16,32,17,15],w:[-16,-32,-17,-15]},ed={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Nm=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Dm=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],jm={p:1,n:2,b:4,r:8,q:16,k:32},Pm="pnbrqkPNBRQK",td=[Qa,Oo,ts,ur],Lm=7,Rm=6,Im=1,Mm=0,xo={[ot]:we.KSIDE_CASTLE,[ur]:we.QSIDE_CASTLE},lr={w:[{square:ve.a1,flag:we.QSIDE_CASTLE},{square:ve.h1,flag:we.KSIDE_CASTLE}],b:[{square:ve.a8,flag:we.QSIDE_CASTLE},{square:ve.h8,flag:we.KSIDE_CASTLE}]},bm={b:Im,w:Rm},Ia="--";function Rr(s){return s>>4}function os(s){return s&15}function Bd(s){return"0123456789".indexOf(s)!==-1}function ct(s){const r=os(s),i=Rr(s);return"abcdefgh".substring(r,r+1)+"87654321".substring(i,i+1)}function Zi(s){return s===_t?Ut:_t}function Am(s){const r=s.split(/\s+/);if(r.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const i=parseInt(r[5],10);if(isNaN(i)||i<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const l=parseInt(r[4],10);if(isNaN(l)||l<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(r[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(r[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(r[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const u=r[0].split("/");if(u.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let h=0;h<u.length;h++){let g=0,m=!1;for(let y=0;y<u[h].length;y++)if(Bd(u[h][y])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};g+=parseInt(u[h][y],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(u[h][y]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};g+=1,m=!1}if(g!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(r[3][1]=="3"&&r[1]=="w"||r[3][1]=="6"&&r[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const f=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:h,regex:g}of f){if(!g.test(r[0]))return{ok:!1,error:`Invalid FEN: missing ${h} king`};if((r[0].match(g)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${h} kings`}}return Array.from(u[0]+u[7]).some(h=>h.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function $m(s,r){const i=s.from,l=s.to,u=s.piece;let f=0,h=0,g=0;for(let m=0,y=r.length;m<y;m++){const x=r[m].from,w=r[m].to,S=r[m].piece;u===S&&i!==x&&l===w&&(f++,Rr(i)===Rr(x)&&h++,os(i)===os(x)&&g++)}return f>0?h>0&&g>0?ct(i):g>0?ct(i).charAt(1):ct(i).charAt(0):""}function ar(s,r,i,l,u,f=void 0,h=we.NORMAL){const g=Rr(l);if(u===rt&&(g===Lm||g===Mm))for(let m=0;m<td.length;m++){const y=td[m];s.push({color:r,from:i,to:l,piece:u,captured:f,promotion:y,flags:h|we.PROMOTION})}else s.push({color:r,from:i,to:l,piece:u,captured:f,flags:h})}function nd(s){let r=s.charAt(0);return r>="a"&&r<="h"?s.match(/[a-h]\d.*[a-h]\d/)?void 0:rt:(r=r.toLowerCase(),r==="o"?ot:r)}function Ma(s){return s.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ls{constructor(r=La,{skipValidation:i=!1}={}){qe(this,"_board",new Array(128));qe(this,"_turn",_t);qe(this,"_header",{});qe(this,"_kings",{w:vt,b:vt});qe(this,"_epSquare",-1);qe(this,"_halfMoves",0);qe(this,"_moveNumber",0);qe(this,"_history",[]);qe(this,"_comments",{});qe(this,"_castling",{w:0,b:0});qe(this,"_hash",0n);qe(this,"_positionCount",new Map);this.load(r,{skipValidation:i})}clear({preserveHeaders:r=!1}={}){this._board=new Array(128),this._kings={w:vt,b:vt},this._turn=_t,this._castling={w:0,b:0},this._epSquare=vt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=r?this._header:{...Tm},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(r,{skipValidation:i=!1,preserveHeaders:l=!1}={}){let u=r.split(/\s+/);if(u.length>=2&&u.length<6){const g=["-","-","0","1"];r=u.concat(g.slice(-(6-u.length))).join(" ")}if(u=r.split(/\s+/),!i){const{ok:g,error:m}=Am(r);if(!g)throw new Error(m)}const f=u[0];let h=0;this.clear({preserveHeaders:l});for(let g=0;g<f.length;g++){const m=f.charAt(g);if(m==="/")h+=8;else if(Bd(m))h+=parseInt(m,10);else{const y=m<"a"?_t:Ut;this._put({type:m.toLowerCase(),color:y},ct(h)),h++}}this._turn=u[1],u[2].indexOf("K")>-1&&(this._castling.w|=we.KSIDE_CASTLE),u[2].indexOf("Q")>-1&&(this._castling.w|=we.QSIDE_CASTLE),u[2].indexOf("k")>-1&&(this._castling.b|=we.KSIDE_CASTLE),u[2].indexOf("q")>-1&&(this._castling.b|=we.QSIDE_CASTLE),this._epSquare=u[3]==="-"?vt:ve[u[3]],this._halfMoves=parseInt(u[4],10),this._moveNumber=parseInt(u[5],10),this._hash=this._computeHash(),this._updateSetup(r),this._incPositionCount()}fen({forceEnpassantSquare:r=!1}={}){var h,g;let i=0,l="";for(let m=ve.a8;m<=ve.h1;m++){if(this._board[m]){i>0&&(l+=i,i=0);const{color:y,type:x}=this._board[m];l+=y===_t?x.toUpperCase():x.toLowerCase()}else i++;m+1&136&&(i>0&&(l+=i),m!==ve.h1&&(l+="/"),i=0,m+=8)}let u="";this._castling[_t]&we.KSIDE_CASTLE&&(u+="K"),this._castling[_t]&we.QSIDE_CASTLE&&(u+="Q"),this._castling[Ut]&we.KSIDE_CASTLE&&(u+="k"),this._castling[Ut]&we.QSIDE_CASTLE&&(u+="q"),u=u||"-";let f="-";if(this._epSquare!==vt)if(r)f=ct(this._epSquare);else{const m=this._epSquare+(this._turn===_t?16:-16),y=[m+1,m-1];for(const x of y){if(x&136)continue;const w=this._turn;if(((h=this._board[x])==null?void 0:h.color)===w&&((g=this._board[x])==null?void 0:g.type)===rt){this._makeMove({color:w,from:x,to:this._epSquare,piece:rt,captured:rt,flags:we.EP_CAPTURE});const S=!this._isKingAttacked(w);if(this._undoMove(),S){f=ct(this._epSquare);break}}}}return[l,this._turn,u,f,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(r){if(!this._board[r])return 0n;const{color:i,type:l}=this._board[r],u={w:0,b:1}[i],f={p:0,n:1,b:2,r:3,q:4,k:5}[l];return _m[u][f][r]}_epKey(){return this._epSquare===vt?0n:Em[this._epSquare&7]}_castlingKey(){const r=this._castling.w>>5|this._castling.b>>3;return km[r]}_computeHash(){let r=0n;for(let i=ve.a8;i<=ve.h1;i++){if(i&136){i+=7;continue}this._board[i]&&(r^=this._pieceKey(i))}return r^=this._epKey(),r^=this._castlingKey(),this._turn==="b"&&(r^=Pa),r}_updateSetup(r){this._history.length>0||(r!==La?(this._header.SetUp="1",this._header.FEN=r):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(La)}get(r){return this._board[ve[r]]}findPiece(r){var l;const i=[];for(let u=ve.a8;u<=ve.h1;u++){if(u&136){u+=7;continue}!this._board[u]||((l=this._board[u])==null?void 0:l.color)!==r.color||this._board[u].color===r.color&&this._board[u].type===r.type&&i.push(ct(u))}return i}put({type:r,color:i},l){return this._put({type:r,color:i},l)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(r,i){this._hash^=this._pieceKey(r),this._board[r]=i,this._hash^=this._pieceKey(r)}_put({type:r,color:i},l){if(Pm.indexOf(r.toLowerCase())===-1||!(l in ve))return!1;const u=ve[l];if(r==ot&&!(this._kings[i]==vt||this._kings[i]==u))return!1;const f=this._board[u];return f&&f.type===ot&&(this._kings[f.color]=vt),this._set(u,{type:r,color:i}),r===ot&&(this._kings[i]=u),!0}_clear(r){this._hash^=this._pieceKey(r),delete this._board[r]}remove(r){const i=this.get(r);return this._clear(ve[r]),i&&i.type===ot&&(this._kings[i.color]=vt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),i}_updateCastlingRights(){var l,u,f,h,g,m,y,x,w,S,L,O;this._hash^=this._castlingKey();const r=((l=this._board[ve.e1])==null?void 0:l.type)===ot&&((u=this._board[ve.e1])==null?void 0:u.color)===_t,i=((f=this._board[ve.e8])==null?void 0:f.type)===ot&&((h=this._board[ve.e8])==null?void 0:h.color)===Ut;(!r||((g=this._board[ve.a1])==null?void 0:g.type)!==ts||((m=this._board[ve.a1])==null?void 0:m.color)!==_t)&&(this._castling.w&=-65),(!r||((y=this._board[ve.h1])==null?void 0:y.type)!==ts||((x=this._board[ve.h1])==null?void 0:x.color)!==_t)&&(this._castling.w&=-33),(!i||((w=this._board[ve.a8])==null?void 0:w.type)!==ts||((S=this._board[ve.a8])==null?void 0:S.color)!==Ut)&&(this._castling.b&=-65),(!i||((L=this._board[ve.h8])==null?void 0:L.type)!==ts||((O=this._board[ve.h8])==null?void 0:O.color)!==Ut)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var f,h;if(this._epSquare===vt)return;const r=this._epSquare+(this._turn===_t?-16:16),i=this._epSquare+(this._turn===_t?16:-16),l=[i+1,i-1];if(this._board[r]!==null||this._board[this._epSquare]!==null||((f=this._board[i])==null?void 0:f.color)!==Zi(this._turn)||((h=this._board[i])==null?void 0:h.type)!==rt){this._hash^=this._epKey(),this._epSquare=vt;return}const u=g=>{var m,y;return!(g&136)&&((m=this._board[g])==null?void 0:m.color)===this._turn&&((y=this._board[g])==null?void 0:y.type)===rt};l.some(u)||(this._hash^=this._epKey(),this._epSquare=vt)}_attacked(r,i,l){const u=[];for(let f=ve.a8;f<=ve.h1;f++){if(f&136){f+=7;continue}if(this._board[f]===void 0||this._board[f].color!==r)continue;const h=this._board[f],g=f-i;if(g===0)continue;const m=g+119;if(Nm[m]&jm[h.type]){if(h.type===rt){if(g>0&&h.color===_t||g<=0&&h.color===Ut)if(l)u.push(ct(f));else return!0;continue}if(h.type==="n"||h.type==="k")if(l){u.push(ct(f));continue}else return!0;const y=Dm[m];let x=f+y,w=!1;for(;x!==i;){if(this._board[x]!=null){w=!0;break}x+=y}if(!w)if(l){u.push(ct(f));continue}else return!0}}return l?u:!1}attackers(r,i){return i?this._attacked(i,ve[r],!0):this._attacked(this._turn,ve[r],!0)}_isKingAttacked(r){const i=this._kings[r];return i===-1?!1:this._attacked(Zi(r),i)}hash(){return this._hash.toString(16)}isAttacked(r,i){return this._attacked(i,ve[r])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const r={b:0,n:0,r:0,q:0,k:0,p:0},i=[];let l=0,u=0;for(let f=ve.a8;f<=ve.h1;f++){if(u=(u+1)%2,f&136){f+=7;continue}const h=this._board[f];h&&(r[h.type]=h.type in r?r[h.type]+1:1,h.type===Oo&&i.push(u),l++)}if(l===2)return!0;if(l===3&&(r[Oo]===1||r[Qa]===1))return!0;if(l===r[Oo]+2){let f=0;const h=i.length;for(let g=0;g<h;g++)f+=i[g];if(f===0||f===h)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:r=!1,square:i=void 0,piece:l=void 0}={}){const u=this._moves({square:i,piece:l});return r?u.map(f=>new wo(this,f)):u.map(f=>this._moveToSan(f,u))}_moves({legal:r=!0,piece:i=void 0,square:l=void 0}={}){var L;const u=l?l.toLowerCase():void 0,f=i==null?void 0:i.toLowerCase(),h=[],g=this._turn,m=Zi(g);let y=ve.a8,x=ve.h1,w=!1;if(u)if(u in ve)y=x=ve[u],w=!0;else return[];for(let O=y;O<=x;O++){if(O&136){O+=7;continue}if(!this._board[O]||this._board[O].color===m)continue;const{type:j}=this._board[O];let P;if(j===rt){if(f&&f!==j)continue;P=O+Ra[g][0],this._board[P]||(ar(h,g,O,P,rt),P=O+Ra[g][1],bm[g]===Rr(O)&&!this._board[P]&&ar(h,g,O,P,rt,void 0,we.BIG_PAWN));for(let K=2;K<4;K++)P=O+Ra[g][K],!(P&136)&&(((L=this._board[P])==null?void 0:L.color)===m?ar(h,g,O,P,rt,this._board[P].type,we.CAPTURE):P===this._epSquare&&ar(h,g,O,P,rt,rt,we.EP_CAPTURE))}else{if(f&&f!==j)continue;for(let K=0,$=ed[j].length;K<$;K++){const z=ed[j][K];for(P=O;P+=z,!(P&136);){if(!this._board[P])ar(h,g,O,P,j);else{if(this._board[P].color===g)break;ar(h,g,O,P,j,this._board[P].type,we.CAPTURE);break}if(j===Qa||j===ot)break}}}}if((f===void 0||f===ot)&&(!w||x===this._kings[g])){if(this._castling[g]&we.KSIDE_CASTLE){const O=this._kings[g],j=O+2;!this._board[O+1]&&!this._board[j]&&!this._attacked(m,this._kings[g])&&!this._attacked(m,O+1)&&!this._attacked(m,j)&&ar(h,g,this._kings[g],j,ot,void 0,we.KSIDE_CASTLE)}if(this._castling[g]&we.QSIDE_CASTLE){const O=this._kings[g],j=O-2;!this._board[O-1]&&!this._board[O-2]&&!this._board[O-3]&&!this._attacked(m,this._kings[g])&&!this._attacked(m,O-1)&&!this._attacked(m,j)&&ar(h,g,this._kings[g],j,ot,void 0,we.QSIDE_CASTLE)}}if(!r||this._kings[g]===-1)return h;const S=[];for(let O=0,j=h.length;O<j;O++)this._makeMove(h[O]),this._isKingAttacked(g)||S.push(h[O]),this._undoMove();return S}move(r,{strict:i=!1}={}){let l=null;if(typeof r=="string")l=this._moveFromSan(r,i);else if(r===null)l=this._moveFromSan(Ia,i);else if(typeof r=="object"){const f=this._moves();for(let h=0,g=f.length;h<g;h++)if(r.from===ct(f[h].from)&&r.to===ct(f[h].to)&&(!("promotion"in f[h])||r.promotion===f[h].promotion)){l=f[h];break}}if(!l)throw typeof r=="string"?new Error(`Invalid move: ${r}`):new Error(`Invalid move: ${JSON.stringify(r)}`);if(this.isCheck()&&l.flags&we.NULL_MOVE)throw new Error("Null move not allowed when in check");const u=new wo(this,l);return this._makeMove(l),this._incPositionCount(),u}_push(r){this._history.push({move:r,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(r,i){this._hash^=this._pieceKey(r),this._board[i]=this._board[r],delete this._board[r],this._hash^=this._pieceKey(i)}_makeMove(r){var u,f,h,g;const i=this._turn,l=Zi(i);if(this._push(r),r.flags&we.NULL_MOVE){i===Ut&&this._moveNumber++,this._halfMoves++,this._turn=l,this._epSquare=vt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),r.captured&&(this._hash^=this._pieceKey(r.to)),this._movePiece(r.from,r.to),r.flags&we.EP_CAPTURE&&(this._turn===Ut?this._clear(r.to-16):this._clear(r.to+16)),r.promotion&&(this._clear(r.to),this._set(r.to,{type:r.promotion,color:i})),this._board[r.to].type===ot){if(this._kings[i]=r.to,r.flags&we.KSIDE_CASTLE){const m=r.to-1,y=r.to+1;this._movePiece(y,m)}else if(r.flags&we.QSIDE_CASTLE){const m=r.to+1,y=r.to-2;this._movePiece(y,m)}this._castling[i]=0}if(this._castling[i]){for(let m=0,y=lr[i].length;m<y;m++)if(r.from===lr[i][m].square&&this._castling[i]&lr[i][m].flag){this._castling[i]^=lr[i][m].flag;break}}if(this._castling[l]){for(let m=0,y=lr[l].length;m<y;m++)if(r.to===lr[l][m].square&&this._castling[l]&lr[l][m].flag){this._castling[l]^=lr[l][m].flag;break}}if(this._hash^=this._castlingKey(),r.flags&we.BIG_PAWN){let m;i===Ut?m=r.to-16:m=r.to+16,!(r.to-1&136)&&((u=this._board[r.to-1])==null?void 0:u.type)===rt&&((f=this._board[r.to-1])==null?void 0:f.color)===l||!(r.to+1&136)&&((h=this._board[r.to+1])==null?void 0:h.type)===rt&&((g=this._board[r.to+1])==null?void 0:g.color)===l?(this._epSquare=m,this._hash^=this._epKey()):this._epSquare=vt}else this._epSquare=vt;r.piece===rt?this._halfMoves=0:r.flags&(we.CAPTURE|we.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,i===Ut&&this._moveNumber++,this._turn=l,this._hash^=Pa}undo(){const r=this._hash,i=this._undoMove();if(i){const l=new wo(this,i);return this._decPositionCount(r),l}return null}_undoMove(){const r=this._history.pop();if(r===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const i=r.move;this._kings=r.kings,this._turn=r.turn,this._castling=r.castling,this._epSquare=r.epSquare,this._halfMoves=r.halfMoves,this._moveNumber=r.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Pa;const l=this._turn,u=Zi(l);if(i.flags&we.NULL_MOVE)return i;if(this._movePiece(i.to,i.from),i.piece&&(this._clear(i.from),this._set(i.from,{type:i.piece,color:l})),i.captured)if(i.flags&we.EP_CAPTURE){let f;l===Ut?f=i.to-16:f=i.to+16,this._set(f,{type:rt,color:u})}else this._set(i.to,{type:i.captured,color:u});if(i.flags&(we.KSIDE_CASTLE|we.QSIDE_CASTLE)){let f,h;i.flags&we.KSIDE_CASTLE?(f=i.to+1,h=i.to-1):(f=i.to-2,h=i.to+1),this._movePiece(h,f)}return i}pgn({newline:r=`
`,maxWidth:i=0}={}){const l=[];let u=!1;for(const S in this._header)this._header[S]&&l.push(`[${S} "${this._header[S]}"]`+r),u=!0;u&&this._history.length&&l.push(r);const f=S=>{const L=this._comments[this.fen()];if(typeof L<"u"){const O=S.length>0?" ":"";S=`${S}${O}{${L}}`}return S},h=[];for(;this._history.length>0;)h.push(this._undoMove());const g=[];let m="";for(h.length===0&&g.push(f(""));h.length>0;){m=f(m);const S=h.pop();if(!S)break;if(!this._history.length&&S.color==="b"){const L=`${this._moveNumber}. ...`;m=m?`${m} ${L}`:L}else S.color==="w"&&(m.length&&g.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(S,this._moves({legal:!0})),this._makeMove(S)}if(m.length&&g.push(f(m)),g.push(this._header.Result||"*"),i===0)return l.join("")+g.join(" ");const y=function(){return l.length>0&&l[l.length-1]===" "?(l.pop(),!0):!1},x=function(S,L){for(const O of L.split(" "))if(O){if(S+O.length>i){for(;y();)S--;l.push(r),S=0}l.push(O),S+=O.length,l.push(" "),S++}return y()&&S--,S};let w=0;for(let S=0;S<g.length;S++){if(w+g[S].length>i&&g[S].includes("{")){w=x(w,g[S]);continue}w+g[S].length>i&&S!==0?(l[l.length-1]===" "&&l.pop(),l.push(r),w=0):S!==0&&(l.push(" "),w++),l.push(g[S]),w+=g[S].length}return l.join("")}header(...r){for(let i=0;i<r.length;i+=2)typeof r[i]=="string"&&typeof r[i+1]=="string"&&(this._header[r[i]]=r[i+1]);return this._header}setHeader(r,i){return this._header[r]=i??qa[r]??null,this.getHeaders()}removeHeader(r){return r in this._header?(this._header[r]=qa[r]||null,!0):!1}getHeaders(){const r={};for(const[i,l]of Object.entries(this._header))l!==null&&(r[i]=l);return r}loadPgn(r,{strict:i=!1,newlineChar:l=`\r?
`}={}){l!==`\r?
`&&(r=r.replace(new RegExp(l,"g"),`
`));const u=xm(r);this.reset();const f=u.headers;let h="";for(const y in f)y.toLowerCase()==="fen"&&(h=f[y]),this.header(y,f[y]);if(!i)h&&this.load(h,{preserveHeaders:!0});else if(f.SetUp==="1"){if(!("FEN"in f))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(f.FEN,{preserveHeaders:!0})}let g=u.root;for(;g;){if(g.move){const y=this._moveFromSan(g.move,i);if(y==null)throw new Error(`Invalid move in PGN: ${g.move}`);this._makeMove(y),this._incPositionCount()}g.comment!==void 0&&(this._comments[this.fen()]=g.comment),g=g.variations[0]}const m=u.result;m&&Object.keys(this._header).length&&this._header.Result!==m&&this.setHeader("Result",m)}_moveToSan(r,i){let l="";if(r.flags&we.KSIDE_CASTLE)l="O-O";else if(r.flags&we.QSIDE_CASTLE)l="O-O-O";else{if(r.flags&we.NULL_MOVE)return Ia;if(r.piece!==rt){const u=$m(r,i);l+=r.piece.toUpperCase()+u}r.flags&(we.CAPTURE|we.EP_CAPTURE)&&(r.piece===rt&&(l+=ct(r.from)[0]),l+="x"),l+=ct(r.to),r.promotion&&(l+="="+r.promotion.toUpperCase())}return this._makeMove(r),this.isCheck()&&(this.isCheckmate()?l+="#":l+="+"),this._undoMove(),l}_moveFromSan(r,i=!1){let l=Ma(r);if(i||(l==="0-0"?l="O-O":l==="0-0-0"&&(l="O-O-O")),l==Ia)return{color:this._turn,from:0,to:0,piece:"k",flags:we.NULL_MOVE};let u=nd(l),f=this._moves({legal:!0,piece:u});for(let S=0,L=f.length;S<L;S++)if(l===Ma(this._moveToSan(f[S],f)))return f[S];if(i)return null;let h,g,m,y,x,w=!1;if(g=l.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),g?(h=g[1],m=g[2],y=g[3],x=g[4],m.length==1&&(w=!0)):(g=l.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),g&&(h=g[1],m=g[2],y=g[3],x=g[4],m.length==1&&(w=!0))),u=nd(l),f=this._moves({legal:!0,piece:h||u}),!y)return null;for(let S=0,L=f.length;S<L;S++)if(m){if((!h||h.toLowerCase()==f[S].piece)&&ve[m]==f[S].from&&ve[y]==f[S].to&&(!x||x.toLowerCase()==f[S].promotion))return f[S];if(w){const O=ct(f[S].from);if((!h||h.toLowerCase()==f[S].piece)&&ve[y]==f[S].to&&(m==O[0]||m==O[1])&&(!x||x.toLowerCase()==f[S].promotion))return f[S]}}else if(l===Ma(this._moveToSan(f[S],f)).replace("x",""))return f[S];return null}ascii(){let r=`   +------------------------+
`;for(let i=ve.a8;i<=ve.h1;i++){if(os(i)===0&&(r+=" "+"87654321"[Rr(i)]+" |"),this._board[i]){const l=this._board[i].type,f=this._board[i].color===_t?l.toUpperCase():l.toLowerCase();r+=" "+f+" "}else r+=" . ";i+1&136&&(r+=`|
`,i+=8)}return r+=`   +------------------------+
`,r+="     a  b  c  d  e  f  g  h",r}perft(r){const i=this._moves({legal:!1});let l=0;const u=this._turn;for(let f=0,h=i.length;f<h;f++)this._makeMove(i[f]),this._isKingAttacked(u)||(r-1>0?l+=this.perft(r-1):l++),this._undoMove();return l}setTurn(r){return this._turn==r?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const r=[];let i=[];for(let l=ve.a8;l<=ve.h1;l++)this._board[l]==null?i.push(null):i.push({square:ct(l),type:this._board[l].type,color:this._board[l].color}),l+1&136&&(r.push(i),i=[],l+=8);return r}squareColor(r){if(r in ve){const i=ve[r];return(Rr(i)+os(i))%2===0?"light":"dark"}return null}history({verbose:r=!1}={}){const i=[],l=[];for(;this._history.length>0;)i.push(this._undoMove());for(;;){const u=i.pop();if(!u)break;r?l.push(new wo(this,u)):l.push(this._moveToSan(u,this._moves())),this._makeMove(u)}return l}_getPositionCount(r){return this._positionCount.get(r)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(r){const i=this._positionCount.get(r)??0;i===1?this._positionCount.delete(r):this._positionCount.set(r,i-1)}_pruneComments(){const r=[],i={},l=u=>{u in this._comments&&(i[u]=this._comments[u])};for(;this._history.length>0;)r.push(this._undoMove());for(l(this.fen());;){const u=r.pop();if(!u)break;this._makeMove(u),l(this.fen())}this._comments=i}getComment(){return this._comments[this.fen()]}setComment(r){this._comments[this.fen()]=r.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const r=this._comments[this.fen()];return delete this._comments[this.fen()],r}getComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>({fen:r,comment:this._comments[r]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>{const i=this._comments[r];return delete this._comments[r],{fen:r,comment:i}})}setCastlingRights(r,i){for(const u of[ot,ur])i[u]!==void 0&&(i[u]?this._castling[r]|=xo[u]:this._castling[r]&=~xo[u]);this._updateCastlingRights();const l=this.getCastlingRights(r);return(i[ot]===void 0||i[ot]===l[ot])&&(i[ur]===void 0||i[ur]===l[ur])}getCastlingRights(r){return{[ot]:(this._castling[r]&xo[ot])!==0,[ur]:(this._castling[r]&xo[ur])!==0}}moveNumber(){return this._moveNumber}}function zm(s,r){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(i[l[u]]=s[l[u]]);return i}const as="abcdefgh".split(""),To={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Fm={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Um={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Bm=[7,6,5,4,3,2,1,0],Wm=[0,1,2,3,4,5,6,7],rd={wP:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),d.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),d.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[d.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),d.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),d.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),d.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[d.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),d.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),d.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),d.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),d.jsx("circle",{cx:"6",cy:"12",r:"2"}),d.jsx("circle",{cx:"14",cy:"9",r:"2"}),d.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),d.jsx("circle",{cx:"31",cy:"9",r:"2"}),d.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),d.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),d.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[d.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),d.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),d.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),d.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[d.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),d.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),d.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),d.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),d.jsx("circle",{cx:"6",cy:"12",r:"2"}),d.jsx("circle",{cx:"14",cy:"9",r:"2"}),d.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),d.jsx("circle",{cx:"31",cy:"9",r:"2"}),d.jsx("circle",{cx:"39",cy:"12",r:"2"}),d.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),d.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[d.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),d.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),d.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),d.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),d.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),d.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Ga(s,r,i){const l=r/8,u=s==="white"?Fm:Um,f=s==="white"?Bm:Wm,h=u[i[0]]*l+l/2,g=f[parseInt(i[1],10)-1]*l+l/2;return{x:h,y:g}}function id(s){let r=!1;return Object.keys(To).forEach(i=>{s[i]!==To[i]&&(r=!0)}),Object.keys(s).forEach(i=>{To[i]!==s[i]&&(r=!0)}),r}function Hm(s,r){const i={removed:{},added:{}};return Object.keys(s).forEach(l=>{r[l]!==s[l]&&(i.removed[l]=s[l])}),Object.keys(r).forEach(l=>{s[l]!==r[l]&&(i.added[l]=r[l])}),i}function sd(s){return s==="start"?To:typeof s=="string"?Vm(s):s}function Vm(s){if(!Km(s))return{};s=s.replace(/ .+$/,"");const r=s.split("/"),i={};let l=8;for(let u=0;u<8;u++){const f=r[u].split("");let h=0;for(let g=0;g<f.length;g++)if(f[g].search(/[1-8]/)!==-1){const m=parseInt(f[g],10);h=h+m}else{const m=as[h]+l;i[m]=qm(f[g]),h=h+1}l=l-1}return i}function Km(s){s=s.replace(/ .+$/,""),s=Qm(s);const r=s.split("/");if(r.length!==8)return!1;for(let i=0;i<8;i++)if(r[i].length!==8||r[i].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function Qm(s){return s.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function qm(s){return s.toLowerCase()===s?"b"+s.toUpperCase():"w"+s.toUpperCase()}const Gm=(s,r=!0,i,l)=>{const[u,f]=_.useState([]),[h,g]=_.useState([]),[m,y]=_.useState();_.useEffect(()=>{Array.isArray(s)&&(x(),f(s==null?void 0:s.filter(O=>O[0]!==O[1])))},[s]),_.useEffect(()=>{i==null||i(h)},[h]);function x(){g([]),y(void 0)}const w=(O,j)=>{r&&y([O,j,l])},S=[...h,...u];return{arrows:S,newArrow:m,clearArrows:x,drawNewArrow:w,setArrows:g,onArrowDrawEnd:(O,j)=>{if(O===j||!r)return;let P;const K=[O,j,l];S.every(([z,G])=>!(z===O&&G===j))?P=[...h,K]:P=h.filter(([z,G])=>!(z===O&&G===j)),y(void 0),g(P)}}},Wd=_.createContext({}),Ln=()=>_.useContext(Wd),Ym=_.forwardRef(({allowDragOutsideBoard:s=!0,animationDuration:r=300,areArrowsAllowed:i=!0,arePiecesDraggable:l=!0,arePremovesAllowed:u=!1,autoPromoteToQueen:f=!1,boardOrientation:h="white",boardWidth:g,children:m,clearPremovesOnRightClick:y=!0,customArrows:x,customArrowColor:w="rgb(255,170,0)",customBoardStyle:S,customNotationStyle:L,customDarkSquareStyle:O={backgroundColor:"#B58863"},customDropSquareStyle:j={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:P={backgroundColor:"#F0D9B5"},customPieces:K,customPremoveDarkSquareStyle:$={backgroundColor:"#A42323"},customPremoveLightSquareStyle:z={backgroundColor:"#BD2828"},customSquare:G="div",customSquareStyles:de,dropOffBoardAction:_e="snapback",id:be=0,isDraggablePiece:Pe=()=>!0,getPositionObject:Fe=()=>{},onArrowsChange:Ae=()=>{},onDragOverSquare:He=()=>{},onMouseOutSquare:Ne=()=>{},onMouseOverSquare:Ie=()=>{},onPieceClick:Te=()=>{},onPieceDragBegin:Z=()=>{},onPieceDragEnd:Y=()=>{},onPieceDrop:re=()=>!0,onPieceDropOffBoard:W=()=>{},onPromotionCheck:te=(ie,Ee,ae)=>(ae==="wP"&&ie[1]==="7"&&Ee[1]==="8"||ae==="bP"&&ie[1]==="2"&&Ee[1]==="1")&&Math.abs(ie.charCodeAt(0)-Ee.charCodeAt(0))<=1,onPromotionPieceSelect:q=()=>!0,onSparePieceDrop:k=()=>!0,onSquareClick:A=()=>{},onSquareRightClick:fe=()=>{},position:he="start",promotionDialogVariant:Se="default",promotionToSquare:me=null,showBoardNotation:J=!0,showPromotionDialog:xe=!1,snapToCursor:De=!0},V)=>{const[ie,Ee]=_.useState(sd(he)),[ae,$e]=_.useState({removed:{},added:{}}),[ft,et]=_.useState(void 0),[ln,Jt]=_.useState(xe&&!f),[pr,an]=_.useState(null),[un,mn]=_.useState(me),[Rn,In]=_.useState([]),It=_.useRef(Rn),[Mn,Zt]=_.useState(),[bn,Ar]=_.useState(Object.assign(Object.assign({},rd),K)),[vn,Bt]=_.useState(!1),An=_.useRef(),[yn,Sn]=_.useState(!1),[gi,gr]=_.useState(null);_.useImperativeHandle(V,()=>({clearPremoves(je=!0){xn(je)}})),_.useEffect(()=>{Ar(Object.assign(Object.assign({},rd),K))},[K]),_.useEffect(()=>{Jt(xe),mn(me)},[me,xe]),_.useEffect(()=>{var je,U,Ve;Fn();const ke=sd(he),Ke=Hm(ie,ke),ht=((je=Object.keys(Ke.added))===null||je===void 0?void 0:je.length)<=2?(Ve=(U=Object.entries(Ke.added))===null||U===void 0?void 0:U[0])===null||Ve===void 0?void 0:Ve[1][0]:void 0;if(yn)Ee(ke),Sn(!1),u&&zn(ht),An.current&&clearTimeout(An.current);else if(vn)Ee(ke),Sn(!1),u&&zn(ht);else{id(ke)&&ft!==void 0?et(ht):id(ke)?et(void 0):et("b"),$e(Ke),Sn(!0);const yt=setTimeout(()=>{Ee(ke),Sn(!1),u&&zn(ht)},r);An.current=yt}return Bt(!1),Fe(ke),wn(),()=>{clearTimeout(An.current)}},[he]);const{arrows:$n,newArrow:mr,clearArrows:wn,drawNewArrow:vr,onArrowDrawEnd:cn}=Gm(x,i,Ae,w);function fn(je,U,Ve,ke){if(je===U)return;if(wn(),u&&yn||u&&(ft===Ve[0]||It.current.filter(ht=>ht.piece[0]===Ve[0]).length>0)){const ht=[...It.current];ht.push({sourceSq:je,targetSq:U,piece:Ve}),It.current=ht,In([...ht]),Fn();return}if(!u&&yn)return;const Ke=Object.assign({},ie);Bt(!!ke),et(Ve[0]),re.length?re(je,U,Ve)||(xn(),Bt(!1)):(delete Ke[je],Ke[U]=Ve,Ee(Ke)),Fn(),Fe(Ke)}function $r(je){const U=Object.assign({},ie);delete U[je],Ee(U),Fe(U)}function zn(je){if(It.current.length===0)return;const U=It.current[0];if(U.piece[0]!==void 0&&U.piece[0]!==je&&re.length)if(et(U.piece[0]),Bt(!0),re(U.sourceSq,U.targetSq,U.piece)){const ke=[...It.current];ke.shift(),It.current=ke,In([...ke])}else xn()}function zr(je,U){if(!k(je,U))return;const ke=Object.assign({},ie);ke[U]=je,Ee(ke),Fe(ke)}function xn(je=!0){je&&et(void 0),It.current=[],In([])}function Fn(){an(null),mn(null),Jt(!1)}function yr(je){Zt(je)}function I(je){if(Mn){if(Mn===je){Zt(void 0),y&&xn(!1),fe(je);return}}else Zt(void 0)}function Tt(){Zt(void 0)}const dt={allowDragOutsideBoard:s,animationDuration:r,arePiecesDraggable:l,arePremovesAllowed:u,arrows:$n,autoPromoteToQueen:f,boardOrientation:h,boardWidth:g,chessPieces:bn,clearArrows:wn,clearCurrentRightClickDown:Tt,currentPosition:ie,currentRightClickDown:Mn,customArrowColor:w,customBoardStyle:S,customDarkSquareStyle:O,customDropSquareStyle:j,customLightSquareStyle:P,customNotationStyle:L,customPremoveDarkSquareStyle:$,customPremoveLightSquareStyle:z,customSquare:G,customSquareStyles:de,deletePieceFromSquare:$r,drawNewArrow:vr,dropOffBoardAction:_e,handleSetPosition:fn,handleSparePieceDrop:zr,id:be,isDraggablePiece:Pe,isWaitingForAnimation:yn,lastPieceColour:ft,lastSquareDraggedOver:gi,newArrow:mr,onArrowDrawEnd:cn,onDragOverSquare:He,onMouseOutSquare:Ne,onMouseOverSquare:Ie,onPieceClick:Te,onPieceDragBegin:Z,onPieceDragEnd:Y,onPieceDrop:re,onPieceDropOffBoard:W,onPromotionCheck:te,onPromotionPieceSelect:q,onRightClickDown:yr,onRightClickUp:I,onSparePieceDrop:k,onSquareClick:A,positionDifferences:ae,premoves:Rn,promoteFromSquare:pr,promoteToSquare:un,promotionDialogVariant:Se,setLastSquareDraggedOver:gr,setPromoteFromSquare:an,setPromoteToSquare:mn,setShowPromoteDialog:Jt,showBoardNotation:J,showPromoteDialog:ln,snapToCursor:De};return d.jsx(Wd.Provider,Object.assign({value:dt},{children:m}))});function Xm({row:s,col:r}){const{boardOrientation:i,boardWidth:l,customDarkSquareStyle:u,customLightSquareStyle:f,customNotationStyle:h}=Ln(),g=f.backgroundColor,m=u.backgroundColor,y=r===0,x=s===7,w=y&&x;function S(){return i==="white"?8-s:s+1}function L(){return i==="black"?as[7-r]:as[r]}function O(){return d.jsxs(d.Fragment,{children:[d.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:g}),ld(l,h))},{children:S()})),d.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:g}),od(l,h))},{children:L()}))]})}function j(){return d.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:r%2!==0?m:g}),od(l,h))},{children:L()}))}function P(){return d.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},i==="black"?{color:s%2===0?m:g}:{color:s%2===0?m:g}),ld(l,h))},{children:S()}))}return w?O():x?j():y?P():null}const od=(s,r)=>Object.assign({alignSelf:"flex-end",paddingLeft:s/8-s/48,fontSize:s/48},r),ld=(s,r)=>Object.assign({alignSelf:"flex-start",paddingRight:s/8-s/48,fontSize:s/48},r),Hd=_.createContext({dragDropManager:void 0});function Yt(s){return"Minified Redux error #"+s+"; visit https://redux.js.org/Errors?code="+s+" for the full message or use the non-minified dev environment for full errors. "}var ad=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),ud=function(){return Math.random().toString(36).substring(7).split("").join(".")},cd={INIT:"@@redux/INIT"+ud(),REPLACE:"@@redux/REPLACE"+ud()};function Jm(s){if(typeof s!="object"||s===null)return!1;for(var r=s;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(s)===r}function Vd(s,r,i){var l;if(typeof r=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof r=="function"&&typeof i>"u"&&(i=r,r=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Yt(1));return i(Vd)(s,r)}if(typeof s!="function")throw new Error(Yt(2));var u=s,f=r,h=[],g=h,m=!1;function y(){g===h&&(g=h.slice())}function x(){if(m)throw new Error(Yt(3));return f}function w(j){if(typeof j!="function")throw new Error(Yt(4));if(m)throw new Error(Yt(5));var P=!0;return y(),g.push(j),function(){if(P){if(m)throw new Error(Yt(6));P=!1,y();var $=g.indexOf(j);g.splice($,1),h=null}}}function S(j){if(!Jm(j))throw new Error(Yt(7));if(typeof j.type>"u")throw new Error(Yt(8));if(m)throw new Error(Yt(9));try{m=!0,f=u(f,j)}finally{m=!1}for(var P=h=g,K=0;K<P.length;K++){var $=P[K];$()}return j}function L(j){if(typeof j!="function")throw new Error(Yt(10));u=j,S({type:cd.REPLACE})}function O(){var j,P=w;return j={subscribe:function($){if(typeof $!="object"||$===null)throw new Error(Yt(11));function z(){$.next&&$.next(x())}z();var G=P(z);return{unsubscribe:G}}},j[ad]=function(){return this},j}return S({type:cd.INIT}),l={dispatch:S,subscribe:w,getState:x,replaceReducer:L},l[ad]=O,l}function Ce(s,r,...i){if(Zm()&&r===void 0)throw new Error("invariant requires an error message argument");if(!s){let l;if(r===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let u=0;l=new Error(r.replace(/%s/g,function(){return i[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}function Zm(){return typeof process<"u"&&!0}function e0(s,r,i){return r.split(".").reduce((l,u)=>l&&l[u]?l[u]:i||null,s)}function t0(s,r){return s.filter(i=>i!==r)}function Kd(s){return typeof s=="object"}function n0(s,r){const i=new Map,l=f=>{i.set(f,i.has(f)?i.get(f)+1:1)};s.forEach(l),r.forEach(l);const u=[];return i.forEach((f,h)=>{f===1&&u.push(h)}),u}function r0(s,r){return s.filter(i=>r.indexOf(i)>-1)}const su="dnd-core/INIT_COORDS",bo="dnd-core/BEGIN_DRAG",ou="dnd-core/PUBLISH_DRAG_SOURCE",Ao="dnd-core/HOVER",$o="dnd-core/DROP",zo="dnd-core/END_DRAG";function fd(s,r){return{type:su,payload:{sourceClientOffset:r||null,clientOffset:s||null}}}const i0={type:su,payload:{clientOffset:null,sourceClientOffset:null}};function s0(s){return function(i=[],l={publishSource:!0}){const{publishSource:u=!0,clientOffset:f,getSourceClientOffset:h}=l,g=s.getMonitor(),m=s.getRegistry();s.dispatch(fd(f)),o0(i,g,m);const y=u0(i,g);if(y==null){s.dispatch(i0);return}let x=null;if(f){if(!h)throw new Error("getSourceClientOffset must be defined");l0(h),x=h(y)}s.dispatch(fd(f,x));const S=m.getSource(y).beginDrag(g,y);if(S==null)return;a0(S),m.pinSource(y);const L=m.getSourceType(y);return{type:bo,payload:{itemType:L,item:S,sourceId:y,clientOffset:f||null,sourceClientOffset:x||null,isSourcePublic:!!u}}}}function o0(s,r,i){Ce(!r.isDragging(),"Cannot call beginDrag while dragging."),s.forEach(function(l){Ce(i.getSource(l),"Expected sourceIds to be registered.")})}function l0(s){Ce(typeof s=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function a0(s){Ce(Kd(s),"Item must be an object.")}function u0(s,r){let i=null;for(let l=s.length-1;l>=0;l--)if(r.canDragSource(s[l])){i=s[l];break}return i}function c0(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function f0(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable}))),l.forEach(function(u){c0(s,u,i[u])})}return s}function d0(s){return function(i={}){const l=s.getMonitor(),u=s.getRegistry();h0(l),m0(l).forEach((h,g)=>{const m=p0(h,g,u,l),y={type:$o,payload:{dropResult:f0({},i,m)}};s.dispatch(y)})}}function h0(s){Ce(s.isDragging(),"Cannot call drop while not dragging."),Ce(!s.didDrop(),"Cannot call drop twice during one drag operation.")}function p0(s,r,i,l){const u=i.getTarget(s);let f=u?u.drop(l,s):void 0;return g0(f),typeof f>"u"&&(f=r===0?{}:l.getDropResult()),f}function g0(s){Ce(typeof s>"u"||Kd(s),"Drop result must either be an object or undefined.")}function m0(s){const r=s.getTargetIds().filter(s.canDropOnTarget,s);return r.reverse(),r}function v0(s){return function(){const i=s.getMonitor(),l=s.getRegistry();y0(i);const u=i.getSourceId();return u!=null&&(l.getSource(u,!0).endDrag(i,u),l.unpinSource()),{type:zo}}}function y0(s){Ce(s.isDragging(),"Cannot call endDrag while not dragging.")}function Ya(s,r){return r===null?s===null:Array.isArray(s)?s.some(i=>i===r):s===r}function S0(s){return function(i,{clientOffset:l}={}){w0(i);const u=i.slice(0),f=s.getMonitor(),h=s.getRegistry(),g=f.getItemType();return C0(u,h,g),x0(u,f,h),_0(u,f,h),{type:Ao,payload:{targetIds:u,clientOffset:l||null}}}}function w0(s){Ce(Array.isArray(s),"Expected targetIds to be an array.")}function x0(s,r,i){Ce(r.isDragging(),"Cannot call hover while not dragging."),Ce(!r.didDrop(),"Cannot call hover after drop.");for(let l=0;l<s.length;l++){const u=s[l];Ce(s.lastIndexOf(u)===l,"Expected targetIds to be unique in the passed array.");const f=i.getTarget(u);Ce(f,"Expected targetIds to be registered.")}}function C0(s,r,i){for(let l=s.length-1;l>=0;l--){const u=s[l],f=r.getTargetType(u);Ya(f,i)||s.splice(l,1)}}function _0(s,r,i){s.forEach(function(l){i.getTarget(l).hover(r,l)})}function E0(s){return function(){if(s.getMonitor().isDragging())return{type:ou}}}function k0(s){return{beginDrag:s0(s),publishDragSource:E0(s),hover:S0(s),drop:d0(s),endDrag:v0(s)}}class O0{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const r=this,{dispatch:i}=this.store;function l(f){return(...h)=>{const g=f.apply(r,h);typeof g<"u"&&i(g)}}const u=k0(this);return Object.keys(u).reduce((f,h)=>{const g=u[h];return f[h]=l(g),f},{})}dispatch(r){this.store.dispatch(r)}constructor(r,i){this.isSetUp=!1,this.handleRefCountChange=()=>{const l=this.store.getState().refCount>0;this.backend&&(l&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!l&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=i,r.subscribe(this.handleRefCountChange)}}function T0(s,r){return{x:s.x+r.x,y:s.y+r.y}}function Qd(s,r){return{x:s.x-r.x,y:s.y-r.y}}function N0(s){const{clientOffset:r,initialClientOffset:i,initialSourceClientOffset:l}=s;return!r||!i||!l?null:Qd(T0(r,l),i)}function D0(s){const{clientOffset:r,initialClientOffset:i}=s;return!r||!i?null:Qd(r,i)}const ns=[],lu=[];ns.__IS_NONE__=!0;lu.__IS_ALL__=!0;function j0(s,r){return s===ns?!1:s===lu||typeof r>"u"?!0:r0(r,s).length>0}class P0{subscribeToStateChange(r,i={}){const{handlerIds:l}=i;Ce(typeof r=="function","listener must be a function."),Ce(typeof l>"u"||Array.isArray(l),"handlerIds, when specified, must be an array of strings.");let u=this.store.getState().stateId;const f=()=>{const h=this.store.getState(),g=h.stateId;try{g===u||g===u+1&&!j0(h.dirtyHandlerIds,l)||r()}finally{u=g}};return this.store.subscribe(f)}subscribeToOffsetChange(r){Ce(typeof r=="function","listener must be a function.");let i=this.store.getState().dragOffset;const l=()=>{const u=this.store.getState().dragOffset;u!==i&&(i=u,r())};return this.store.subscribe(l)}canDragSource(r){if(!r)return!1;const i=this.registry.getSource(r);return Ce(i,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:i.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;const i=this.registry.getTarget(r);if(Ce(i,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;const l=this.registry.getTargetType(r),u=this.getItemType();return Ya(l,u)&&i.canDrop(this,r)}isDragging(){return!!this.getItemType()}isDraggingSource(r){if(!r)return!1;const i=this.registry.getSource(r,!0);if(Ce(i,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;const l=this.registry.getSourceType(r),u=this.getItemType();return l!==u?!1:i.isDragging(this,r)}isOverTarget(r,i={shallow:!1}){if(!r)return!1;const{shallow:l}=i;if(!this.isDragging())return!1;const u=this.registry.getTargetType(r),f=this.getItemType();if(f&&!Ya(u,f))return!1;const h=this.getTargetIds();if(!h.length)return!1;const g=h.indexOf(r);return l?g===h.length-1:g>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return N0(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return D0(this.store.getState().dragOffset)}constructor(r,i){this.store=r,this.registry=i}}const dd=typeof global<"u"?global:self,qd=dd.MutationObserver||dd.WebKitMutationObserver;function Gd(s){return function(){const i=setTimeout(u,0),l=setInterval(u,50);function u(){clearTimeout(i),clearInterval(l),s()}}}function L0(s){let r=1;const i=new qd(s),l=document.createTextNode("");return i.observe(l,{characterData:!0}),function(){r=-r,l.data=r}}const R0=typeof qd=="function"?L0:Gd;class I0{enqueueTask(r){const{queue:i,requestFlush:l}=this;i.length||(l(),this.flushing=!0),i[i.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const i=this.index;if(this.index++,r[i].call(),this.index>this.capacity){for(let l=0,u=r.length-this.index;l<u;l++)r[l]=r[l+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=R0(this.flush),this.requestErrorThrow=Gd(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class M0{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,i){this.onError=r,this.release=i,this.task=null}}class b0{create(r){const i=this.freeTasks,l=i.length?i.pop():new M0(this.onError,u=>i[i.length]=u);return l.task=r,l}constructor(r){this.onError=r,this.freeTasks=[]}}const Yd=new I0,A0=new b0(Yd.registerPendingError);function $0(s){Yd.enqueueTask(A0.create(s))}const au="dnd-core/ADD_SOURCE",uu="dnd-core/ADD_TARGET",cu="dnd-core/REMOVE_SOURCE",Fo="dnd-core/REMOVE_TARGET";function z0(s){return{type:au,payload:{sourceId:s}}}function F0(s){return{type:uu,payload:{targetId:s}}}function U0(s){return{type:cu,payload:{sourceId:s}}}function B0(s){return{type:Fo,payload:{targetId:s}}}function W0(s){Ce(typeof s.canDrag=="function","Expected canDrag to be a function."),Ce(typeof s.beginDrag=="function","Expected beginDrag to be a function."),Ce(typeof s.endDrag=="function","Expected endDrag to be a function.")}function H0(s){Ce(typeof s.canDrop=="function","Expected canDrop to be a function."),Ce(typeof s.hover=="function","Expected hover to be a function."),Ce(typeof s.drop=="function","Expected beginDrag to be a function.")}function Xa(s,r){if(r&&Array.isArray(s)){s.forEach(i=>Xa(i,!1));return}Ce(typeof s=="string"||typeof s=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Xt;(function(s){s.SOURCE="SOURCE",s.TARGET="TARGET"})(Xt||(Xt={}));let V0=0;function K0(){return V0++}function Q0(s){const r=K0().toString();switch(s){case Xt.SOURCE:return`S${r}`;case Xt.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${s}`)}}function hd(s){switch(s[0]){case"S":return Xt.SOURCE;case"T":return Xt.TARGET;default:throw new Error(`Cannot parse handler ID: ${s}`)}}function pd(s,r){const i=s.entries();let l=!1;do{const{done:u,value:[,f]}=i.next();if(f===r)return!0;l=!!u}while(!l);return!1}class q0{addSource(r,i){Xa(r),W0(i);const l=this.addHandler(Xt.SOURCE,r,i);return this.store.dispatch(z0(l)),l}addTarget(r,i){Xa(r,!0),H0(i);const l=this.addHandler(Xt.TARGET,r,i);return this.store.dispatch(F0(l)),l}containsHandler(r){return pd(this.dragSources,r)||pd(this.dropTargets,r)}getSource(r,i=!1){return Ce(this.isSourceId(r),"Expected a valid source ID."),i&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return Ce(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return Ce(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return Ce(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return hd(r)===Xt.SOURCE}isTargetId(r){return hd(r)===Xt.TARGET}removeSource(r){Ce(this.getSource(r),"Expected an existing source."),this.store.dispatch(U0(r)),$0(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){Ce(this.getTarget(r),"Expected an existing target."),this.store.dispatch(B0(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){const i=this.getSource(r);Ce(i,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=i}unpinSource(){Ce(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,i,l){const u=Q0(r);return this.types.set(u,i),r===Xt.SOURCE?this.dragSources.set(u,l):r===Xt.TARGET&&this.dropTargets.set(u,l),u}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}}const G0=(s,r)=>s===r;function Y0(s,r){return!s&&!r?!0:!s||!r?!1:s.x===r.x&&s.y===r.y}function X0(s,r,i=G0){if(s.length!==r.length)return!1;for(let l=0;l<s.length;++l)if(!i(s[l],r[l]))return!1;return!0}function J0(s=ns,r){switch(r.type){case Ao:break;case au:case uu:case Fo:case cu:return ns;case bo:case ou:case zo:case $o:default:return lu}const{targetIds:i=[],prevTargetIds:l=[]}=r.payload,u=n0(i,l);if(!(u.length>0||!X0(i,l)))return ns;const h=l[l.length-1],g=i[i.length-1];return h!==g&&(h&&u.push(h),g&&u.push(g)),u}function Z0(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function ev(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable}))),l.forEach(function(u){Z0(s,u,i[u])})}return s}const gd={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function tv(s=gd,r){const{payload:i}=r;switch(r.type){case su:case bo:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case Ao:return Y0(s.clientOffset,i.clientOffset)?s:ev({},s,{clientOffset:i.clientOffset});case zo:case $o:return gd;default:return s}}function nv(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function ai(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable}))),l.forEach(function(u){nv(s,u,i[u])})}return s}const rv={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function iv(s=rv,r){const{payload:i}=r;switch(r.type){case bo:return ai({},s,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case ou:return ai({},s,{isSourcePublic:!0});case Ao:return ai({},s,{targetIds:i.targetIds});case Fo:return s.targetIds.indexOf(i.targetId)===-1?s:ai({},s,{targetIds:t0(s.targetIds,i.targetId)});case $o:return ai({},s,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case zo:return ai({},s,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return s}}function sv(s=0,r){switch(r.type){case au:case uu:return s+1;case cu:case Fo:return s-1;default:return s}}function ov(s=0){return s+1}function lv(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function av(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable}))),l.forEach(function(u){lv(s,u,i[u])})}return s}function uv(s={},r){return{dirtyHandlerIds:J0(s.dirtyHandlerIds,{type:r.type,payload:av({},r.payload,{prevTargetIds:e0(s,"dragOperation.targetIds",[])})}),dragOffset:tv(s.dragOffset,r),refCount:sv(s.refCount,r),dragOperation:iv(s.dragOperation,r),stateId:ov(s.stateId)}}function cv(s,r=void 0,i={},l=!1){const u=fv(l),f=new P0(u,new q0(u)),h=new O0(u,f),g=s(h,r,i);return h.receiveBackend(g),h}function fv(s){const r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Vd(uv,s&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}function dv(s,r){if(s==null)return{};var i=hv(s,r),l,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);for(u=0;u<f.length;u++)l=f[u],!(r.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(s,l)&&(i[l]=s[l])}return i}function hv(s,r){if(s==null)return{};var i={},l=Object.keys(s),u,f;for(f=0;f<l.length;f++)u=l[f],!(r.indexOf(u)>=0)&&(i[u]=s[u]);return i}let md=0;const No=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var pv=_.memo(function(r){var{children:i}=r,l=dv(r,["children"]);const[u,f]=gv(l);return _.useEffect(()=>{if(f){const h=Xd();return++md,()=>{--md===0&&(h[No]=null)}}},[]),d.jsx(Hd.Provider,{value:u,children:i})});function gv(s){if("manager"in s)return[{dragDropManager:s.manager},!1];const r=mv(s.backend,s.context,s.options,s.debugMode),i=!s.context;return[r,i]}function mv(s,r=Xd(),i,l){const u=r;return u[No]||(u[No]={dragDropManager:cv(s,r,i,l)}),u[No]}function Xd(){return typeof global<"u"?global:window}var vv=function s(r,i){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(r.constructor!==i.constructor)return!1;var l,u,f;if(Array.isArray(r)){if(l=r.length,l!=i.length)return!1;for(u=l;u--!==0;)if(!s(r[u],i[u]))return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if(f=Object.keys(r),l=f.length,l!==Object.keys(i).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(i,f[u]))return!1;for(u=l;u--!==0;){var h=f[u];if(!s(r[h],i[h]))return!1}return!0}return r!==r&&i!==i};const Ir=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Jd(s,r,i){const[l,u]=_.useState(()=>r(s)),f=_.useCallback(()=>{const h=r(s);vv(l,h)||(u(h),i&&i())},[l,s,i]);return Ir(f),[l,f]}function yv(s,r,i){const[l,u]=Jd(s,r,i);return Ir(function(){const h=s.getHandlerId();if(h!=null)return s.subscribeToStateChange(u,{handlerIds:[h]})},[s,u]),l}function Zd(s,r,i){return yv(r,s||(()=>({})),()=>i.reconnect())}function eh(s,r){const i=[...r||[]];return r==null&&typeof s!="function"&&i.push(s),_.useMemo(()=>typeof s=="function"?s():s,i)}function Sv(s){return _.useMemo(()=>s.hooks.dragSource(),[s])}function wv(s){return _.useMemo(()=>s.hooks.dragPreview(),[s])}let ba=!1,Aa=!1;class xv{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){Ce(!ba,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ba=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ba=!1}}isDragging(){if(!this.sourceId)return!1;Ce(!Aa,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Aa=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Aa=!1}}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,i){return this.internalMonitor.isOverTarget(r,i)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let $a=!1;class Cv{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}canDrop(){if(!this.targetId)return!1;Ce(!$a,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return $a=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{$a=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function _v(s,r,i){const l=i.getRegistry(),u=l.addTarget(s,r);return[u,()=>l.removeTarget(u)]}function Ev(s,r,i){const l=i.getRegistry(),u=l.addSource(s,r);return[u,()=>l.removeSource(u)]}function Ja(s,r,i,l){let u;if(u!==void 0)return!!u;if(s===r)return!0;if(typeof s!="object"||!s||typeof r!="object"||!r)return!1;const f=Object.keys(s),h=Object.keys(r);if(f.length!==h.length)return!1;const g=Object.prototype.hasOwnProperty.bind(r);for(let m=0;m<f.length;m++){const y=f[m];if(!g(y))return!1;const x=s[y],w=r[y];if(u=void 0,u===!1||u===void 0&&x!==w)return!1}return!0}function Za(s){return s!==null&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function kv(s){if(typeof s.type=="string")return;const r=s.type.displayName||s.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function Ov(s){return(r=null,i=null)=>{if(!_.isValidElement(r)){const f=r;return s(f,i),f}const l=r;return kv(l),Tv(l,i?f=>s(f,i):s)}}function th(s){const r={};return Object.keys(s).forEach(i=>{const l=s[i];if(i.endsWith("Ref"))r[i]=s[i];else{const u=Ov(l);r[i]=()=>u}}),r}function vd(s,r){typeof s=="function"?s(r):s.current=r}function Tv(s,r){const i=s.ref;return Ce(typeof i!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?_.cloneElement(s,{ref:l=>{vd(i,l),vd(r,l)}}):_.cloneElement(s,{ref:r})}class Nv{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?r?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),i):(this.lastConnectedDragSource=r,i):i}reconnectDragPreview(r=!1){const i=this.dragPreview,l=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(l&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}l&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ja(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ja(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=th({dragSource:(i,l)=>{this.clearDragSource(),this.dragSourceOptions=l||null,Za(i)?this.dragSourceRef=i:this.dragSourceNode=i,this.reconnectDragSource()},dragPreview:(i,l)=>{this.clearDragPreview(),this.dragPreviewOptions=l||null,Za(i)?this.dragPreviewRef=i:this.dragPreviewNode=i,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class Dv{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ja(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=th({dropTarget:(i,l)=>{this.clearDropTarget(),this.dropTargetOptions=l,Za(i)?this.dropTargetRef=i:this.dropTargetNode=i,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}function br(){const{dragDropManager:s}=_.useContext(Hd);return Ce(s!=null,"Expected drag drop context"),s}function jv(s,r){const i=br(),l=_.useMemo(()=>new Nv(i.getBackend()),[i]);return Ir(()=>(l.dragSourceOptions=s||null,l.reconnect(),()=>l.disconnectDragSource()),[l,s]),Ir(()=>(l.dragPreviewOptions=r||null,l.reconnect(),()=>l.disconnectDragPreview()),[l,r]),l}function Pv(){const s=br();return _.useMemo(()=>new xv(s),[s])}class Lv{beginDrag(){const r=this.spec,i=this.monitor;let l=null;return typeof r.item=="object"?l=r.item:typeof r.item=="function"?l=r.item(i):l={},l??null}canDrag(){const r=this.spec,i=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(i):!0}isDragging(r,i){const l=this.spec,u=this.monitor,{isDragging:f}=l;return f?f(u):i===r.getSourceId()}endDrag(){const r=this.spec,i=this.monitor,l=this.connector,{end:u}=r;u&&u(i.getItem(),i),l.reconnect()}constructor(r,i,l){this.spec=r,this.monitor=i,this.connector=l}}function Rv(s,r,i){const l=_.useMemo(()=>new Lv(s,r,i),[r,i]);return _.useEffect(()=>{l.spec=s},[s]),l}function Iv(s){return _.useMemo(()=>{const r=s.type;return Ce(r!=null,"spec.type must be defined"),r},[s])}function Mv(s,r,i){const l=br(),u=Rv(s,r,i),f=Iv(s);Ir(function(){if(f!=null){const[g,m]=Ev(f,u,l);return r.receiveHandlerId(g),i.receiveHandlerId(g),m}},[l,r,i,u,f])}function bv(s,r){const i=eh(s,r);Ce(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const l=Pv(),u=jv(i.options,i.previewOptions);return Mv(i,l,u),[Zd(i.collect,l,u),Sv(u),wv(u)]}function Av(s){const i=br().getMonitor(),[l,u]=Jd(i,s);return _.useEffect(()=>i.subscribeToOffsetChange(u)),_.useEffect(()=>i.subscribeToStateChange(u)),l}function $v(s){return _.useMemo(()=>s.hooks.dropTarget(),[s])}function zv(s){const r=br(),i=_.useMemo(()=>new Dv(r.getBackend()),[r]);return Ir(()=>(i.dropTargetOptions=s||null,i.reconnect(),()=>i.disconnectDropTarget()),[s]),i}function Fv(){const s=br();return _.useMemo(()=>new Cv(s),[s])}function Uv(s){const{accept:r}=s;return _.useMemo(()=>(Ce(s.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class Bv{canDrop(){const r=this.spec,i=this.monitor;return r.canDrop?r.canDrop(i.getItem(),i):!0}hover(){const r=this.spec,i=this.monitor;r.hover&&r.hover(i.getItem(),i)}drop(){const r=this.spec,i=this.monitor;if(r.drop)return r.drop(i.getItem(),i)}constructor(r,i){this.spec=r,this.monitor=i}}function Wv(s,r){const i=_.useMemo(()=>new Bv(s,r),[r]);return _.useEffect(()=>{i.spec=s},[s]),i}function Hv(s,r,i){const l=br(),u=Wv(s,r),f=Uv(s);Ir(function(){const[g,m]=_v(f,u,l);return r.receiveHandlerId(g),i.receiveHandlerId(g),m},[l,r,u,i,f.map(h=>h.toString()).join("|")])}function Vv(s,r){const i=eh(s,r),l=Fv(),u=zv(i.options);return Hv(i,l,u),[Zd(i.collect,l,u),$v(u)]}function nh(s){let r=null;return()=>(r==null&&(r=s()),r)}function Kv(s,r){return s.filter(i=>i!==r)}function Qv(s,r){const i=new Set,l=f=>i.add(f);s.forEach(l),r.forEach(l);const u=[];return i.forEach(f=>u.push(f)),u}class qv{enter(r){const i=this.entered.length,l=u=>this.isNodeInDocument(u)&&(!u.contains||u.contains(r));return this.entered=Qv(this.entered.filter(l),[r]),i===0&&this.entered.length>0}leave(r){const i=this.entered.length;return this.entered=Kv(this.entered.filter(this.isNodeInDocument),r),i>0&&this.entered.length===0}reset(){this.entered=[]}constructor(r){this.entered=[],this.isNodeInDocument=r}}class Gv{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(r=>{Object.defineProperty(this.item,r,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${r}" until the drop event.`),null}})})}loadDataTransfer(r){if(r){const i={};Object.keys(this.config.exposeProperties).forEach(l=>{const u=this.config.exposeProperties[l];u!=null&&(i[l]={value:u(r,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,i)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(r,i){return i===r.getSourceId()}endDrag(){}constructor(r){this.config=r,this.item={},this.initializeExposedProperties()}}const rh="__NATIVE_FILE__",ih="__NATIVE_URL__",sh="__NATIVE_TEXT__",oh="__NATIVE_HTML__";var yd=Object.freeze({__proto__:null,FILE:rh,HTML:oh,TEXT:sh,URL:ih});function za(s,r,i){const l=r.reduce((u,f)=>u||s.getData(f),"");return l??i}const eu={[rh]:{exposeProperties:{files:s=>Array.prototype.slice.call(s.files),items:s=>s.items,dataTransfer:s=>s},matchesTypes:["Files"]},[oh]:{exposeProperties:{html:(s,r)=>za(s,r,""),dataTransfer:s=>s},matchesTypes:["Html","text/html"]},[ih]:{exposeProperties:{urls:(s,r)=>za(s,r,"").split(`
`),dataTransfer:s=>s},matchesTypes:["Url","text/uri-list"]},[sh]:{exposeProperties:{text:(s,r)=>za(s,r,""),dataTransfer:s=>s},matchesTypes:["Text","text/plain"]}};function Yv(s,r){const i=eu[s];if(!i)throw new Error(`native type ${s} has no configuration`);const l=new Gv(i);return l.loadDataTransfer(r),l}function Fa(s){if(!s)return null;const r=Array.prototype.slice.call(s.types||[]);return Object.keys(eu).filter(i=>{const l=eu[i];return l!=null&&l.matchesTypes?l.matchesTypes.some(u=>r.indexOf(u)>-1):!1})[0]||null}const Xv=nh(()=>/firefox/i.test(navigator.userAgent)),lh=nh(()=>!!window.safari);class Sd{interpolate(r){const{xs:i,ys:l,c1s:u,c2s:f,c3s:h}=this;let g=i.length-1;if(r===i[g])return l[g];let m=0,y=h.length-1,x;for(;m<=y;){x=Math.floor(.5*(m+y));const L=i[x];if(L<r)m=x+1;else if(L>r)y=x-1;else return l[x]}g=Math.max(0,y);const w=r-i[g],S=w*w;return l[g]+u[g]*w+f[g]*S+h[g]*w*S}constructor(r,i){const{length:l}=r,u=[];for(let L=0;L<l;L++)u.push(L);u.sort((L,O)=>r[L]<r[O]?-1:1);const f=[],h=[];let g,m;for(let L=0;L<l-1;L++)g=r[L+1]-r[L],m=i[L+1]-i[L],f.push(g),h.push(m/g);const y=[h[0]];for(let L=0;L<f.length-1;L++){const O=h[L],j=h[L+1];if(O*j<=0)y.push(0);else{g=f[L];const P=f[L+1],K=g+P;y.push(3*K/((K+P)/O+(K+g)/j))}}y.push(h[h.length-1]);const x=[],w=[];let S;for(let L=0;L<y.length-1;L++){S=h[L];const O=y[L],j=1/f[L],P=O+y[L+1]-S-S;x.push((S-O-P)*j),w.push(P*j*j)}this.xs=r,this.ys=i,this.c1s=y,this.c2s=x,this.c3s=w}}const Jv=1;function ah(s){const r=s.nodeType===Jv?s:s.parentElement;if(!r)return null;const{top:i,left:l}=r.getBoundingClientRect();return{x:l,y:i}}function Co(s){return{x:s.clientX,y:s.clientY}}function Zv(s){var r;return s.nodeName==="IMG"&&(Xv()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(s)))}function e1(s,r,i,l){let u=s?r.width:i,f=s?r.height:l;return lh()&&s&&(f/=window.devicePixelRatio,u/=window.devicePixelRatio),{dragPreviewWidth:u,dragPreviewHeight:f}}function t1(s,r,i,l,u){const f=Zv(r),g=ah(f?s:r),m={x:i.x-g.x,y:i.y-g.y},{offsetWidth:y,offsetHeight:x}=s,{anchorX:w,anchorY:S}=l,{dragPreviewWidth:L,dragPreviewHeight:O}=e1(f,r,y,x),j=()=>{let _e=new Sd([0,.5,1],[m.y,m.y/x*O,m.y+O-x]).interpolate(S);return lh()&&f&&(_e+=(window.devicePixelRatio-1)*O),_e},P=()=>new Sd([0,.5,1],[m.x,m.x/y*L,m.x+L-y]).interpolate(w),{offsetX:K,offsetY:$}=u,z=K===0||K,G=$===0||$;return{x:z?K:P(),y:G?$:j()}}let n1=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var r;return!((r=this.globalContext)===null||r===void 0)&&r.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}constructor(r,i){this.ownerDocument=null,this.globalContext=r,this.optionsArgs=i}};function r1(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function wd(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable}))),l.forEach(function(u){r1(s,u,i[u])})}return s}class i1{profile(){var r,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}teardown(){const r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var i;(i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(r,i,l){return this.sourcePreviewNodeOptions.set(r,l),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDragSource(r,i,l){this.sourceNodes.set(r,i),this.sourceNodeOptions.set(r,l);const u=h=>this.handleDragStart(h,r),f=h=>this.handleSelectStart(h);return i.setAttribute("draggable","true"),i.addEventListener("dragstart",u),i.addEventListener("selectstart",f),()=>{this.sourceNodes.delete(r),this.sourceNodeOptions.delete(r),i.removeEventListener("dragstart",u),i.removeEventListener("selectstart",f),i.setAttribute("draggable","false")}}connectDropTarget(r,i){const l=h=>this.handleDragEnter(h,r),u=h=>this.handleDragOver(h,r),f=h=>this.handleDrop(h,r);return i.addEventListener("dragenter",l),i.addEventListener("dragover",u),i.addEventListener("drop",f),()=>{i.removeEventListener("dragenter",l),i.removeEventListener("dragover",u),i.removeEventListener("drop",f)}}addEventListeners(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(r);return wd({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourcePreviewNodeOptions.get(r);return wd({anchorX:.5,anchorY:.5,captureDraggingState:!1},i||{})}isDraggingNativeItem(){const r=this.monitor.getItemType();return Object.keys(yd).some(i=>yd[i]===r)}beginDragNativeItem(r,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=Yv(r,i),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(r){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;const i=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var l;return(l=this.rootElement)===null||l===void 0?void 0:l.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},i)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(r,i){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}handleDragEnter(r,i){this.dragEnterTargetIds.unshift(i)}handleDragOver(r,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}handleDrop(r,i){this.dropTargetIds.unshift(i)}constructor(r,i,l){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=u=>{const f=this.sourceNodes.get(u);return f&&ah(f)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=u=>!!(u&&this.document&&this.document.body&&this.document.body.contains(u)),this.endDragIfSourceWasRemovedFromDOM=()=>{const u=this.currentDragSourceNode;u==null||this.isNodeInDocument(u)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=u=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(u||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=u=>{if(u.defaultPrevented)return;const{dragStartSourceIds:f}=this;this.dragStartSourceIds=null;const h=Co(u);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(f||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:g}=u,m=Fa(g);if(this.monitor.isDragging()){if(g&&typeof g.setDragImage=="function"){const x=this.monitor.getSourceId(),w=this.sourceNodes.get(x),S=this.sourcePreviewNodes.get(x)||w;if(S){const{anchorX:L,anchorY:O,offsetX:j,offsetY:P}=this.getCurrentSourcePreviewNodeOptions(),z=t1(w,S,h,{anchorX:L,anchorY:O},{offsetX:j,offsetY:P});g.setDragImage(S,z.x,z.y)}}try{g==null||g.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(u.target);const{captureDraggingState:y}=this.getCurrentSourcePreviewNodeOptions();y?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(g&&!g.types&&(u.target&&!u.target.hasAttribute||!u.target.hasAttribute("draggable")))return;u.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=u=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var f;(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(u.dataTransfer)}if(!this.enterLeaveCounter.enter(u.target)||this.monitor.isDragging())return;const{dataTransfer:g}=u,m=Fa(g);m&&this.beginDragNativeItem(m,g)},this.handleTopDragEnter=u=>{const{dragEnterTargetIds:f}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=u.altKey,f.length>0&&this.actions.hover(f,{clientOffset:Co(u)}),f.some(g=>this.monitor.canDropOnTarget(g))&&(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=u=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var f;(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(u.dataTransfer)}},this.handleTopDragOver=u=>{const{dragOverTargetIds:f}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="none");return}this.altKeyPressed=u.altKey,this.lastClientOffset=Co(u),this.scheduleHover(f),(f||[]).some(g=>this.monitor.canDropOnTarget(g))?(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?u.preventDefault():(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=u=>{this.isDraggingNativeItem()&&u.preventDefault(),this.enterLeaveCounter.leave(u.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=u=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var f;u.preventDefault(),(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(u.dataTransfer)}else Fa(u.dataTransfer)&&u.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=u=>{const{dropTargetIds:f}=this;this.dropTargetIds=[],this.actions.hover(f,{clientOffset:Co(u)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=u=>{const f=u.target;typeof f.dragDrop=="function"&&(f.tagName==="INPUT"||f.tagName==="SELECT"||f.tagName==="TEXTAREA"||f.isContentEditable||(u.preventDefault(),f.dragDrop()))},this.options=new n1(i,l),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new qv(this.isNodeInDocument)}}let _o;function s1(){return _o||(_o=new Image,_o.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),_o}const o1=function(r,i,l){return new i1(r,i,l)};function xd({isPremovedPiece:s=!1,piece:r,square:i,squares:l}){const{animationDuration:u,arePiecesDraggable:f,boardWidth:h,boardOrientation:g,chessPieces:m,currentPosition:y,deletePieceFromSquare:x,dropOffBoardAction:w,id:S,isDraggablePiece:L,isWaitingForAnimation:O,onPieceClick:j,onPieceDragBegin:P,onPieceDragEnd:K,onPieceDropOffBoard:$,onPromotionCheck:z,positionDifferences:G}=Ln(),[de,_e]=_.useState({opacity:1,zIndex:5,touchAction:"none",cursor:f&&L({piece:r,sourceSquare:i})?"-webkit-grab":"default"}),[{canDrag:be,isDragging:Pe},Fe,Ae]=bv(()=>({type:"piece",item:()=>(P(r,i),{piece:r,square:i,id:S}),end:(Ne,Ie)=>{K(r,i),!Ie.didDrop()&&(w==="trash"&&x(i),$==null||$(i,r))},collect:Ne=>({canDrag:L({piece:r,sourceSquare:i}),isDragging:!!Ne.isDragging()})}),[r,i,y,S]);Ae(s1(),{captureDraggingState:!0}),_.useEffect(()=>{_e(Ne=>Object.assign(Object.assign({},Ne),{opacity:Pe?0:1}))},[Pe]),_.useEffect(()=>{var Ne;const Ie=(Ne=G.removed)===null||Ne===void 0?void 0:Ne[i];if(!G.added||!Ie)return;const Te=Object.entries(G.added).find(([Z,Y])=>Y===Ie||z(i,Z,Ie));if(O&&Ie&&Te&&!s){const Z=i,Y=Te[0];if(Z&&Y){const re=h/8;_e(W=>Object.assign(Object.assign({},W),{transform:`translate(${(g==="black"?-1:1)*(Y.charCodeAt(0)-Z.charCodeAt(0))*re}px, ${(g==="black"?-1:1)*(Number(Z[1])-Number(Y[1]))*re}px)`,transition:`transform ${u}ms`,zIndex:6}))}}},[G]),_.useEffect(()=>{const{sourceSq:Ne}=He();Ne&&_e(Ie=>Object.assign(Object.assign({},Ie),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[y]),_.useEffect(()=>{_e(Ne=>Object.assign(Object.assign({},Ne),{cursor:f&&L({piece:r,sourceSquare:i})?"-webkit-grab":"default"}))},[i,y,f]);function He(){return{sourceSq:l[i]}}return d.jsx("div",Object.assign({ref:f&&be?Fe:null,onClick:()=>j(r,i),"data-piece":r,style:de},{children:typeof m[r]=="function"?m[r]({squareWidth:h/8,isDragging:Pe,square:i}):d.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:h/8,height:h/8,style:{display:"block"}},{children:d.jsx("g",{children:m[r]})}))}))}function l1({square:s,squareColor:r,setSquares:i,squareHasPremove:l,children:u}){const f=_.useRef(null),{autoPromoteToQueen:h,boardWidth:g,boardOrientation:m,clearArrows:y,currentPosition:x,currentRightClickDown:w,customBoardStyle:S,customDarkSquareStyle:L,customDropSquareStyle:O,customLightSquareStyle:j,customPremoveDarkSquareStyle:P,customPremoveLightSquareStyle:K,customSquare:$,customSquareStyles:z,drawNewArrow:G,handleSetPosition:de,handleSparePieceDrop:_e,isWaitingForAnimation:be,lastPieceColour:Pe,lastSquareDraggedOver:Fe,onArrowDrawEnd:Ae,onDragOverSquare:He,onMouseOutSquare:Ne,onMouseOverSquare:Ie,onPieceDrop:Te,onPromotionCheck:Z,onRightClickDown:Y,onRightClickUp:re,onSquareClick:W,setLastSquareDraggedOver:te,setPromoteFromSquare:q,setPromoteToSquare:k,setShowPromoteDialog:A}=Ln(),[{isOver:fe},he]=Vv(()=>({accept:"piece",drop:Se,collect:J=>({isOver:!!J.isOver()})}),[s,x,Te,be,Pe]);function Se(J){if(J.isSpare){_e(J.piece,s);return}Z(J.square,s,J.piece)?h?de(J.square,s,J.piece[0]==="w"?"wQ":"bQ"):(q(J.square),k(s),A(!0)):de(J.square,s,J.piece,!0)}_.useEffect(()=>{if(f.current){const{x:J,y:xe}=f.current.getBoundingClientRect();i(De=>Object.assign(Object.assign({},De),{[s]:{x:J,y:xe}}))}},[g,m]);const me=Object.assign(Object.assign(Object.assign(Object.assign({},a1(s,m,S)),r==="black"?L:j),l&&(r==="black"?P:K)),fe&&O);return d.jsx("div",Object.assign({ref:he,style:me,"data-square-color":r,"data-square":s,onTouchMove:J=>{var xe;const De=J.touches[0],V=document.elementsFromPoint(De.clientX,De.clientY),ie=(xe=V==null?void 0:V.find(Ee=>Ee.getAttribute("data-square")))===null||xe===void 0?void 0:xe.getAttribute("data-square");ie&&ie!==Fe&&(te(ie),He(ie))},onMouseOver:J=>{J.buttons===2&&w&&G(w,s),!(J.relatedTarget&&J.currentTarget.contains(J.relatedTarget))&&Ie(s)},onMouseOut:J=>{J.relatedTarget&&J.currentTarget.contains(J.relatedTarget)||Ne(s)},onMouseDown:J=>{J.button===2&&Y(s)},onMouseUp:J=>{J.button===2&&(w&&Ae(w,s),re(s))},onDragEnter:()=>He(s),onClick:()=>{const J=x[s];W(s,J),y()},onContextMenu:J=>{J.preventDefault()}},{children:typeof $=="string"?d.jsx($,Object.assign({ref:f,style:Object.assign(Object.assign(Object.assign({},_d(g)),Cd),!l&&(z==null?void 0:z[s]))},{children:u})):d.jsx($,Object.assign({ref:f,square:s,squareColor:r,style:Object.assign(Object.assign(Object.assign({},_d(g)),Cd),!l&&(z==null?void 0:z[s]))},{children:u}))}))}const Cd={display:"flex",justifyContent:"center"},_d=s=>({width:s/8,height:s/8}),a1=(s,r,i)=>i!=null&&i.borderRadius?s==="a1"?r==="white"?{borderBottomLeftRadius:i.borderRadius}:{borderTopRightRadius:i.borderRadius}:s==="a8"?r==="white"?{borderTopLeftRadius:i.borderRadius}:{borderBottomRightRadius:i.borderRadius}:s==="h1"?r==="white"?{borderBottomRightRadius:i.borderRadius}:{borderTopLeftRadius:i.borderRadius}:s==="h8"?r==="white"?{borderTopRightRadius:i.borderRadius}:{borderBottomLeftRadius:i.borderRadius}:{}:{};function u1(){const[s,r]=_.useState({}),{arePremovesAllowed:i,boardOrientation:l,boardWidth:u,currentPosition:f,id:h,premoves:g,showBoardNotation:m}=Ln(),y=_.useMemo(()=>{const x=[];return i?(g.forEach((w,S)=>{const{sourceSq:L,targetSq:O,piece:j}=w,P=x.find(K=>{var $;return K.piece===j&&(($=K.premovesRoute.at(-1))===null||$===void 0?void 0:$.targetSq)===L});P?P.premovesRoute.push({sourceSq:L,targetSq:O,index:S}):x.push({piece:j,premovesRoute:[{sourceSq:L,targetSq:O,index:S}]})}),x):[]},[g]);return d.jsx("div",Object.assign({"data-boardid":h},{children:[...Array(8)].map((x,w)=>d.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:u}},{children:[...Array(8)].map((S,L)=>{const O=l==="black"?as[7-L]+(w+1):as[L]+(8-w),j=L%2===w%2?"white":"black",P=g.find($=>$.sourceSq===O||$.targetSq===O),K=y.filter(({premovesRoute:$})=>{var z;return((z=$.at(-1))===null||z===void 0?void 0:z.targetSq)===O}).sort(($,z)=>{var G,de;return((G=z.premovesRoute.at(-1))===null||G===void 0?void 0:G.index)-((de=$.premovesRoute.at(-1))===null||de===void 0?void 0:de.index)}).at(0);return d.jsxs(l1,Object.assign({square:O,squareColor:j,setSquares:r,squareHasPremove:!!P},{children:[!P&&f[O]&&d.jsx(xd,{piece:f[O],square:O,squares:s}),K&&d.jsx(xd,{isPremovedPiece:!0,piece:K.piece,square:O,squares:s}),m&&d.jsx(Xm,{row:w,col:L})]}),`${L}${w}`)})}),w.toString()))}))}const c1=()=>{const{arrows:s,newArrow:r,boardOrientation:i,boardWidth:l,customArrowColor:u}=Ln(),f=[...s,r].filter(Boolean);return d.jsx("svg",Object.assign({width:l,height:l,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:f.map((h,g)=>{const[m,y,x]=h;if(m===y)return null;const w=Ga(i,l,m),S=Ga(i,l,y);let L=l/32;const O=g===s.length;s.some(z=>z[0]!==m&&z[1]===y)&&!O&&(L=l/16);const j=S.x-w.x,P=S.y-w.y,K=Math.hypot(P,j),$={x:w.x+j*(K-L)/K,y:w.y+P*(K-L)/K};return d.jsxs(_.Fragment,{children:[d.jsx("marker",Object.assign({id:`arrowhead-${g}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:d.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:x??u})})),d.jsx("line",{x1:w.x,y1:w.y,x2:$.x,y2:$.y,opacity:O?"0.5":"0.65",stroke:x??u,strokeWidth:O?.9*l/40:l/40,markerEnd:`url(#arrowhead-${g})`})]},`${m}-${y}${O?"-active":""}`)})}))};function f1({option:s}){const[r,i]=_.useState(!1),{boardWidth:l,chessPieces:u,customDarkSquareStyle:f,customLightSquareStyle:h,handleSetPosition:g,onPromotionPieceSelect:m,promoteFromSquare:y,promoteToSquare:x,promotionDialogVariant:w}=Ln(),S=()=>{switch(s[1]){case"Q":return f.backgroundColor;case"R":return h.backgroundColor;case"N":return w==="default"?h.backgroundColor:f.backgroundColor;case"B":return w==="default"?f.backgroundColor:h.backgroundColor}};return d.jsx("div",Object.assign({onClick:()=>{m(s,y??void 0,x??void 0)&&g(y,x,s,!0)},onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),"data-piece":s,style:{cursor:"pointer",backgroundColor:r?S():`${S()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof u[s]=="function"?d.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:u[s]({squareWidth:l/8,isDragging:!1})})):d.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:l/8,height:l/8,style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:d.jsx("g",{children:u[s]})}))}))}function d1(){const{boardOrientation:s,boardWidth:r,promotionDialogVariant:i,promoteToSquare:l}=Ln(),u=(l==null?void 0:l[1])==="1"?"b":"w",f=[`${u??"w"}Q`,`${u??"w"}R`,`${u??"w"}N`,`${u??"w"}B`],h={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-r/8}px, ${-r/8}px)`},vertical:{transform:`translate(${-r/16}px, ${-r/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*r/8}px)`,width:"100%",height:`${r/4}px`,top:0,backgroundColor:"white",left:0}},g=Ga(s,r,l||"a8");return d.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${g==null?void 0:g.y}px`,left:`${g==null?void 0:g.x}px`,zIndex:1e3},h[i]),title:"Choose promotion piece"},{children:f.map(m=>d.jsx(f1,{option:m},m))}))}const h1={whiteKing:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:d.jsx("g",{children:d.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function p1({children:s}){try{return d.jsx(d.Fragment,{children:s})}catch(r){return console.log(r),d.jsx(uh,{showError:!0})}}function uh({showError:s=!1}){return d.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[d.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:h1.whiteKing})),s&&d.jsx("h1",{children:"Something went wrong"})]}))}function g1(){const s=_.useRef(null),{boardWidth:r,clearCurrentRightClickDown:i,onPromotionPieceSelect:l,setShowPromoteDialog:u,showPromoteDialog:f,customBoardStyle:h}=Ln();return _.useEffect(()=>{function g(m){s.current&&!s.current.contains(m.target)&&i()}return document.addEventListener("mouseup",g),()=>{document.removeEventListener("mouseup",g)}},[]),r?d.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:d.jsxs("div",Object.assign({ref:s,style:Object.assign(Object.assign({position:"relative"},m1(r)),h)},{children:[d.jsx(u1,{}),d.jsx(c1,{}),f&&d.jsxs(d.Fragment,{children:[d.jsx("div",{onClick:()=>{u(!1),l==null||l()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:r,height:r}}),d.jsx(d1,{})]})]}))})):d.jsx(uh,{})}const m1=s=>({cursor:"default",height:s,width:s});var dr;(function(s){s.mouse="mouse",s.touch="touch",s.keyboard="keyboard"})(dr||(dr={}));class v1{get delay(){var r;return(r=this.args.delay)!==null&&r!==void 0?r:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var r;return(r=this.args.ignoreContextMenu)!==null&&r!==void 0?r:!1}get enableHoverOutsideTarget(){var r;return(r=this.args.enableHoverOutsideTarget)!==null&&r!==void 0?r:!1}get enableKeyboardEvents(){var r;return(r=this.args.enableKeyboardEvents)!==null&&r!==void 0?r:!1}get enableMouseEvents(){var r;return(r=this.args.enableMouseEvents)!==null&&r!==void 0?r:!1}get enableTouchEvents(){var r;return(r=this.args.enableTouchEvents)!==null&&r!==void 0?r:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var r,i,l,u;return(u=(l=(r=this.args)===null||r===void 0?void 0:r.delayTouchStart)!==null&&l!==void 0?l:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&u!==void 0?u:0}get delayMouseStart(){var r,i,l,u;return(u=(l=(r=this.args)===null||r===void 0?void 0:r.delayMouseStart)!==null&&l!==void 0?l:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&u!==void 0?u:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var r;if(!((r=this.context)===null||r===void 0)&&r.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var r;return((r=this.args)===null||r===void 0?void 0:r.rootElement)||this.document}constructor(r,i){this.args=r,this.context=i}}function y1(s,r,i,l){return Math.sqrt(Math.pow(Math.abs(i-s),2)+Math.pow(Math.abs(l-r),2))}function S1(s,r,i,l,u){if(!u)return!1;const f=Math.atan2(l-r,i-s)*180/Math.PI+180;for(let h=0;h<u.length;++h){const g=u[h];if(g&&(g.start==null||f>=g.start)&&(g.end==null||f<=g.end))return!0}return!1}const w1={Left:1},x1={Left:0};function Ua(s){return s.button===void 0||s.button===x1.Left}function C1(s){return s.buttons===void 0||(s.buttons&w1.Left)===0}function ch(s){return!!s.targetTouches}const _1=1;function E1(s){const r=s.nodeType===_1?s:s.parentElement;if(!r)return;const{top:i,left:l}=r.getBoundingClientRect();return{x:l,y:i}}function k1(s,r){if(s.targetTouches.length===1)return Po(s.targetTouches[0]);if(r&&s.touches.length===1&&s.touches[0].target===r.target)return Po(s.touches[0])}function Po(s,r){return ch(s)?k1(s,r):{x:s.clientX,y:s.clientY}}const Ed=(()=>{let s=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return s=!0,!0}}))}catch{}return s})(),es={[dr.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[dr.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[dr.keyboard]:{keydown:"keydown"}};class rs{profile(){var r;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get document(){return this.options.document}setup(){const r=this.options.rootElement;r&&(Ce(!rs.isSetUp,"Cannot have two Touch backends at the same time."),rs.isSetUp=!0,this.addEventListener(r,"start",this.getTopMoveStartHandler()),this.addEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(r,"move",this.handleTopMove),this.addEventListener(r,"move",this.handleTopMoveCapture,!0),this.addEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(r,"keydown",this.handleCancelOnEscape,!0))}teardown(){const r=this.options.rootElement;r&&(rs.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(r,"start",this.handleTopMoveStart),this.removeEventListener(r,"move",this.handleTopMoveCapture,!0),this.removeEventListener(r,"move",this.handleTopMove),this.removeEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(r,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(r,i,l,u=!1){const f=Ed?{capture:u,passive:!1}:u;this.listenerTypes.forEach(function(h){const g=es[h][i];g&&r.addEventListener(g,l,f)})}removeEventListener(r,i,l,u=!1){const f=Ed?{capture:u,passive:!1}:u;this.listenerTypes.forEach(function(h){const g=es[h][i];g&&r.removeEventListener(g,l,f)})}connectDragSource(r,i){const l=this.handleMoveStart.bind(this,r);return this.sourceNodes.set(r,i),this.addEventListener(i,"start",l),()=>{this.sourceNodes.delete(r),this.removeEventListener(i,"start",l)}}connectDragPreview(r,i,l){return this.sourcePreviewNodeOptions.set(r,l),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDropTarget(r,i){const l=this.options.rootElement;if(!this.document||!l)return()=>{};const u=f=>{if(!this.document||!l||!this.monitor.isDragging())return;let h;switch(f.type){case es.mouse.move:h={x:f.clientX,y:f.clientY};break;case es.touch.move:var g,m;h={x:((g=f.touches[0])===null||g===void 0?void 0:g.clientX)||0,y:((m=f.touches[0])===null||m===void 0?void 0:m.clientY)||0};break}const y=h!=null?this.document.elementFromPoint(h.x,h.y):void 0,x=y&&i.contains(y);if(y===i||x)return this.handleMove(f,r)};return this.addEventListener(this.document.body,"move",u),this.targetNodes.set(r,i),()=>{this.document&&(this.targetNodes.delete(r),this.removeEventListener(this.document.body,"move",u))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(r){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=r,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{r&&!r.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!r||!r.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(r.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(r,i,l){this.getSourceClientOffset=u=>{const f=this.sourceNodes.get(u);return f&&E1(f)},this.handleTopMoveStartCapture=u=>{Ua(u)&&(this.moveStartSourceIds=[])},this.handleMoveStart=u=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(u)},this.handleTopMoveStart=u=>{if(!Ua(u))return;const f=Po(u);f&&(ch(u)&&(this.lastTargetTouchFallback=u.targetTouches[0]),this._mouseClientOffset=f),this.waitingForDelay=!1},this.handleTopMoveStartDelay=u=>{if(!Ua(u))return;const f=u.type===es.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,u),f),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(u,f)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(f)},this.handleTopMove=u=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:f,dragOverTargetIds:h}=this,g=this.options.enableHoverOutsideTarget,m=Po(u,this.lastTargetTouchFallback);if(!m)return;if(this._isScrolling||!this.monitor.isDragging()&&S1(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&f&&y1(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(f,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const y=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(y),this.actions.publishDragSource(),u.cancelable&&u.preventDefault();const x=(h||[]).map(O=>this.targetNodes.get(O)).filter(O=>!!O),w=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(m.x,m.y,x):this.document.elementsFromPoint(m.x,m.y),S=[];for(const O in w){if(!w.hasOwnProperty(O))continue;let j=w[O];for(j!=null&&S.push(j);j;)j=j.parentElement,j&&S.indexOf(j)===-1&&S.push(j)}const L=S.filter(O=>x.indexOf(O)>-1).map(O=>this._getDropTargetId(O)).filter(O=>!!O).filter((O,j,P)=>P.indexOf(O)===j);if(g)for(const O in this.targetNodes){const j=this.targetNodes.get(O);if(y&&j&&j.contains(y)&&L.indexOf(O)===-1){L.unshift(O);break}}L.reverse(),this.actions.hover(L,{clientOffset:m})},this._getDropTargetId=u=>{const f=this.targetNodes.keys();let h=f.next();for(;h.done===!1;){const g=h.value;if(u===this.targetNodes.get(g))return g;h=f.next()}},this.handleTopMoveEndCapture=u=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!C1(u)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}u.cancelable&&u.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=u=>{u.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new v1(l,i),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(dr.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(dr.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(dr.keyboard)}}const O1=function(r,i={},l={}){return new rs(r,i,l)},T1=_.createContext({isCustomDndProviderSet:!1}),N1=({children:s})=>d.jsx(d.Fragment,{children:s}),D1=({customDndBackend:s,customDndBackendOptions:r,children:i})=>{const[l,u]=_.useState(),[f,h]=_.useState(!1),[g,m]=_.useState(!1),{isCustomDndProviderSet:y}=_.useContext(T1);_.useEffect(()=>{m("ontouchstart"in window),h(!0),u(window)},[]);const x=y?N1:pv;return f?l?d.jsx(x,Object.assign({backend:s||(g?O1:o1),context:l,options:s?r:void 0},{children:i})):d.jsx(d.Fragment,{children:i}):null};function j1({boardContainer:s}){const{boardWidth:r,chessPieces:i,id:l,snapToCursor:u,allowDragOutsideBoard:f}=Ln(),h=Av(S=>({item:S.getItem(),clientOffset:S.getClientOffset(),sourceClientOffset:S.getSourceClientOffset(),isDragging:S.isDragging()})),{isDragging:g,item:m,clientOffset:y,sourceClientOffset:x}=h,w=_.useCallback((S,L)=>{if(!S||!L)return{display:"none"};let{x:O,y:j}=u?S:L;const P=r/8/2;if(u&&(O-=P,j-=P),!f){const{left:$,top:z}=s,G=$-P,de=z-P,_e=$+r-P,be=z+r-P;O=Math.max(G,Math.min(O,_e)),j=Math.max(de,Math.min(j,be))}const K=`translate(${O}px, ${j}px)`;return{transform:K,WebkitTransform:K,touchAction:"none"}},[r,f,u,s]);return g&&m.id===l?d.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:d.jsx("div",Object.assign({style:w(y,x)},{children:typeof i[m.piece]=="function"?i[m.piece]({squareWidth:r/8,isDragging:!0}):d.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8},{children:d.jsx("g",{children:i[m.piece]})}))}))})):null}const fu=_.forwardRef((s,r)=>{const{customDndBackend:i,customDndBackendOptions:l,onBoardWidthChange:u}=s,f=zm(s,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[h,g]=_.useState(s.boardWidth),m=_.useRef(null),y=_.useRef(null),[x,w]=_.useState({left:0,top:0}),S=_.useMemo(()=>{var L;return(L=m.current)===null||L===void 0?void 0:L.getBoundingClientRect()},[m.current]);return _.useEffect(()=>{h&&(u==null||u(h))},[h]),_.useEffect(()=>{w({left:S!=null&&S.left?S==null?void 0:S.left:0,top:S!=null&&S.top?S==null?void 0:S.top:0})},[S]),_.useEffect(()=>{var L;if(s.boardWidth===void 0&&(!((L=m.current)===null||L===void 0)&&L.offsetWidth)){const O=new ResizeObserver(()=>{var j;g((j=m.current)===null||j===void 0?void 0:j.offsetWidth)});return O.observe(m.current),()=>{O.disconnect()}}},[m.current]),d.jsx(p1,{children:d.jsxs("div",Object.assign({ref:y,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[d.jsx("div",{ref:m,style:{width:"100%"}}),d.jsx(D1,Object.assign({customDndBackend:i,customDndBackendOptions:l},{children:h&&d.jsxs(Ym,Object.assign({boardWidth:h},f,{ref:r},{children:[d.jsx(j1,{boardContainer:x}),d.jsx(g1,{})]}))}))]}))})}),P1="https://chessica-1nh3.onrender.com",L1="wss://chessica-1nh3.onrender.com",fh=["localhost","127.0.0.1"].includes(window.location.hostname),R1=`${fh?"http://localhost:8000":P1}/api/v1`,dh=`${fh?"ws://localhost:8000":L1}/api/v1`,di={initial_ms:3e5,increment_ms:2e3};async function Ft(s,r={}){const i=await fetch(`${R1}${s}`,{headers:{"Content-Type":"application/json",...r.headers||{}},...r});if(!i.ok){const u=await i.text();throw new Error(u||`Request failed with ${i.status}`)}return(i.headers.get("content-type")||"").includes("application/json")?i.json():i.text()}const Ot={createSession(s){return Ft("/sessions",{method:"POST",body:JSON.stringify(s)})},sessionDetail(s){return Ft(`/sessions/${s}`)},move(s,r){return Ft(`/sessions/${s}/moves`,{method:"POST",body:JSON.stringify(r)})},analysis(s){return Ft(`/sessions/${s}/analysis`)},coach(s){return Ft(`/sessions/${s}/coach`,{method:"POST"})},pgn(s){return Ft(`/sessions/${s}/pgn`)},replay(s){return Ft(`/sessions/${s}/replay`)},queueJoin(s){return Ft("/multiplayer/queue",{method:"POST",body:JSON.stringify(s)})},queueStatus(s){return Ft(`/multiplayer/queue/${s}`)},queueLeave(s){return Ft(`/multiplayer/queue/${s}`,{method:"DELETE"})},createMultiplayer(s){return Ft("/multiplayer/sessions",{method:"POST",body:JSON.stringify(s)})},multiplayerMove(s,r){return Ft(`/multiplayer/sessions/${s}/moves`,{method:"POST",body:JSON.stringify(r)})},multiplayerAction(s,r){return Ft(`/multiplayer/sessions/${s}/${r}`,{method:"POST"})}},hh=[{key:"beginner",name:"Beginner",depth:1,rating:1320},{key:"intermediate",name:"Intermediate",depth:2,rating:1600},{key:"advanced",name:"Advanced",depth:3,rating:2e3},{key:"expert",name:"Expert",depth:4,rating:2300},{key:"grandmaster",name:"Grandmaster",depth:5,rating:2600}];function kd(s){const r=hh.find(i=>i.key===s);return r?`${r.name} (~${r.rating} Elo, depth ${r.depth})`:"Custom difficulty"}function Ba(s){if(typeof s!="number"||Number.isNaN(s))return"N/A";const r=(s/100).toFixed(2);return s>=0?`+${r}`:r}function I1(s){if(typeof s!="number"||Number.isNaN(s))return"No evaluation yet";const r=Math.abs(s);return r<35?"Balanced tension":r<150?s>0?"White edge":"Black edge":r<300?s>0?"White pressing":"Black pressing":s>0?"White winning":"Black winning"}function Od(s){const r=Math.max(0,s||0);if(r<6e4){const f=Math.floor(r/1e3),h=Math.floor(r%1e3/100);return`0:${f.toString().padStart(2,"0")}.${h}`}const i=Math.floor(r/1e3),l=Math.floor(i/60),u=i%60;return`${l}:${u.toString().padStart(2,"0")}`}function M1(){const s=_.useRef(new ls),r=_.useRef(new ls),i=_.useRef(null),[l,u]=_.useState(s.current.fen()),[f,h]=_.useState(null),[g,m]=_.useState([]),[y,x]=_.useState(null),[w,S]=_.useState([]),[L,O]=_.useState(""),[j,P]=_.useState(!1),[K,$]=_.useState("auto"),[z,G]=_.useState("auto"),[de,_e]=_.useState("advanced"),[be,Pe]=_.useState("No active session."),[Fe,Ae]=_.useState(!1),[He,Ne]=_.useState(null),[Ie,Te]=_.useState("");_.useEffect(()=>()=>{var V;(V=i.current)==null||V.close()},[]);const Z=_.useMemo(()=>(f==null?void 0:f.player_color)||"white",[f==null?void 0:f.player_color]),Y=_.useMemo(()=>{if(!(f!=null&&f.session_id))return"";const V=new URL(window.location.href);return V.pathname="/replay",V.searchParams.set("session",f.session_id),V.toString()},[f==null?void 0:f.session_id]),re=async()=>{var V;if(Y)try{await((V=navigator.clipboard)==null?void 0:V.writeText(Y)),Te("Replay link copied.")}catch(ie){Te(ie.message||"Unable to copy link.")}},W=V=>{var Ee;(Ee=i.current)==null||Ee.close();const ie=new WebSocket(`${dh}/sessions/${V}/stream`);i.current=ie,ie.onmessage=ae=>{var $e,ft;try{const et=JSON.parse(ae.data);et.type==="game_over"&&((ft=($e=et.payload)==null?void 0:$e.game_state)!=null&&ft.fen)&&(s.current.load(et.payload.game_state.fen),u(s.current.fen()),Pe(et.payload.message||"Game over."),Te(et.payload.message||""))}catch{}}},te=()=>{s.current.reset(),r.current.reset(),u(s.current.fen()),S([]),m([]),x(null),O(""),Ne(null)},q=V=>{if(!V)return;const ie=r.current.move({from:V.slice(0,2),to:V.slice(2,4),promotion:V.length>4?V.slice(4):void 0});ie&&S(Ee=>{const ae=[...Ee];if(ie.color==="w")ae.push({number:ae.length+1,white:ie.san,black:null});else if(ae.length===0)ae.push({number:1,white:"...",black:ie.san});else{const $e=ae[ae.length-1];$e.black?ae.push({number:ae.length+1,white:"...",black:ie.san}):$e.black=ie.san}return ae})},k=V=>{r.current.reset(),S([]),(V||[]).forEach(q)},A=async V=>{if(V)try{const ie=await Ot.analysis(V);m(ie.moves||[]),x(ie.summary||null)}catch(ie){Te(ie.message)}},fe=async V=>{var ae;const ie=V||f;if(!(!(ie!=null&&ie.session_id)||!(s.current.turn()===(ie.engine_color==="white"?"w":"b"))))try{const $e=await Ot.move(ie.session_id,{uci:null,client_ts:new Date().toISOString(),clock:ie.clocks||di,telemetry:{ui_version:"react"}});(ae=$e.game_state)!=null&&ae.fen&&(s.current.load($e.game_state.fen),u($e.game_state.fen)),$e.engine_move&&q($e.engine_move),Ne($e.engine_eval_cp)}catch($e){Te($e.message||"Engine move failed.")}},he=async V=>{V.preventDefault(),Ae(!0),Te("");try{const ie={variant:"standard",color:K,exploit_mode:z,difficulty:de,time_control:di},Ee=await Ot.createSession(ie),ae=await Ot.sessionDetail(Ee.session_id);h(ae),Pe(`Session ${ae.session_id}  Engine plays ${ae.engine_color}  ${kd(ae.difficulty)}`),te(),s.current.load(ae.fen),u(ae.fen),k(ae.moves||[]),Se(ae.opponent_profile),W(ae.session_id),await A(ae.session_id),await fe(ae)}catch(ie){Te(ie.message||"Unable to start session.")}finally{Ae(!1)}},Se=V=>{var ae,$e;if(!V)return;const ie=Math.round((((ae=V.style)==null?void 0:ae.tactical)??0)*100),Ee=Math.round(((($e=V.style)==null?void 0:$e.risk)??0)*100);Te(`Opponent profile: tactical ${ie}%  risk ${Ee}%`)},me=async()=>{if(f!=null&&f.session_id){P(!0),O("");try{const V=await Ot.coach(f.session_id);O(V.summary||"")}catch(V){O(V.message||"Coach summary unavailable.")}finally{P(!1)}}},J=async(V,ie,Ee)=>{if(!(f!=null&&f.session_id)||Fe)return!1;const ae=Ee.startsWith("w")?"8":"1",ft=ie.endsWith(ae)&&Ee.toLowerCase().startsWith("p")?"q":void 0;if(!s.current.move({from:V,to:ie,promotion:ft}))return!1;const ln=`${V}${ie}${ft||""}`;u(s.current.fen()),q(ln);try{return await xe(ln),!0}catch(Jt){return s.current.undo(),r.current.undo(),u(s.current.fen()),Te(Jt.message),!1}},xe=async V=>{var $e;if(!(f!=null&&f.session_id))throw new Error("No active session.");const ie=(f==null?void 0:f.clocks)||{player_ms:3e5,engine_ms:3e5},Ee={uci:V,client_ts:new Date().toISOString(),clock:ie,telemetry:{ui_version:"react"}},ae=await Ot.move(f.session_id,Ee);($e=ae.game_state)!=null&&$e.fen&&(s.current.load(ae.game_state.fen),u(ae.game_state.fen)),ae.engine_move&&q(ae.engine_move),Ne(ae.engine_eval_cp),Te(ae.message||""),h(ft=>{var et;return{...ft||f,fen:((et=ae.game_state)==null?void 0:et.fen)||l,status:ae.result?"completed":"active"}}),await A(f.session_id),ae.result&&Pe(ae.message||`Game over (${ae.result})`)},De=async()=>{if(!(f!=null&&f.session_id))return;const V=await Ot.pgn(f.session_id),ie=new Blob([V],{type:"application/x-chess-pgn"}),Ee=document.createElement("a");Ee.href=URL.createObjectURL(ie),Ee.download=`${f.session_id}.pgn`,document.body.appendChild(Ee),Ee.click(),Ee.remove()};return d.jsxs("div",{className:"app",children:[d.jsxs("header",{className:"hero",children:[d.jsxs("div",{className:"hero-title",children:[d.jsx("div",{className:"badge",children:d.jsx("span",{children:""})}),d.jsxs("div",{children:[d.jsx("h1",{children:"Chessica Control Room"}),d.jsx("p",{children:"Exploit-aware sessions with offline-ready assets, coach summaries, and difficulty presets."})]})]}),d.jsx("span",{className:"pill",children:f?"Active":"Setup"})]}),d.jsx("section",{className:"card controls",children:d.jsxs("form",{className:"controls-form",onSubmit:he,children:[d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Color"}),d.jsxs("select",{value:K,onChange:V=>$(V.target.value),children:[d.jsx("option",{value:"auto",children:"Auto"}),d.jsx("option",{value:"white",children:"White"}),d.jsx("option",{value:"black",children:"Black"})]})]}),d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Exploit Mode"}),d.jsxs("select",{value:z,onChange:V=>G(V.target.value),children:[d.jsx("option",{value:"auto",children:"Auto"}),d.jsx("option",{value:"on",children:"On"}),d.jsx("option",{value:"off",children:"Off"})]})]}),d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Difficulty"}),d.jsx("select",{value:de,onChange:V=>_e(V.target.value),children:hh.map(V=>d.jsxs("option",{value:V.key,children:[V.name," (~",V.rating,")"]},V.key))})]}),d.jsx("div",{className:"difficulty-indicator",children:d.jsx("span",{children:kd(de)})}),d.jsx("button",{type:"submit",disabled:Fe,children:Fe?"Starting...":f?"Restart Session":"Start Session"})]})}),d.jsxs("main",{className:"page-grid",children:[d.jsxs("section",{className:"card board-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Live Board"}),d.jsx("span",{className:"muted",children:be})]}),d.jsx("span",{className:`status-chip ${(f==null?void 0:f.status)==="completed"?"warn":""}`,children:f!=null&&f.session_id?`Session ${f.session_id}`:"Idle"})]}),d.jsxs("div",{className:"board-wrap",children:[d.jsx("div",{className:"board-shell-react",children:d.jsx(fu,{id:"computer-board",position:l,onPieceDrop:J,boardOrientation:Z,animationDuration:150,customBoardStyle:{borderRadius:16,boxShadow:"0 12px 26px rgba(0,0,0,0.35)"}})}),d.jsxs("div",{className:"inline-actions",children:[d.jsx("button",{type:"button",className:"secondary",disabled:!(f!=null&&f.session_id),onClick:De,children:"Download PGN"}),d.jsx("button",{type:"button",className:"secondary",disabled:!Y,onClick:re,children:"Copy Replay Link"}),d.jsx("span",{className:"muted",children:Ie})]}),d.jsxs("div",{className:"share-card",children:[d.jsxs("div",{className:"share-header",children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Coach & Insight"}),d.jsx("span",{className:"muted",children:"Explain the current position in plain English."})]}),d.jsx("button",{type:"button",disabled:!(f!=null&&f.session_id)||j,onClick:me,children:j?"Generating...":"Explain Position"})]}),d.jsx("div",{className:"insight-section",children:d.jsxs("div",{className:"insight-eval",children:[d.jsx("div",{className:"eval-score",children:Ba(He??0)}),d.jsx("span",{children:I1(He??0)}),d.jsx("p",{className:"muted",children:L||"No coach summary yet."})]})})]})]})]}),d.jsxs("div",{className:"insight-stack",children:[d.jsxs("section",{className:"card insight-card",children:[d.jsx("div",{className:"card-header",children:d.jsxs("div",{children:[d.jsx("h2",{children:"Move List"}),d.jsx("span",{children:"Player / Engine"})]})}),d.jsxs("ol",{className:"analysis-list",children:[w.length===0&&d.jsx("li",{className:"muted",children:"No moves yet."}),w.map(V=>d.jsx("li",{className:"analysis-item",children:d.jsxs("strong",{children:[V.number,". ",V.white||"..."," ",V.black||"..."]})},V.number))]})]}),d.jsxs("section",{className:"card insight-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Analysis"}),d.jsx("span",{className:"muted",children:"Themes, evals, and exploit deltas"})]}),d.jsx("button",{type:"button",className:"secondary",disabled:!(f!=null&&f.session_id),onClick:()=>A(f==null?void 0:f.session_id),children:"Refresh"})]}),d.jsxs("div",{className:"insight-section",children:[y&&d.jsxs("div",{className:"summary-block",children:[d.jsxs("div",{className:"panel-title",children:[d.jsx("strong",{children:"Induced blunders"}),d.jsx("span",{className:"pill",children:y.induced_blunders})]}),d.jsxs("div",{className:"panel-title",children:[d.jsx("strong",{children:"Eval tradeoff"}),d.jsxs("span",{className:"pill",children:[y.eval_tradeoff_cp," cp"]})]}),d.jsx("div",{className:"tag-row",children:(y.themes||[]).map(V=>d.jsx("span",{className:"tag",children:V},V))})]}),d.jsxs("ul",{className:"analysis-list",children:[g.length===0&&d.jsx("li",{className:"muted",children:"No annotated moves yet."}),g.map(V=>{var ie;return d.jsxs("li",{className:"analysis-item",children:[d.jsxs("strong",{children:[V.ply,". ",V.player_move||"...","  ",V.engine_reply||"..."]}),d.jsxs("div",{className:"muted",children:["Eval ",Ba(V.objective_eval_cp),"  Exploit ",Ba(V.exploit_gain_cp)]}),d.jsx("div",{className:"tag-row",children:(ie=V.motifs)==null?void 0:ie.map(Ee=>d.jsx("span",{className:"tag",children:Ee},Ee))}),d.jsx("p",{className:"muted",children:V.explanation})]},`${V.ply}-${V.player_move}-${V.engine_reply}`)})]})]})]})]})]})]})}const b1={player_id:"",color:"auto",initial_ms:di.initial_ms,increment_ms:di.increment_ms};function A1(){const s=_.useRef(new ls),r=_.useRef(new ls),i=_.useRef(null),l=_.useRef(null),[u,f]=_.useState(b1),[h,g]=_.useState(""),[m,y]=_.useState("white"),[x,w]=_.useState("Not queued."),[S,L]=_.useState(s.current.fen()),[O,j]=_.useState(di),[P,K]=_.useState([]),[$,z]=_.useState(""),[G,de]=_.useState("");_.useEffect(()=>()=>{var Z;(Z=i.current)==null||Z.close(),l.current&&clearInterval(l.current)},[]);const _e=Z=>{const Y=r.current.move({from:Z.slice(0,2),to:Z.slice(2,4),promotion:Z.length>4?Z.slice(4):void 0});Y&&K(re=>{const W=[...re];if(Y.color==="w")W.push({number:W.length+1,white:Y.san,black:null});else if(W.length===0)W.push({number:1,white:"...",black:Y.san});else{const te=W[W.length-1];te.black?W.push({number:W.length+1,white:"...",black:Y.san}):te.black=Y.san}return W})},be=Z=>{r.current.reset(),K([]),(Z||[]).forEach(_e)},Pe=Z=>{var re;(re=i.current)==null||re.close();const Y=new WebSocket(`${dh}/sessions/${Z}/stream`);i.current=Y,Y.onmessage=W=>{var te,q,k;try{const A=JSON.parse(W.data);if(A.type==="player_move"&&((te=A.payload)!=null&&te.uci)){const{uci:fe,game_state:he,clocks:Se}=A.payload;s.current.load(he.fen),L(he.fen),j(Se||O),_e(fe)}A.type==="game_over"&&((k=(q=A.payload)==null?void 0:q.game_state)!=null&&k.fen)&&(s.current.load(A.payload.game_state.fen),L(A.payload.game_state.fen),z(A.payload.message||"Game over."))}catch{}}},Fe=Z=>{l.current&&clearInterval(l.current),l.current=setInterval(async()=>{try{const Y=await Ot.queueStatus(Z);Y.status==="matched"&&Y.session_id?(clearInterval(l.current),await Ae(Y.session_id,Y.player_color,Y.opponent_id)):w(Y.message||"Waiting...")}catch(Y){w(Y.message)}},2e3)},Ae=async(Z,Y,re)=>{l.current&&clearInterval(l.current),g(Z),y(Y||"white"),w("Matched!"),de(`vs ${re||"pending"}  You are ${Y}`);const W=await Ot.sessionDetail(Z);s.current.load(W.fen),L(W.fen),be(W.moves||[]),j(W.clocks||di),Pe(Z)},He=async Z=>{Z.preventDefault(),z(""),w("Joining queue...");try{const Y={player_id:u.player_id.trim(),color:u.color,time_control:{initial_ms:Number(u.initial_ms),increment_ms:Number(u.increment_ms)}},re=await Ot.queueJoin(Y);re.status==="matched"&&re.session_id?await Ae(re.session_id,re.player_color,re.opponent_id):(w(re.message||"Queued"),Fe(Y.player_id))}catch(Y){w("Queue failed."),z(Y.message)}},Ne=async()=>{if(u.player_id)try{await Ot.queueLeave(u.player_id),w("Not queued."),l.current&&clearInterval(l.current)}catch(Z){z(Z.message)}},Ie=async(Z,Y,re)=>{var Se;if(!h||(s.current.turn()==="w"?"white":"black")!==m)return!1;const te=re.startsWith("w")?"8":"1",k=Y.endsWith(te)&&re.toLowerCase().startsWith("p")?"q":void 0;if(!s.current.move({from:Z,to:Y,promotion:k}))return!1;const fe=`${Z}${Y}${k||""}`,he=s.current.fen();L(he),_e(fe);try{const me=await Ot.multiplayerMove(h,{uci:fe,player_id:u.player_id,client_ts:new Date().toISOString(),clock:O});return(Se=me.game_state)!=null&&Se.fen&&(s.current.load(me.game_state.fen),L(me.game_state.fen)),j(me.clocks||O),me.result&&z(me.message||"Game finished."),!0}catch(me){return s.current.undo(),r.current.undo(),L(s.current.fen()),z(me.message),!1}},Te=async Z=>{var Y;if(h)try{const re=await Ot.multiplayerAction(h,Z);(Y=re.game_state)!=null&&Y.fen&&(s.current.load(re.game_state.fen),L(re.game_state.fen)),z(re.message||`${Z} sent.`)}catch(re){z(re.message)}};return d.jsxs("div",{className:"app",children:[d.jsxs("header",{className:"hero",children:[d.jsxs("div",{className:"hero-title",children:[d.jsx("div",{className:"badge",children:d.jsx("span",{children:""})}),d.jsxs("div",{children:[d.jsx("h1",{children:"Online Play"}),d.jsx("p",{children:"Queue for opponents, stream moves, and keep clocks in sync."})]})]}),d.jsx("span",{className:"pill",children:"Multiplayer"})]}),d.jsxs("section",{className:"card controls",children:[d.jsxs("form",{className:"controls-form",onSubmit:He,children:[d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Player ID"}),d.jsx("input",{type:"text",value:u.player_id,required:!0,onChange:Z=>f(Y=>({...Y,player_id:Z.target.value})),placeholder:"your-handle"})]}),d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Color"}),d.jsxs("select",{value:u.color,onChange:Z=>f(Y=>({...Y,color:Z.target.value})),children:[d.jsx("option",{value:"auto",children:"Auto"}),d.jsx("option",{value:"white",children:"White"}),d.jsx("option",{value:"black",children:"Black"})]})]}),d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Initial (ms)"}),d.jsx("input",{type:"number",value:u.initial_ms,onChange:Z=>f(Y=>({...Y,initial_ms:Z.target.value})),min:"60000",step:"60000"})]}),d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Increment (ms)"}),d.jsx("input",{type:"number",value:u.increment_ms,onChange:Z=>f(Y=>({...Y,increment_ms:Z.target.value})),min:"0",step:"1000"})]}),d.jsx("button",{type:"submit",children:"Join Queue"}),d.jsx("button",{type:"button",className:"secondary",onClick:Ne,children:"Leave Queue"})]}),d.jsx("div",{className:"difficulty-indicator",children:x})]}),d.jsxs("main",{className:"page-grid",children:[d.jsxs("section",{className:"card board-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Live Board"}),d.jsx("span",{className:"muted",children:G||"No match yet."})]}),d.jsx("span",{className:"status-chip",children:h?`Session ${h}`:"Idle"})]}),d.jsxs("div",{className:"board-wrap",children:[d.jsx("div",{className:"board-shell-react",children:d.jsx(fu,{id:"multiplayer-board",position:S,onPieceDrop:Ie,boardOrientation:m,animationDuration:150,customBoardStyle:{borderRadius:16,boxShadow:"0 12px 26px rgba(0,0,0,0.35)"}})}),d.jsxs("div",{className:"two-col",children:[d.jsxs("div",{className:"summary-block",children:[d.jsx("strong",{children:"You"}),d.jsx("div",{className:"muted",children:m==="white"?"White":"Black"}),d.jsx("div",{className:"pill",children:Od(O.player_ms)})]}),d.jsxs("div",{className:"summary-block",children:[d.jsx("strong",{children:"Opponent"}),d.jsx("div",{className:"muted",children:m==="white"?"Black":"White"}),d.jsx("div",{className:"pill",children:Od(O.engine_ms)})]})]}),d.jsxs("div",{className:"inline-actions",children:[d.jsx("button",{type:"button",className:"secondary",disabled:!h,onClick:()=>Te("resign"),children:"Resign"}),d.jsx("button",{type:"button",className:"secondary",disabled:!h,onClick:()=>Te("draw"),children:"Offer Draw"}),d.jsx("button",{type:"button",className:"secondary",disabled:!h,onClick:()=>Te("abort"),children:"Abort"}),d.jsx("span",{className:"muted",children:$})]})]})]}),d.jsxs("section",{className:"card insight-card",children:[d.jsx("div",{className:"card-header",children:d.jsxs("div",{children:[d.jsx("h2",{children:"Move Log"}),d.jsx("span",{className:"muted",children:"Both players"})]})}),d.jsxs("ol",{className:"analysis-list",children:[P.length===0&&d.jsx("li",{className:"muted",children:"No moves yet."}),P.map(Z=>d.jsx("li",{className:"analysis-item",children:d.jsxs("strong",{children:[Z.number,". ",Z.white||"..."," ",Z.black||"..."]})},Z.number))]})]})]})]})}function $1(){var P,K;const s=Mr(),r=_.useRef(new ls),[i,l]=_.useState(""),[u,f]=_.useState(null),[h,g]=_.useState(r.current.fen()),[m,y]=_.useState(0),[x,w]=_.useState("");_.useEffect(()=>{const z=new URLSearchParams(s.search).get("session");z&&(l(z),S(z))},[s.search]);const S=async $=>{w("");try{const z=await Ot.replay($);f(z),r.current.load(z.initial_fen),g(z.initial_fen),y(0)}catch(z){w(z.message||"Failed to load replay.")}},L=$=>{if(!u)return;r.current.load(u.initial_fen||u.fen||"");const z=Math.max(0,Math.min($,u.moves.length));for(let G=0;G<z;G+=1){const de=u.moves[G];de!=null&&de.uci&&r.current.move({from:de.uci.slice(0,2),to:de.uci.slice(2,4),promotion:de.uci.length>4?de.uci.slice(4):void 0})}y(z),g(r.current.fen())},O=async()=>{var z;if(!i)return;const $=new URL(window.location.href);$.searchParams.set("session",i);try{await((z=navigator.clipboard)==null?void 0:z.writeText($.toString())),w("Replay link copied.")}catch(G){w(G.message||"Unable to copy link.")}},j=async()=>{if(!i)return;const $=await Ot.pgn(i),z=new Blob([$],{type:"application/x-chess-pgn"}),G=document.createElement("a");G.href=URL.createObjectURL(z),G.download=`${i}.pgn`,document.body.appendChild(G),G.click(),G.remove()};return d.jsxs("div",{className:"app",children:[d.jsxs("header",{className:"hero",children:[d.jsxs("div",{className:"hero-title",children:[d.jsx("div",{className:"badge",children:d.jsx("span",{children:""})}),d.jsxs("div",{children:[d.jsx("h1",{children:"Replay"}),d.jsx("p",{children:"Step through any finished session, share a link, or export PGN."})]})]}),d.jsx("span",{className:"pill",children:"Review"})]}),d.jsxs("section",{className:"card controls",children:[d.jsxs("form",{className:"controls-form",onSubmit:$=>{$.preventDefault(),i&&S(i)},children:[d.jsxs("label",{className:"select-field",children:[d.jsx("span",{children:"Session ID"}),d.jsx("input",{type:"text",value:i,onChange:$=>l($.target.value),placeholder:"sess_xxx",required:!0})]}),d.jsx("button",{type:"submit",children:"Load Replay"}),d.jsx("button",{type:"button",className:"secondary",onClick:O,disabled:!i,children:"Copy link"}),d.jsx("button",{type:"button",className:"secondary",onClick:j,disabled:!i,children:"Download PGN"})]}),d.jsx("div",{className:"difficulty-indicator",children:x||"Paste a session id to begin."})]}),d.jsxs("main",{className:"replay-layout",children:[d.jsxs("section",{className:"card board-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Replay Board"}),d.jsx("span",{className:"muted",children:u?u.result||u.status:"No game loaded."})]}),d.jsx("span",{className:"status-chip",children:u?u.session_id:"Idle"})]}),d.jsxs("div",{className:"board-wrap",children:[d.jsx("div",{className:"board-shell-react",children:d.jsx(fu,{id:"replay-board",position:h,boardOrientation:(u==null?void 0:u.player_color)||"white",arePiecesDraggable:!1,customBoardStyle:{borderRadius:16,boxShadow:"0 12px 26px rgba(0,0,0,0.35)"}})}),d.jsxs("div",{className:"replay-controls",children:[d.jsx("button",{type:"button",onClick:()=>L(0),children:"Start"}),d.jsx("button",{type:"button",onClick:()=>L(m-1),children:"Prev"}),d.jsx("button",{type:"button",onClick:()=>L(m+1),children:"Next"}),d.jsx("button",{type:"button",onClick:()=>{var $;return L((($=u==null?void 0:u.moves)==null?void 0:$.length)||0)},children:"End"})]}),d.jsx("div",{className:"replay-meta",children:d.jsxs("span",{children:["Move ",m,"/",((P=u==null?void 0:u.moves)==null?void 0:P.length)||0]})})]})]}),d.jsxs("section",{className:"card insight-card",children:[d.jsx("div",{className:"card-header",children:d.jsxs("div",{children:[d.jsx("h2",{children:"Move List"}),d.jsx("span",{className:"muted",children:"Tap a move to jump"})]})}),d.jsx("div",{className:"replay-move-list",children:(K=u==null?void 0:u.moves)==null?void 0:K.map(($,z)=>d.jsxs("button",{type:"button",className:z===m?"active":"",onClick:()=>L(z+1),children:[$.ply,". ",$.san||$.uci]},`${$.ply}-${$.uci}`))})]})]})]})}function z1(){return d.jsxs("div",{className:"app-shell",children:[d.jsx(pm,{}),d.jsx("div",{className:"app-body",children:d.jsxs(Jg,{children:[d.jsx(ui,{path:"/",element:d.jsx(gm,{})}),d.jsx(ui,{path:"/computer",element:d.jsx(M1,{})}),d.jsx(ui,{path:"/multiplayer",element:d.jsx(A1,{})}),d.jsx(ui,{path:"/replay",element:d.jsx($1,{})}),d.jsx(ui,{path:"*",element:d.jsx(Yg,{to:"/",replace:!0})})]})})]})}const F1=document.getElementById("root");lg.createRoot(F1).render(d.jsx(Nd.StrictMode,{children:d.jsx(om,{children:d.jsx(z1,{})})}));
