var Zp=Object.defineProperty;var eg=(s,r,i)=>r in s?Zp(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i;var ot=(s,r,i)=>eg(s,typeof r!="symbol"?r+"":r,i);function tg(s,r){for(var i=0;i<r.length;i++){const l=r[i];if(typeof l!="string"&&!Array.isArray(l)){for(const a in l)if(a!=="default"&&!(a in s)){const d=Object.getOwnPropertyDescriptor(l,a);d&&Object.defineProperty(s,a,d.get?d:{enumerable:!0,get:()=>l[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function Df(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ka={exports:{}},Zi={},Ea={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function ng(){if($d)return Re;$d=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,D={};function T(O,F,Z){this.props=O,this.context=F,this.refs=D,this.updater=Z||R}T.prototype.isReactComponent={},T.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=T.prototype;function z(O,F,Z){this.props=O,this.context=F,this.refs=D,this.updater=Z||R}var B=z.prototype=new $;B.constructor=z,E(B,T.prototype),B.isPureReactComponent=!0;var X=Array.isArray,fe=Object.prototype.hasOwnProperty,Oe={current:null},Fe={key:!0,ref:!0,__self:!0,__source:!0};function je(O,F,Z){var de,me={},ve=null,J=null;if(F!=null)for(de in F.ref!==void 0&&(J=F.ref),F.key!==void 0&&(ve=""+F.key),F)fe.call(F,de)&&!Fe.hasOwnProperty(de)&&(me[de]=F[de]);var ye=arguments.length-2;if(ye===1)me.children=Z;else if(1<ye){for(var _e=Array(ye),Ie=0;Ie<ye;Ie++)_e[Ie]=arguments[Ie+2];me.children=_e}if(O&&O.defaultProps)for(de in ye=O.defaultProps,ye)me[de]===void 0&&(me[de]=ye[de]);return{$$typeof:s,type:O,key:ve,ref:J,props:me,_owner:Oe.current}}function Ke(O,F){return{$$typeof:s,type:O.type,key:F,ref:O.ref,props:O.props,_owner:O._owner}}function Ye(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function Xe(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return F[Z]})}var be=/\/+/g;function $e(O,F){return typeof O=="object"&&O!==null&&O.key!=null?Xe(""+O.key):F.toString(36)}function Qe(O,F,Z,de,me){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var J=!1;if(O===null)J=!0;else switch(ve){case"string":case"number":J=!0;break;case"object":switch(O.$$typeof){case s:case r:J=!0}}if(J)return J=O,me=me(J),O=de===""?"."+$e(J,0):de,X(me)?(Z="",O!=null&&(Z=O.replace(be,"$&/")+"/"),Qe(me,F,Z,"",function(Ie){return Ie})):me!=null&&(Ye(me)&&(me=Ke(me,Z+(!me.key||J&&J.key===me.key?"":(""+me.key).replace(be,"$&/")+"/")+O)),F.push(me)),1;if(J=0,de=de===""?".":de+":",X(O))for(var ye=0;ye<O.length;ye++){ve=O[ye];var _e=de+$e(ve,ye);J+=Qe(ve,F,Z,_e,me)}else if(_e=w(O),typeof _e=="function")for(O=_e.call(O),ye=0;!(ve=O.next()).done;)ve=ve.value,_e=de+$e(ve,ye++),J+=Qe(ve,F,Z,_e,me);else if(ve==="object")throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return J}function Ue(O,F,Z){if(O==null)return O;var de=[],me=0;return Qe(O,de,"","",function(ve){return F.call(Z,ve,me++)}),de}function Be(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var Ee={current:null},G={transition:null},ie={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:G,ReactCurrentOwner:Oe};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ue,forEach:function(O,F,Z){Ue(O,function(){F.apply(this,arguments)},Z)},count:function(O){var F=0;return Ue(O,function(){F++}),F},toArray:function(O){return Ue(O,function(F){return F})||[]},only:function(O){if(!Ye(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=T,Re.Fragment=i,Re.Profiler=a,Re.PureComponent=z,Re.StrictMode=l,Re.Suspense=m,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Re.act=Y,Re.cloneElement=function(O,F,Z){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var de=E({},O.props),me=O.key,ve=O.ref,J=O._owner;if(F!=null){if(F.ref!==void 0&&(ve=F.ref,J=Oe.current),F.key!==void 0&&(me=""+F.key),O.type&&O.type.defaultProps)var ye=O.type.defaultProps;for(_e in F)fe.call(F,_e)&&!Fe.hasOwnProperty(_e)&&(de[_e]=F[_e]===void 0&&ye!==void 0?ye[_e]:F[_e])}var _e=arguments.length-2;if(_e===1)de.children=Z;else if(1<_e){ye=Array(_e);for(var Ie=0;Ie<_e;Ie++)ye[Ie]=arguments[Ie+2];de.children=ye}return{$$typeof:s,type:O.type,key:me,ref:ve,props:de,_owner:J}},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:d,_context:O},O.Consumer=O},Re.createElement=je,Re.createFactory=function(O){var F=je.bind(null,O);return F.type=O,F},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:g,render:O}},Re.isValidElement=Ye,Re.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:Be}},Re.memo=function(O,F){return{$$typeof:v,type:O,compare:F===void 0?null:F}},Re.startTransition=function(O){var F=G.transition;G.transition={};try{O()}finally{G.transition=F}},Re.unstable_act=Y,Re.useCallback=function(O,F){return Ee.current.useCallback(O,F)},Re.useContext=function(O){return Ee.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return Ee.current.useDeferredValue(O)},Re.useEffect=function(O,F){return Ee.current.useEffect(O,F)},Re.useId=function(){return Ee.current.useId()},Re.useImperativeHandle=function(O,F,Z){return Ee.current.useImperativeHandle(O,F,Z)},Re.useInsertionEffect=function(O,F){return Ee.current.useInsertionEffect(O,F)},Re.useLayoutEffect=function(O,F){return Ee.current.useLayoutEffect(O,F)},Re.useMemo=function(O,F){return Ee.current.useMemo(O,F)},Re.useReducer=function(O,F,Z){return Ee.current.useReducer(O,F,Z)},Re.useRef=function(O){return Ee.current.useRef(O)},Re.useState=function(O){return Ee.current.useState(O)},Re.useSyncExternalStore=function(O,F,Z){return Ee.current.useSyncExternalStore(O,F,Z)},Re.useTransition=function(){return Ee.current.useTransition()},Re.version="18.3.1",Re}var zd;function ru(){return zd||(zd=1,Ea.exports=ng()),Ea.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function rg(){if(Fd)return Zi;Fd=1;var s=ru(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(g,m,v){var _,S={},w=null,R=null;v!==void 0&&(w=""+v),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(R=m.ref);for(_ in m)l.call(m,_)&&!d.hasOwnProperty(_)&&(S[_]=m[_]);if(g&&g.defaultProps)for(_ in m=g.defaultProps,m)S[_]===void 0&&(S[_]=m[_]);return{$$typeof:r,type:g,key:w,ref:R,props:S,_owner:a.current}}return Zi.Fragment=i,Zi.jsx=h,Zi.jsxs=h,Zi}var Ud;function ig(){return Ud||(Ud=1,ka.exports=rg()),ka.exports}var f=ig(),x=ru();const Lf=Df(x),sg=tg({__proto__:null,default:Lf},[x]);var wo={},Oa={exports:{}},nn={},ja={exports:{}},Na={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function og(){return Bd||(Bd=1,(function(s){function r(G,ie){var Y=G.length;G.push(ie);e:for(;0<Y;){var O=Y-1>>>1,F=G[O];if(0<a(F,ie))G[O]=ie,G[Y]=F,Y=O;else break e}}function i(G){return G.length===0?null:G[0]}function l(G){if(G.length===0)return null;var ie=G[0],Y=G.pop();if(Y!==ie){G[0]=Y;e:for(var O=0,F=G.length,Z=F>>>1;O<Z;){var de=2*(O+1)-1,me=G[de],ve=de+1,J=G[ve];if(0>a(me,Y))ve<F&&0>a(J,me)?(G[O]=J,G[ve]=Y,O=ve):(G[O]=me,G[de]=Y,O=de);else if(ve<F&&0>a(J,Y))G[O]=J,G[ve]=Y,O=ve;else break e}}return ie}function a(G,ie){var Y=G.sortIndex-ie.sortIndex;return Y!==0?Y:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var m=[],v=[],_=1,S=null,w=3,R=!1,E=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(G){for(var ie=i(v);ie!==null;){if(ie.callback===null)l(v);else if(ie.startTime<=G)l(v),ie.sortIndex=ie.expirationTime,r(m,ie);else break;ie=i(v)}}function X(G){if(D=!1,B(G),!E)if(i(m)!==null)E=!0,Be(fe);else{var ie=i(v);ie!==null&&Ee(X,ie.startTime-G)}}function fe(G,ie){E=!1,D&&(D=!1,$(je),je=-1),R=!0;var Y=w;try{for(B(ie),S=i(m);S!==null&&(!(S.expirationTime>ie)||G&&!Xe());){var O=S.callback;if(typeof O=="function"){S.callback=null,w=S.priorityLevel;var F=O(S.expirationTime<=ie);ie=s.unstable_now(),typeof F=="function"?S.callback=F:S===i(m)&&l(m),B(ie)}else l(m);S=i(m)}if(S!==null)var Z=!0;else{var de=i(v);de!==null&&Ee(X,de.startTime-ie),Z=!1}return Z}finally{S=null,w=Y,R=!1}}var Oe=!1,Fe=null,je=-1,Ke=5,Ye=-1;function Xe(){return!(s.unstable_now()-Ye<Ke)}function be(){if(Fe!==null){var G=s.unstable_now();Ye=G;var ie=!0;try{ie=Fe(!0,G)}finally{ie?$e():(Oe=!1,Fe=null)}}else Oe=!1}var $e;if(typeof z=="function")$e=function(){z(be)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ue=Qe.port2;Qe.port1.onmessage=be,$e=function(){Ue.postMessage(null)}}else $e=function(){T(be,0)};function Be(G){Fe=G,Oe||(Oe=!0,$e())}function Ee(G,ie){je=T(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){E||R||(E=!0,Be(fe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return i(m)},s.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var Y=w;w=ie;try{return G()}finally{w=Y}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=w;w=G;try{return ie()}finally{w=Y}},s.unstable_scheduleCallback=function(G,ie,Y){var O=s.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?O+Y:O):Y=O,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,G={id:_++,callback:ie,priorityLevel:G,startTime:Y,expirationTime:F,sortIndex:-1},Y>O?(G.sortIndex=Y,r(v,G),i(m)===null&&G===i(v)&&(D?($(je),je=-1):D=!0,Ee(X,Y-O))):(G.sortIndex=F,r(m,G),E||R||(E=!0,Be(fe))),G},s.unstable_shouldYield=Xe,s.unstable_wrapCallback=function(G){var ie=w;return function(){var Y=w;w=ie;try{return G.apply(this,arguments)}finally{w=Y}}}})(Na)),Na}var Wd;function lg(){return Wd||(Wd=1,ja.exports=og()),ja.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd;function ag(){if(Hd)return nn;Hd=1;var s=ru(),r=lg();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function w(e){return m.call(S,e)?!0:m.call(_,e)?!1:v.test(e)?S[e]=!0:(_[e]=!0,!1)}function R(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,n,o){if(t===null||typeof t>"u"||R(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function D(e,t,n,o,u,c,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=p}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new D(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,z);T[t]=new D(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,z);T[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,z);T[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,n,o){var u=T.hasOwnProperty(t)?T[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,n,u,o)&&(n=null),o||u===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):u.mustUseProperty?e[u.propertyName]=n===null?u.type===3?!1:"":n:(t=u.attributeName,o=u.attributeNamespace,n===null?e.removeAttribute(t):(u=u.type,n=u===3||u===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var X=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),Oe=Symbol.for("react.portal"),Fe=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),Ke=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),$e=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),G=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,O;function F(e){if(O===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return`
`+O+e}var Z=!1;function de(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var o=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){o=b}e.call(t.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var u=b.stack.split(`
`),c=o.stack.split(`
`),p=u.length-1,y=c.length-1;1<=p&&0<=y&&u[p]!==c[y];)y--;for(;1<=p&&0<=y;p--,y--)if(u[p]!==c[y]){if(p!==1||y!==1)do if(p--,y--,0>y||u[p]!==c[y]){var C=`
`+u[p].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=p&&0<=y);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function me(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fe:return"Fragment";case Oe:return"Portal";case Ke:return"Profiler";case je:return"StrictMode";case $e:return"Suspense";case Qe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xe:return(e.displayName||"Context")+".Consumer";case Ye:return(e._context.displayName||"Context")+".Provider";case be:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ue:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function J(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ie(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){o=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qe(e){e._valueTracker||(e._valueTracker=Ie(e))}function Ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=_e(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Bt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function En(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rn(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=ye(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wt(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function On(e,t){wt(e,t);var n=ye(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jn(e,t.type,n):t.hasOwnProperty("defaultValue")&&jn(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jn(e,t,n){(t!=="number"||Bt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pt=Array.isArray;function Gt(e,t,n,o){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Wt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ht(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(pt(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function on(e,t){var n=ye(t.value),o=ye(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function xt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ln(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ln(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var an,Nn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(an=an||document.createElement("div"),an.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=an.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},un=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(e){un.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_t[t]=_t[e]})});function Vt(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_t.hasOwnProperty(e)&&_t[e]?(""+t).trim():t+"px"}function Kt(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,u=Vt(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,u):e[n]=u}}var U=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(e,t){if(t){if(U[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function De(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ne=null;function He(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nt=null,dt=null,Me=null;function Ve(e){if(e=$i(e)){if(typeof nt!="function")throw Error(i(280));var t=e.stateNode;t&&(t=bs(t),nt(e.stateNode,e.type,t))}}function Nt(e){dt?Me?Me.push(e):Me=[e]:dt=e}function I(){if(dt){var e=dt,t=Me;if(Me=dt=null,Ve(e),t)for(e=0;e<t.length;e++)Ve(t[e])}}function K(e,t){return e(t)}function ge(){}var te=!1;function j(e,t,n){if(te)return e(t,n);te=!0;try{return K(e,t,n)}finally{te=!1,(dt!==null||Me!==null)&&(ge(),I())}}function Ce(e,t){var n=e.stateNode;if(n===null)return null;var o=bs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Le=!1;if(g)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{Le=!1}function H(e,t,n,o,u,c,p,y,C){var b=Array.prototype.slice.call(arguments,3);try{t.apply(n,b)}catch(V){this.onError(V)}}var rt=!1,Pe=null,it=!1,Tt=null,Mt={onError:function(e){rt=!0,Pe=e}};function cs(e,t,n,o,u,c,p,y,C){rt=!1,Pe=null,H.apply(Mt,arguments)}function ds(e,t,n,o,u,c,p,y,C){if(cs.apply(this,arguments),rt){if(rt){var b=Pe;rt=!1,Pe=null}else throw Error(i(198));it||(it=!0,Tt=b)}}function se(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fs(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vi(e){if(se(e)!==e)throw Error(i(188))}function Bo(e){var t=e.alternate;if(!t){if(t=se(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var u=n.return;if(u===null)break;var c=u.alternate;if(c===null){if(o=u.return,o!==null){n=o;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===n)return vi(u),e;if(c===o)return vi(u),t;c=c.sibling}throw Error(i(188))}if(n.return!==o.return)n=u,o=c;else{for(var p=!1,y=u.child;y;){if(y===n){p=!0,n=u,o=c;break}if(y===o){p=!0,o=u,n=c;break}y=y.sibling}if(!p){for(y=c.child;y;){if(y===n){p=!0,n=c,o=u;break}if(y===o){p=!0,o=c,n=u;break}y=y.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function yi(e){return e=Bo(e),e!==null?hs(e):null}function hs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hs(e);if(t!==null)return t;e=e.sibling}return null}var ps=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,ms=r.unstable_shouldYield,vs=r.unstable_requestPaint,lt=r.unstable_now,Wo=r.unstable_getCurrentPriorityLevel,Si=r.unstable_ImmediatePriority,wi=r.unstable_UserBlockingPriority,Xn=r.unstable_NormalPriority,Ho=r.unstable_LowPriority,ys=r.unstable_IdlePriority,kr=null,mn=null;function Pt(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(kr,e,void 0,(e.current.flags&128)===128)}catch{}}var N=Math.clz32?Math.clz32:ce,M=Math.log,A=Math.LN2;function ce(e){return e>>>=0,e===0?32:31-(M(e)/A|0)|0}var ue=64,Ae=4194304;function cn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zn(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,u=e.suspendedLanes,c=e.pingedLanes,p=n&268435455;if(p!==0){var y=p&~u;y!==0?o=cn(y):(c&=p,c!==0&&(o=cn(c)))}else p=n&~u,p!==0?o=cn(p):c!==0&&(o=cn(c));if(o===0)return 0;if(t!==0&&t!==o&&(t&u)===0&&(u=o&-o,c=t&-t,u>=c||u===16&&(c&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-N(t),u=1<<n,o|=e[n],t&=~u;return o}function yh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var p=31-N(c),y=1<<p,C=u[p];C===-1?((y&n)===0||(y&o)!==0)&&(u[p]=yh(y,t)):C<=t&&(e.expiredLanes|=y),c&=~y}}function Vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gu(){var e=ue;return ue<<=1,(ue&4194240)===0&&(ue=64),e}function Ko(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-N(t),e[t]=n}function wh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var u=31-N(n),c=1<<u;t[u]=0,o[u]=-1,e[u]=-1,n&=~c}}function Qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-N(n),u=1<<o;u&t|e[o]&t&&(e[o]|=t),n&=~u}}var Ge=0;function mu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var vu,qo,yu,Su,wu,Go=!1,Ss=[],Jn=null,Zn=null,er=null,_i=new Map,Ci=new Map,tr=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function ki(e,t,n,o,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[u]},t!==null&&(t=$i(t),t!==null&&qo(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function _h(e,t,n,o,u){switch(t){case"focusin":return Jn=ki(Jn,e,t,n,o,u),!0;case"dragenter":return Zn=ki(Zn,e,t,n,o,u),!0;case"mouseover":return er=ki(er,e,t,n,o,u),!0;case"pointerover":var c=u.pointerId;return _i.set(c,ki(_i.get(c)||null,e,t,n,o,u)),!0;case"gotpointercapture":return c=u.pointerId,Ci.set(c,ki(Ci.get(c)||null,e,t,n,o,u)),!0}return!1}function _u(e){var t=Er(e.target);if(t!==null){var n=se(t);if(n!==null){if(t=n.tag,t===13){if(t=fs(n),t!==null){e.blockedOn=t,wu(e.priority,function(){yu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Ne=o,n.target.dispatchEvent(o),Ne=null}else return t=$i(n),t!==null&&qo(t),e.blockedOn=n,!1;t.shift()}return!0}function Cu(e,t,n){ws(e)&&n.delete(t)}function Ch(){Go=!1,Jn!==null&&ws(Jn)&&(Jn=null),Zn!==null&&ws(Zn)&&(Zn=null),er!==null&&ws(er)&&(er=null),_i.forEach(Cu),Ci.forEach(Cu)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Go||(Go=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ch)))}function Oi(e){function t(u){return Ei(u,e)}if(0<Ss.length){Ei(Ss[0],e);for(var n=1;n<Ss.length;n++){var o=Ss[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Jn!==null&&Ei(Jn,e),Zn!==null&&Ei(Zn,e),er!==null&&Ei(er,e),_i.forEach(t),Ci.forEach(t),n=0;n<tr.length;n++)o=tr[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)_u(n),n.blockedOn===null&&tr.shift()}var Wr=X.ReactCurrentBatchConfig,xs=!0;function kh(e,t,n,o){var u=Ge,c=Wr.transition;Wr.transition=null;try{Ge=1,Yo(e,t,n,o)}finally{Ge=u,Wr.transition=c}}function Eh(e,t,n,o){var u=Ge,c=Wr.transition;Wr.transition=null;try{Ge=4,Yo(e,t,n,o)}finally{Ge=u,Wr.transition=c}}function Yo(e,t,n,o){if(xs){var u=Xo(e,t,n,o);if(u===null)pl(e,t,o,_s,n),xu(e,o);else if(_h(u,e,t,n,o))o.stopPropagation();else if(xu(e,o),t&4&&-1<xh.indexOf(e)){for(;u!==null;){var c=$i(u);if(c!==null&&vu(c),c=Xo(e,t,n,o),c===null&&pl(e,t,o,_s,n),c===u)break;u=c}u!==null&&o.stopPropagation()}else pl(e,t,o,null,n)}}var _s=null;function Xo(e,t,n,o){if(_s=null,e=He(o),e=Er(e),e!==null)if(t=se(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fs(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _s=e,null}function ku(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wo()){case Si:return 1;case wi:return 4;case Xn:case Ho:return 16;case ys:return 536870912;default:return 16}default:return 16}}var nr=null,Jo=null,Cs=null;function Eu(){if(Cs)return Cs;var e,t=Jo,n=t.length,o,u="value"in nr?nr.value:nr.textContent,c=u.length;for(e=0;e<n&&t[e]===u[e];e++);var p=n-e;for(o=1;o<=p&&t[n-o]===u[c-o];o++);return Cs=u.slice(e,1<o?1-o:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function Ou(){return!1}function dn(e){function t(n,o,u,c,p){this._reactName=n,this._targetInst=u,this.type=o,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Es:Ou,this.isPropagationStopped=Ou,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=dn(Hr),ji=Y({},Hr,{view:0,detail:0}),Oh=dn(ji),el,tl,Ni,Os=Y({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(el=e.screenX-Ni.screenX,tl=e.screenY-Ni.screenY):tl=el=0,Ni=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),ju=dn(Os),jh=Y({},Os,{dataTransfer:0}),Nh=dn(jh),Th=Y({},ji,{relatedTarget:0}),nl=dn(Th),Ph=Y({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dh=dn(Ph),Lh=Y({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rh=dn(Lh),bh=Y({},Hr,{data:0}),Nu=dn(bh),Ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $h(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ah[e])?!!t[e]:!1}function rl(){return $h}var zh=Y({},ji,{key:function(e){if(e.key){var t=Ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fh=dn(zh),Uh=Y({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=dn(Uh),Bh=Y({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),Wh=dn(Bh),Hh=Y({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vh=dn(Hh),Kh=Y({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qh=dn(Kh),qh=[9,13,27,32],il=g&&"CompositionEvent"in window,Ti=null;g&&"documentMode"in document&&(Ti=document.documentMode);var Gh=g&&"TextEvent"in window&&!Ti,Pu=g&&(!il||Ti&&8<Ti&&11>=Ti),Du=" ",Lu=!1;function Ru(e,t){switch(e){case"keyup":return qh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Yh(e,t){switch(e){case"compositionend":return bu(t);case"keypress":return t.which!==32?null:(Lu=!0,Du);case"textInput":return e=t.data,e===Du&&Lu?null:e;default:return null}}function Xh(e,t){if(Vr)return e==="compositionend"||!il&&Ru(e,t)?(e=Eu(),Cs=Jo=nr=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pu&&t.locale!=="ko"?null:t.data;default:return null}}var Jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jh[e.type]:t==="textarea"}function Mu(e,t,n,o){Nt(o),t=Ds(t,"onChange"),0<t.length&&(n=new Zo("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Pi=null,Di=null;function Zh(e){ec(e,0)}function js(e){var t=Yr(e);if(Ze(t))return e}function ep(e,t){if(e==="change")return t}var Au=!1;if(g){var sl;if(g){var ol="oninput"in document;if(!ol){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),ol=typeof $u.oninput=="function"}sl=ol}else sl=!1;Au=sl&&(!document.documentMode||9<document.documentMode)}function zu(){Pi&&(Pi.detachEvent("onpropertychange",Fu),Di=Pi=null)}function Fu(e){if(e.propertyName==="value"&&js(Di)){var t=[];Mu(t,Di,e,He(e)),j(Zh,t)}}function tp(e,t,n){e==="focusin"?(zu(),Pi=t,Di=n,Pi.attachEvent("onpropertychange",Fu)):e==="focusout"&&zu()}function np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(Di)}function rp(e,t){if(e==="click")return js(t)}function ip(e,t){if(e==="input"||e==="change")return js(t)}function sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:sp;function Li(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var u=n[o];if(!m.call(t,u)||!Tn(e[u],t[u]))return!1}return!0}function Uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bu(e,t){var n=Uu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uu(n)}}function Wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hu(){for(var e=window,t=Bt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bt(e.document)}return t}function ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function op(e){var t=Hu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wu(n.ownerDocument.documentElement,n)){if(o!==null&&ll(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=n.textContent.length,c=Math.min(o.start,u);o=o.end===void 0?c:Math.min(o.end,u),!e.extend&&c>o&&(u=o,o=c,c=u),u=Bu(n,c);var p=Bu(n,o);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lp=g&&"documentMode"in document&&11>=document.documentMode,Kr=null,al=null,Ri=null,ul=!1;function Vu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ul||Kr==null||Kr!==Bt(o)||(o=Kr,"selectionStart"in o&&ll(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ri&&Li(Ri,o)||(Ri=o,o=Ds(al,"onSelect"),0<o.length&&(t=new Zo("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Kr)))}function Ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},cl={},Ku={};g&&(Ku=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Ts(e){if(cl[e])return cl[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ku)return cl[e]=t[n];return e}var Qu=Ts("animationend"),qu=Ts("animationiteration"),Gu=Ts("animationstart"),Yu=Ts("transitionend"),Xu=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Xu.set(e,t),d(t,[e])}for(var dl=0;dl<Ju.length;dl++){var fl=Ju[dl],ap=fl.toLowerCase(),up=fl[0].toUpperCase()+fl.slice(1);rr(ap,"on"+up)}rr(Qu,"onAnimationEnd"),rr(qu,"onAnimationIteration"),rr(Gu,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(Yu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function Zu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,ds(o,t,void 0,e),e.currentTarget=null}function ec(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],u=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var p=o.length-1;0<=p;p--){var y=o[p],C=y.instance,b=y.currentTarget;if(y=y.listener,C!==c&&u.isPropagationStopped())break e;Zu(u,y,b),c=C}else for(p=0;p<o.length;p++){if(y=o[p],C=y.instance,b=y.currentTarget,y=y.listener,C!==c&&u.isPropagationStopped())break e;Zu(u,y,b),c=C}}}if(it)throw e=Tt,it=!1,Tt=null,e}function et(e,t){var n=t[wl];n===void 0&&(n=t[wl]=new Set);var o=e+"__bubble";n.has(o)||(tc(t,e,2,!1),n.add(o))}function hl(e,t,n){var o=0;t&&(o|=4),tc(n,e,o,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Ii(e){if(!e[Ps]){e[Ps]=!0,l.forEach(function(n){n!=="selectionchange"&&(cp.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,hl("selectionchange",!1,t))}}function tc(e,t,n,o){switch(ku(t)){case 1:var u=kh;break;case 4:u=Eh;break;default:u=Yo}n=u.bind(null,t,n,e),u=void 0,!Le||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function pl(e,t,n,o,u){var c=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var y=o.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===u||C.nodeType===8&&C.parentNode===u))return;p=p.return}for(;y!==null;){if(p=Er(y),p===null)return;if(C=p.tag,C===5||C===6){o=c=p;continue e}y=y.parentNode}}o=o.return}j(function(){var b=c,V=He(n),Q=[];e:{var W=Xu.get(e);if(W!==void 0){var ee=Zo,re=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":ee=Fh;break;case"focusin":re="focus",ee=nl;break;case"focusout":re="blur",ee=nl;break;case"beforeblur":case"afterblur":ee=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Wh;break;case Qu:case qu:case Gu:ee=Dh;break;case Yu:ee=Vh;break;case"scroll":ee=Oh;break;case"wheel":ee=Qh;break;case"copy":case"cut":case"paste":ee=Rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Tu}var oe=(t&4)!==0,ht=!oe&&e==="scroll",P=oe?W!==null?W+"Capture":null:W;oe=[];for(var k=b,L;k!==null;){L=k;var q=L.stateNode;if(L.tag===5&&q!==null&&(L=q,P!==null&&(q=Ce(k,P),q!=null&&oe.push(Mi(k,q,L)))),ht)break;k=k.return}0<oe.length&&(W=new ee(W,re,null,n,V),Q.push({event:W,listeners:oe}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",W&&n!==Ne&&(re=n.relatedTarget||n.fromElement)&&(Er(re)||re[Fn]))break e;if((ee||W)&&(W=V.window===V?V:(W=V.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(re=n.relatedTarget||n.toElement,ee=b,re=re?Er(re):null,re!==null&&(ht=se(re),re!==ht||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=b),ee!==re)){if(oe=ju,q="onMouseLeave",P="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Tu,q="onPointerLeave",P="onPointerEnter",k="pointer"),ht=ee==null?W:Yr(ee),L=re==null?W:Yr(re),W=new oe(q,k+"leave",ee,n,V),W.target=ht,W.relatedTarget=L,q=null,Er(V)===b&&(oe=new oe(P,k+"enter",re,n,V),oe.target=L,oe.relatedTarget=ht,q=oe),ht=q,ee&&re)t:{for(oe=ee,P=re,k=0,L=oe;L;L=qr(L))k++;for(L=0,q=P;q;q=qr(q))L++;for(;0<k-L;)oe=qr(oe),k--;for(;0<L-k;)P=qr(P),L--;for(;k--;){if(oe===P||P!==null&&oe===P.alternate)break t;oe=qr(oe),P=qr(P)}oe=null}else oe=null;ee!==null&&nc(Q,W,ee,oe,!1),re!==null&&ht!==null&&nc(Q,ht,re,oe,!0)}}e:{if(W=b?Yr(b):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var ae=ep;else if(Iu(W))if(Au)ae=ip;else{ae=np;var he=tp}else(ee=W.nodeName)&&ee.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ae=rp);if(ae&&(ae=ae(e,b))){Mu(Q,ae,n,V);break e}he&&he(e,W,b),e==="focusout"&&(he=W._wrapperState)&&he.controlled&&W.type==="number"&&jn(W,"number",W.value)}switch(he=b?Yr(b):window,e){case"focusin":(Iu(he)||he.contentEditable==="true")&&(Kr=he,al=b,Ri=null);break;case"focusout":Ri=al=Kr=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Vu(Q,n,V);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Vu(Q,n,V)}var pe;if(il)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Vr?Ru(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Pu&&n.locale!=="ko"&&(Vr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Vr&&(pe=Eu()):(nr=V,Jo="value"in nr?nr.value:nr.textContent,Vr=!0)),he=Ds(b,we),0<he.length&&(we=new Nu(we,e,null,n,V),Q.push({event:we,listeners:he}),pe?we.data=pe:(pe=bu(n),pe!==null&&(we.data=pe)))),(pe=Gh?Yh(e,n):Xh(e,n))&&(b=Ds(b,"onBeforeInput"),0<b.length&&(V=new Nu("onBeforeInput","beforeinput",null,n,V),Q.push({event:V,listeners:b}),V.data=pe))}ec(Q,t)})}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ds(e,t){for(var n=t+"Capture",o=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=Ce(e,n),c!=null&&o.unshift(Mi(e,c,u)),c=Ce(e,t),c!=null&&o.push(Mi(e,c,u))),e=e.return}return o}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nc(e,t,n,o,u){for(var c=t._reactName,p=[];n!==null&&n!==o;){var y=n,C=y.alternate,b=y.stateNode;if(C!==null&&C===o)break;y.tag===5&&b!==null&&(y=b,u?(C=Ce(n,c),C!=null&&p.unshift(Mi(n,C,y))):u||(C=Ce(n,c),C!=null&&p.push(Mi(n,C,y)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var dp=/\r\n?/g,fp=/\u0000|\uFFFD/g;function rc(e){return(typeof e=="string"?e:""+e).replace(dp,`
`).replace(fp,"")}function Ls(e,t,n){if(t=rc(t),rc(e)!==t&&n)throw Error(i(425))}function Rs(){}var gl=null,ml=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,hp=typeof clearTimeout=="function"?clearTimeout:void 0,ic=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof ic<"u"?function(e){return ic.resolve(null).then(e).catch(gp)}:yl;function gp(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,o=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(o===0){e.removeChild(u),Oi(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=u}while(n);Oi(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),In="__reactFiber$"+Gr,Ai="__reactProps$"+Gr,Fn="__reactContainer$"+Gr,wl="__reactEvents$"+Gr,mp="__reactListeners$"+Gr,vp="__reactHandles$"+Gr;function Er(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fn]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sc(e);e!==null;){if(n=e[In])return n;e=sc(e)}return t}e=n,n=e.parentNode}return null}function $i(e){return e=e[In]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function bs(e){return e[Ai]||null}var xl=[],Xr=-1;function sr(e){return{current:e}}function tt(e){0>Xr||(e.current=xl[Xr],xl[Xr]=null,Xr--)}function Je(e,t){Xr++,xl[Xr]=e.current,e.current=t}var or={},At=sr(or),Xt=sr(!1),Or=or;function Jr(e,t){var n=e.type.contextTypes;if(!n)return or;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in n)u[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Jt(e){return e=e.childContextTypes,e!=null}function Is(){tt(Xt),tt(At)}function oc(e,t,n){if(At.current!==or)throw Error(i(168));Je(At,t),Je(Xt,n)}function lc(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(i(108,J(e)||"Unknown",u));return Y({},n,o)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,Or=At.current,Je(At,e),Je(Xt,Xt.current),!0}function ac(e,t,n){var o=e.stateNode;if(!o)throw Error(i(169));n?(e=lc(e,t,Or),o.__reactInternalMemoizedMergedChildContext=e,tt(Xt),tt(At),Je(At,e)):tt(Xt),Je(Xt,n)}var Un=null,As=!1,_l=!1;function uc(e){Un===null?Un=[e]:Un.push(e)}function yp(e){As=!0,uc(e)}function lr(){if(!_l&&Un!==null){_l=!0;var e=0,t=Ge;try{var n=Un;for(Ge=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Un=null,As=!1}catch(u){throw Un!==null&&(Un=Un.slice(e+1)),ps(Si,lr),u}finally{Ge=t,_l=!1}}return null}var Zr=[],ei=0,$s=null,zs=0,vn=[],yn=0,jr=null,Bn=1,Wn="";function Nr(e,t){Zr[ei++]=zs,Zr[ei++]=$s,$s=e,zs=t}function cc(e,t,n){vn[yn++]=Bn,vn[yn++]=Wn,vn[yn++]=jr,jr=e;var o=Bn;e=Wn;var u=32-N(o)-1;o&=~(1<<u),n+=1;var c=32-N(t)+u;if(30<c){var p=u-u%5;c=(o&(1<<p)-1).toString(32),o>>=p,u-=p,Bn=1<<32-N(t)+u|n<<u|o,Wn=c+e}else Bn=1<<c|n<<u|o,Wn=e}function Cl(e){e.return!==null&&(Nr(e,1),cc(e,1,0))}function kl(e){for(;e===$s;)$s=Zr[--ei],Zr[ei]=null,zs=Zr[--ei],Zr[ei]=null;for(;e===jr;)jr=vn[--yn],vn[yn]=null,Wn=vn[--yn],vn[yn]=null,Bn=vn[--yn],vn[yn]=null}var fn=null,hn=null,st=!1,Pn=null;function dc(e,t){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fn=e,hn=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fn=e,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jr!==null?{id:Bn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,fn=e,hn=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ol(e){if(st){var t=hn;if(t){var n=t;if(!fc(e,t)){if(El(e))throw Error(i(418));t=ir(n.nextSibling);var o=fn;t&&fc(e,t)?dc(o,n):(e.flags=e.flags&-4097|2,st=!1,fn=e)}}else{if(El(e))throw Error(i(418));e.flags=e.flags&-4097|2,st=!1,fn=e}}}function hc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fn=e}function Fs(e){if(e!==fn)return!1;if(!st)return hc(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=hn)){if(El(e))throw pc(),Error(i(418));for(;t;)dc(e,t),t=ir(t.nextSibling)}if(hc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hn=ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hn=null}}else hn=fn?ir(e.stateNode.nextSibling):null;return!0}function pc(){for(var e=hn;e;)e=ir(e.nextSibling)}function ti(){hn=fn=null,st=!1}function jl(e){Pn===null?Pn=[e]:Pn.push(e)}var Sp=X.ReactCurrentBatchConfig;function zi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var u=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(p){var y=u.refs;p===null?delete y[c]:y[c]=p},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Us(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function mc(e){function t(P,k){if(e){var L=P.deletions;L===null?(P.deletions=[k],P.flags|=16):L.push(k)}}function n(P,k){if(!e)return null;for(;k!==null;)t(P,k),k=k.sibling;return null}function o(P,k){for(P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function u(P,k){return P=gr(P,k),P.index=0,P.sibling=null,P}function c(P,k,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<k?(P.flags|=2,k):L):(P.flags|=2,k)):(P.flags|=1048576,k)}function p(P){return e&&P.alternate===null&&(P.flags|=2),P}function y(P,k,L,q){return k===null||k.tag!==6?(k=ya(L,P.mode,q),k.return=P,k):(k=u(k,L),k.return=P,k)}function C(P,k,L,q){var ae=L.type;return ae===Fe?V(P,k,L.props.children,q,L.key):k!==null&&(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Be&&gc(ae)===k.type)?(q=u(k,L.props),q.ref=zi(P,k,L),q.return=P,q):(q=fo(L.type,L.key,L.props,null,P.mode,q),q.ref=zi(P,k,L),q.return=P,q)}function b(P,k,L,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=Sa(L,P.mode,q),k.return=P,k):(k=u(k,L.children||[]),k.return=P,k)}function V(P,k,L,q,ae){return k===null||k.tag!==7?(k=Mr(L,P.mode,q,ae),k.return=P,k):(k=u(k,L),k.return=P,k)}function Q(P,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return k=ya(""+k,P.mode,L),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fe:return L=fo(k.type,k.key,k.props,null,P.mode,L),L.ref=zi(P,null,k),L.return=P,L;case Oe:return k=Sa(k,P.mode,L),k.return=P,k;case Be:var q=k._init;return Q(P,q(k._payload),L)}if(pt(k)||ie(k))return k=Mr(k,P.mode,L,null),k.return=P,k;Us(P,k)}return null}function W(P,k,L,q){var ae=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ae!==null?null:y(P,k,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case fe:return L.key===ae?C(P,k,L,q):null;case Oe:return L.key===ae?b(P,k,L,q):null;case Be:return ae=L._init,W(P,k,ae(L._payload),q)}if(pt(L)||ie(L))return ae!==null?null:V(P,k,L,q,null);Us(P,L)}return null}function ee(P,k,L,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return P=P.get(L)||null,y(k,P,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case fe:return P=P.get(q.key===null?L:q.key)||null,C(k,P,q,ae);case Oe:return P=P.get(q.key===null?L:q.key)||null,b(k,P,q,ae);case Be:var he=q._init;return ee(P,k,L,he(q._payload),ae)}if(pt(q)||ie(q))return P=P.get(L)||null,V(k,P,q,ae,null);Us(k,q)}return null}function re(P,k,L,q){for(var ae=null,he=null,pe=k,we=k=0,Et=null;pe!==null&&we<L.length;we++){pe.index>we?(Et=pe,pe=null):Et=pe.sibling;var We=W(P,pe,L[we],q);if(We===null){pe===null&&(pe=Et);break}e&&pe&&We.alternate===null&&t(P,pe),k=c(We,k,we),he===null?ae=We:he.sibling=We,he=We,pe=Et}if(we===L.length)return n(P,pe),st&&Nr(P,we),ae;if(pe===null){for(;we<L.length;we++)pe=Q(P,L[we],q),pe!==null&&(k=c(pe,k,we),he===null?ae=pe:he.sibling=pe,he=pe);return st&&Nr(P,we),ae}for(pe=o(P,pe);we<L.length;we++)Et=ee(pe,P,we,L[we],q),Et!==null&&(e&&Et.alternate!==null&&pe.delete(Et.key===null?we:Et.key),k=c(Et,k,we),he===null?ae=Et:he.sibling=Et,he=Et);return e&&pe.forEach(function(mr){return t(P,mr)}),st&&Nr(P,we),ae}function oe(P,k,L,q){var ae=ie(L);if(typeof ae!="function")throw Error(i(150));if(L=ae.call(L),L==null)throw Error(i(151));for(var he=ae=null,pe=k,we=k=0,Et=null,We=L.next();pe!==null&&!We.done;we++,We=L.next()){pe.index>we?(Et=pe,pe=null):Et=pe.sibling;var mr=W(P,pe,We.value,q);if(mr===null){pe===null&&(pe=Et);break}e&&pe&&mr.alternate===null&&t(P,pe),k=c(mr,k,we),he===null?ae=mr:he.sibling=mr,he=mr,pe=Et}if(We.done)return n(P,pe),st&&Nr(P,we),ae;if(pe===null){for(;!We.done;we++,We=L.next())We=Q(P,We.value,q),We!==null&&(k=c(We,k,we),he===null?ae=We:he.sibling=We,he=We);return st&&Nr(P,we),ae}for(pe=o(P,pe);!We.done;we++,We=L.next())We=ee(pe,P,we,We.value,q),We!==null&&(e&&We.alternate!==null&&pe.delete(We.key===null?we:We.key),k=c(We,k,we),he===null?ae=We:he.sibling=We,he=We);return e&&pe.forEach(function(Jp){return t(P,Jp)}),st&&Nr(P,we),ae}function ht(P,k,L,q){if(typeof L=="object"&&L!==null&&L.type===Fe&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case fe:e:{for(var ae=L.key,he=k;he!==null;){if(he.key===ae){if(ae=L.type,ae===Fe){if(he.tag===7){n(P,he.sibling),k=u(he,L.props.children),k.return=P,P=k;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Be&&gc(ae)===he.type){n(P,he.sibling),k=u(he,L.props),k.ref=zi(P,he,L),k.return=P,P=k;break e}n(P,he);break}else t(P,he);he=he.sibling}L.type===Fe?(k=Mr(L.props.children,P.mode,q,L.key),k.return=P,P=k):(q=fo(L.type,L.key,L.props,null,P.mode,q),q.ref=zi(P,k,L),q.return=P,P=q)}return p(P);case Oe:e:{for(he=L.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){n(P,k.sibling),k=u(k,L.children||[]),k.return=P,P=k;break e}else{n(P,k);break}else t(P,k);k=k.sibling}k=Sa(L,P.mode,q),k.return=P,P=k}return p(P);case Be:return he=L._init,ht(P,k,he(L._payload),q)}if(pt(L))return re(P,k,L,q);if(ie(L))return oe(P,k,L,q);Us(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,k!==null&&k.tag===6?(n(P,k.sibling),k=u(k,L),k.return=P,P=k):(n(P,k),k=ya(L,P.mode,q),k.return=P,P=k),p(P)):n(P,k)}return ht}var ni=mc(!0),vc=mc(!1),Bs=sr(null),Ws=null,ri=null,Nl=null;function Tl(){Nl=ri=Ws=null}function Pl(e){var t=Bs.current;tt(Bs),e._currentValue=t}function Dl(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function ii(e,t){Ws=e,Nl=ri=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Zt=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},ri===null){if(Ws===null)throw Error(i(308));ri=e,Ws.dependencies={lanes:0,firstContext:e}}else ri=ri.next=e;return t}var Tr=null;function Ll(e){Tr===null?Tr=[e]:Tr.push(e)}function yc(e,t,n,o){var u=t.interleaved;return u===null?(n.next=n,Ll(t)):(n.next=u.next,u.next=n),t.interleaved=n,Hn(e,o)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function Rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ze&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,Hn(e,n)}return u=o.interleaved,u===null?(t.next=t,Ll(o)):(t.next=u.next,u.next=t),o.interleaved=t,Hn(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Qo(e,n)}}function wc(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var u=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?u=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?u=c=t:c=c.next=t}else u=c=t;n={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,o){var u=e.updateQueue;ar=!1;var c=u.firstBaseUpdate,p=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var C=y,b=C.next;C.next=null,p===null?c=b:p.next=b,p=C;var V=e.alternate;V!==null&&(V=V.updateQueue,y=V.lastBaseUpdate,y!==p&&(y===null?V.firstBaseUpdate=b:y.next=b,V.lastBaseUpdate=C))}if(c!==null){var Q=u.baseState;p=0,V=b=C=null,y=c;do{var W=y.lane,ee=y.eventTime;if((o&W)===W){V!==null&&(V=V.next={eventTime:ee,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var re=e,oe=y;switch(W=t,ee=n,oe.tag){case 1:if(re=oe.payload,typeof re=="function"){Q=re.call(ee,Q,W);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=oe.payload,W=typeof re=="function"?re.call(ee,Q,W):re,W==null)break e;Q=Y({},Q,W);break e;case 2:ar=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,W=u.effects,W===null?u.effects=[y]:W.push(y))}else ee={eventTime:ee,lane:W,tag:y.tag,payload:y.payload,callback:y.callback,next:null},V===null?(b=V=ee,C=Q):V=V.next=ee,p|=W;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;W=y,y=W.next,W.next=null,u.lastBaseUpdate=W,u.shared.pending=null}}while(!0);if(V===null&&(C=Q),u.baseState=C,u.firstBaseUpdate=b,u.lastBaseUpdate=V,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else c===null&&(u.shared.lanes=0);Lr|=p,e.lanes=p,e.memoizedState=Q}}function xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=n,typeof u!="function")throw Error(i(191,u));u.call(o)}}}var Fi={},Mn=sr(Fi),Ui=sr(Fi),Bi=sr(Fi);function Pr(e){if(e===Fi)throw Error(i(174));return e}function bl(e,t){switch(Je(Bi,t),Je(Ui,e),Je(Mn,Fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:It(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=It(t,e)}tt(Mn),Je(Mn,t)}function si(){tt(Mn),tt(Ui),tt(Bi)}function _c(e){Pr(Bi.current);var t=Pr(Mn.current),n=It(t,e.type);t!==n&&(Je(Ui,e),Je(Mn,n))}function Il(e){Ui.current===e&&(tt(Mn),tt(Ui))}var at=sr(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Al(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Qs=X.ReactCurrentDispatcher,$l=X.ReactCurrentBatchConfig,Dr=0,ut=null,vt=null,Ct=null,qs=!1,Wi=!1,Hi=0,wp=0;function $t(){throw Error(i(321))}function zl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function Fl(e,t,n,o,u,c){if(Dr=c,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=e===null||e.memoizedState===null?kp:Ep,e=n(o,u),Wi){c=0;do{if(Wi=!1,Hi=0,25<=c)throw Error(i(301));c+=1,Ct=vt=null,t.updateQueue=null,Qs.current=Op,e=n(o,u)}while(Wi)}if(Qs.current=Xs,t=vt!==null&&vt.next!==null,Dr=0,Ct=vt=ut=null,qs=!1,t)throw Error(i(300));return e}function Ul(){var e=Hi!==0;return Hi=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ut.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function wn(){if(vt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Ct===null?ut.memoizedState:Ct.next;if(t!==null)Ct=t,vt=e;else{if(e===null)throw Error(i(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ct===null?ut.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Vi(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=wn(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=vt,u=o.baseQueue,c=n.pending;if(c!==null){if(u!==null){var p=u.next;u.next=c.next,c.next=p}o.baseQueue=u=c,n.pending=null}if(u!==null){c=u.next,o=o.baseState;var y=p=null,C=null,b=c;do{var V=b.lane;if((Dr&V)===V)C!==null&&(C=C.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var Q={lane:V,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};C===null?(y=C=Q,p=o):C=C.next=Q,ut.lanes|=V,Lr|=V}b=b.next}while(b!==null&&b!==c);C===null?p=o:C.next=y,Tn(o,t.memoizedState)||(Zt=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=C,n.lastRenderedState=o}if(e=n.interleaved,e!==null){u=e;do c=u.lane,ut.lanes|=c,Lr|=c,u=u.next;while(u!==e)}else u===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wl(e){var t=wn(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,u=n.pending,c=t.memoizedState;if(u!==null){n.pending=null;var p=u=u.next;do c=e(c,p.action),p=p.next;while(p!==u);Tn(c,t.memoizedState)||(Zt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,o]}function Cc(){}function kc(e,t){var n=ut,o=wn(),u=t(),c=!Tn(o.memoizedState,u);if(c&&(o.memoizedState=u,Zt=!0),o=o.queue,Hl(jc.bind(null,n,o,e),[e]),o.getSnapshot!==t||c||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Ki(9,Oc.bind(null,n,o,u,t),void 0,null),kt===null)throw Error(i(349));(Dr&30)!==0||Ec(n,t,u)}return u}function Ec(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Oc(e,t,n,o){t.value=n,t.getSnapshot=o,Nc(t)&&Tc(e)}function jc(e,t,n){return n(function(){Nc(t)&&Tc(e)})}function Nc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function Tc(e){var t=Hn(e,1);t!==null&&bn(t,e,1,-1)}function Pc(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Cp.bind(null,ut,e),[t.memoizedState,e]}function Ki(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Dc(){return wn().memoizedState}function Gs(e,t,n,o){var u=An();ut.flags|=e,u.memoizedState=Ki(1|t,n,void 0,o===void 0?null:o)}function Ys(e,t,n,o){var u=wn();o=o===void 0?null:o;var c=void 0;if(vt!==null){var p=vt.memoizedState;if(c=p.destroy,o!==null&&zl(o,p.deps)){u.memoizedState=Ki(t,n,c,o);return}}ut.flags|=e,u.memoizedState=Ki(1|t,n,c,o)}function Lc(e,t){return Gs(8390656,8,e,t)}function Hl(e,t){return Ys(2048,8,e,t)}function Rc(e,t){return Ys(4,2,e,t)}function bc(e,t){return Ys(4,4,e,t)}function Ic(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mc(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4,4,Ic.bind(null,t,e),n)}function Vl(){}function Ac(e,t){var n=wn();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&zl(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function $c(e,t){var n=wn();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&zl(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function zc(e,t,n){return(Dr&21)===0?(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n):(Tn(n,t)||(n=gu(),ut.lanes|=n,Lr|=n,e.baseState=!0),t)}function xp(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var o=$l.transition;$l.transition={};try{e(!1),t()}finally{Ge=n,$l.transition=o}}function Fc(){return wn().memoizedState}function _p(e,t,n){var o=hr(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Uc(e))Bc(t,n);else if(n=yc(e,t,n,o),n!==null){var u=qt();bn(n,e,o,u),Wc(n,t,o)}}function Cp(e,t,n){var o=hr(e),u={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uc(e))Bc(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,y=c(p,n);if(u.hasEagerState=!0,u.eagerState=y,Tn(y,p)){var C=t.interleaved;C===null?(u.next=u,Ll(t)):(u.next=C.next,C.next=u),t.interleaved=u;return}}catch{}finally{}n=yc(e,t,u,o),n!==null&&(u=qt(),bn(n,e,o,u),Wc(n,t,o))}}function Uc(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function Bc(e,t){Wi=qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Qo(e,n)}}var Xs={readContext:Sn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},kp={readContext:Sn,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Lc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,Ic.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=An();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=An();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=_p.bind(null,ut,e),[o.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:Vl,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=xp.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ut,u=An();if(st){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),kt===null)throw Error(i(349));(Dr&30)!==0||Ec(o,t,n)}u.memoizedState=n;var c={value:n,getSnapshot:t};return u.queue=c,Lc(jc.bind(null,o,c,e),[e]),o.flags|=2048,Ki(9,Oc.bind(null,o,c,n,t),void 0,null),n},useId:function(){var e=An(),t=kt.identifierPrefix;if(st){var n=Wn,o=Bn;n=(o&~(1<<32-N(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ep={readContext:Sn,useCallback:Ac,useContext:Sn,useEffect:Hl,useImperativeHandle:Mc,useInsertionEffect:Rc,useLayoutEffect:bc,useMemo:$c,useReducer:Bl,useRef:Dc,useState:function(){return Bl(Vi)},useDebugValue:Vl,useDeferredValue:function(e){var t=wn();return zc(t,vt.memoizedState,e)},useTransition:function(){var e=Bl(Vi)[0],t=wn().memoizedState;return[e,t]},useMutableSource:Cc,useSyncExternalStore:kc,useId:Fc,unstable_isNewReconciler:!1},Op={readContext:Sn,useCallback:Ac,useContext:Sn,useEffect:Hl,useImperativeHandle:Mc,useInsertionEffect:Rc,useLayoutEffect:bc,useMemo:$c,useReducer:Wl,useRef:Dc,useState:function(){return Wl(Vi)},useDebugValue:Vl,useDeferredValue:function(e){var t=wn();return vt===null?t.memoizedState=e:zc(t,vt.memoizedState,e)},useTransition:function(){var e=Wl(Vi)[0],t=wn().memoizedState;return[e,t]},useMutableSource:Cc,useSyncExternalStore:kc,useId:Fc,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Kl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Js={isMounted:function(e){return(e=e._reactInternals)?se(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=qt(),u=hr(e),c=Vn(o,u);c.payload=t,n!=null&&(c.callback=n),t=ur(e,c,u),t!==null&&(bn(t,e,u,o),Hs(t,e,u))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=qt(),u=hr(e),c=Vn(o,u);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ur(e,c,u),t!==null&&(bn(t,e,u,o),Hs(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),o=hr(e),u=Vn(n,o);u.tag=2,t!=null&&(u.callback=t),t=ur(e,u,o),t!==null&&(bn(t,e,o,n),Hs(t,e,o))}};function Hc(e,t,n,o,u,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,p):t.prototype&&t.prototype.isPureReactComponent?!Li(n,o)||!Li(u,c):!0}function Vc(e,t,n){var o=!1,u=or,c=t.contextType;return typeof c=="object"&&c!==null?c=Sn(c):(u=Jt(t)?Or:At.current,o=t.contextTypes,c=(o=o!=null)?Jr(e,u):or),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),t}function Kc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function Ql(e,t,n,o){var u=e.stateNode;u.props=n,u.state=e.memoizedState,u.refs={},Rl(e);var c=t.contextType;typeof c=="object"&&c!==null?u.context=Sn(c):(c=Jt(t)?Or:At.current,u.context=Jr(e,c)),u.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Kl(e,t,c,n),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Js.enqueueReplaceState(u,u.state,null),Vs(e,n,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function oi(e,t){try{var n="",o=t;do n+=me(o),o=o.return;while(o);var u=n}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:u,digest:null}}function ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jp=typeof WeakMap=="function"?WeakMap:Map;function Qc(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){so||(so=!0,ca=o),Gl(e,t)},n}function qc(e,t,n){n=Vn(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;n.payload=function(){return o(u)},n.callback=function(){Gl(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Gl(e,t),typeof o!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Gc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new jp;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(n)||(u.add(n),e=Up.bind(null,e,t,n),t.then(e,e))}function Yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,n,o,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,ur(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Np=X.ReactCurrentOwner,Zt=!1;function Qt(e,t,n,o){t.child=e===null?vc(t,null,n,o):ni(t,e.child,n,o)}function Jc(e,t,n,o,u){n=n.render;var c=t.ref;return ii(t,u),o=Fl(e,t,n,o,c,u),n=Ul(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Kn(e,t,u)):(st&&n&&Cl(t),t.flags|=1,Qt(e,t,o,u),t.child)}function Zc(e,t,n,o,u){if(e===null){var c=n.type;return typeof c=="function"&&!va(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,ed(e,t,c,o,u)):(e=fo(n.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&u)===0){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(p,o)&&e.ref===t.ref)return Kn(e,t,u)}return t.flags|=1,e=gr(c,o),e.ref=t.ref,e.return=t,t.child=e}function ed(e,t,n,o,u){if(e!==null){var c=e.memoizedProps;if(Li(c,o)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=o=c,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Zt=!0);else return t.lanes=e.lanes,Kn(e,t,u)}return Yl(e,t,n,o,u)}function td(e,t,n){var o=t.pendingProps,u=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ai,pn),pn|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(ai,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,Je(ai,pn),pn|=o}else c!==null?(o=c.baseLanes|n,t.memoizedState=null):o=n,Je(ai,pn),pn|=o;return Qt(e,t,u,n),t.child}function nd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,o,u){var c=Jt(n)?Or:At.current;return c=Jr(t,c),ii(t,u),n=Fl(e,t,n,o,c,u),o=Ul(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Kn(e,t,u)):(st&&o&&Cl(t),t.flags|=1,Qt(e,t,n,u),t.child)}function rd(e,t,n,o,u){if(Jt(n)){var c=!0;Ms(t)}else c=!1;if(ii(t,u),t.stateNode===null)eo(e,t),Vc(t,n,o),Ql(t,n,o,u),o=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var C=p.context,b=n.contextType;typeof b=="object"&&b!==null?b=Sn(b):(b=Jt(n)?Or:At.current,b=Jr(t,b));var V=n.getDerivedStateFromProps,Q=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function";Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==o||C!==b)&&Kc(t,p,o,b),ar=!1;var W=t.memoizedState;p.state=W,Vs(t,o,p,u),C=t.memoizedState,y!==o||W!==C||Xt.current||ar?(typeof V=="function"&&(Kl(t,n,V,o),C=t.memoizedState),(y=ar||Hc(t,n,y,o,W,C,b))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),p.props=o,p.state=C,p.context=b,o=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,Sc(e,t),y=t.memoizedProps,b=t.type===t.elementType?y:Dn(t.type,y),p.props=b,Q=t.pendingProps,W=p.context,C=n.contextType,typeof C=="object"&&C!==null?C=Sn(C):(C=Jt(n)?Or:At.current,C=Jr(t,C));var ee=n.getDerivedStateFromProps;(V=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==Q||W!==C)&&Kc(t,p,o,C),ar=!1,W=t.memoizedState,p.state=W,Vs(t,o,p,u);var re=t.memoizedState;y!==Q||W!==re||Xt.current||ar?(typeof ee=="function"&&(Kl(t,n,ee,o),re=t.memoizedState),(b=ar||Hc(t,n,b,o,W,re,C)||!1)?(V||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,re,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,re,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=re),p.props=o,p.state=re,p.context=C,o=b):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),o=!1)}return Xl(e,t,n,o,c,u)}function Xl(e,t,n,o,u,c){nd(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return u&&ac(t,n,!1),Kn(e,t,c);o=t.stateNode,Np.current=t;var y=p&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=ni(t,e.child,null,c),t.child=ni(t,null,y,c)):Qt(e,t,y,c),t.memoizedState=o.state,u&&ac(t,n,!0),t.child}function id(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),bl(e,t.containerInfo)}function sd(e,t,n,o,u){return ti(),jl(u),t.flags|=256,Qt(e,t,n,o),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function od(e,t,n){var o=t.pendingProps,u=at.current,c=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Je(at,u&1),e===null)return Ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,c?(o=t.mode,c=t.child,p={mode:"hidden",children:p},(o&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=p):c=ho(p,o,0,null),e=Mr(e,o,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Zl(n),t.memoizedState=Jl,e):ea(t,p));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return Tp(e,t,p,o,y,u,n);if(c){c=o.fallback,p=t.mode,u=e.child,y=u.sibling;var C={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=gr(u,C),o.subtreeFlags=u.subtreeFlags&14680064),y!==null?c=gr(y,c):(c=Mr(c,p,n,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,p=e.child.memoizedState,p=p===null?Zl(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=e.childLanes&~n,t.memoizedState=Jl,o}return c=e.child,e=c.sibling,o=gr(c,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ea(e,t){return t=ho({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zs(e,t,n,o){return o!==null&&jl(o),ni(t,e.child,null,n),e=ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tp(e,t,n,o,u,c,p){if(n)return t.flags&256?(t.flags&=-257,o=ql(Error(i(422))),Zs(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,u=t.mode,o=ho({mode:"visible",children:o.children},u,0,null),c=Mr(c,u,p,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,(t.mode&1)!==0&&ni(t,e.child,null,p),t.child.memoizedState=Zl(p),t.memoizedState=Jl,c);if((t.mode&1)===0)return Zs(e,t,p,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var y=o.dgst;return o=y,c=Error(i(419)),o=ql(c,o,void 0),Zs(e,t,p,o)}if(y=(p&e.childLanes)!==0,Zt||y){if(o=kt,o!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|p))!==0?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,Hn(e,u),bn(o,e,u,-1))}return ma(),o=ql(Error(i(421))),Zs(e,t,p,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Bp.bind(null,e),u._reactRetry=t,null):(e=c.treeContext,hn=ir(u.nextSibling),fn=t,st=!0,Pn=null,e!==null&&(vn[yn++]=Bn,vn[yn++]=Wn,vn[yn++]=jr,Bn=e.id,Wn=e.overflow,jr=t),t=ea(t,o.children),t.flags|=4096,t)}function ld(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Dl(e.return,t,n)}function ta(e,t,n,o,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=u)}function ad(e,t,n){var o=t.pendingProps,u=o.revealOrder,c=o.tail;if(Qt(e,t,o.children,n),o=at.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,n,t);else if(e.tag===19)ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Je(at,o),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ks(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ta(t,!1,u,n,c);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ks(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ta(t,!0,n,null,c);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pp(e,t,n){switch(t.tag){case 3:id(t),ti();break;case 5:_c(t);break;case 1:Jt(t.type)&&Ms(t);break;case 4:bl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;Je(Bs,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Je(at,at.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?od(e,t,n):(Je(at,at.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);Je(at,at.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return ad(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Je(at,at.current),o)break;return null;case 22:case 23:return t.lanes=0,td(e,t,n)}return Kn(e,t,n)}var ud,na,cd,dd;ud=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},na=function(){},cd=function(e,t,n,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,Pr(Mn.current);var c=null;switch(n){case"input":u=En(e,u),o=En(e,o),c=[];break;case"select":u=Y({},u,{value:void 0}),o=Y({},o,{value:void 0}),c=[];break;case"textarea":u=Wt(e,u),o=Wt(e,o),c=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Rs)}le(n,o);var p;n=null;for(b in u)if(!o.hasOwnProperty(b)&&u.hasOwnProperty(b)&&u[b]!=null)if(b==="style"){var y=u[b];for(p in y)y.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in o){var C=o[b];if(y=u!=null?u[b]:void 0,o.hasOwnProperty(b)&&C!==y&&(C!=null||y!=null))if(b==="style")if(y){for(p in y)!y.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in C)C.hasOwnProperty(p)&&y[p]!==C[p]&&(n||(n={}),n[p]=C[p])}else n||(c||(c=[]),c.push(b,n)),n=C;else b==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,y=y?y.__html:void 0,C!=null&&y!==C&&(c=c||[]).push(b,C)):b==="children"?typeof C!="string"&&typeof C!="number"||(c=c||[]).push(b,""+C):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(C!=null&&b==="onScroll"&&et("scroll",e),c||y===C||(c=[])):(c=c||[]).push(b,C))}n&&(c=c||[]).push("style",n);var b=c;(t.updateQueue=b)&&(t.flags|=4)}},dd=function(e,t,n,o){n!==o&&(t.flags|=4)};function Qi(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Dp(e,t,n){var o=t.pendingProps;switch(kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return Jt(t.type)&&Is(),zt(t),null;case 3:return o=t.stateNode,si(),tt(Xt),tt(At),Al(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Pn!==null&&(ha(Pn),Pn=null))),na(e,t),zt(t),null;case 5:Il(t);var u=Pr(Bi.current);if(n=t.type,e!==null&&t.stateNode!=null)cd(e,t,n,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return zt(t),null}if(e=Pr(Mn.current),Fs(t)){o=t.stateNode,n=t.type;var c=t.memoizedProps;switch(o[In]=t,o[Ai]=c,e=(t.mode&1)!==0,n){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(u=0;u<bi.length;u++)et(bi[u],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":rn(o,c),et("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},et("invalid",o);break;case"textarea":Ht(o,c),et("invalid",o)}le(n,c),u=null;for(var p in c)if(c.hasOwnProperty(p)){var y=c[p];p==="children"?typeof y=="string"?o.textContent!==y&&(c.suppressHydrationWarning!==!0&&Ls(o.textContent,y,e),u=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&Ls(o.textContent,y,e),u=["children",""+y]):a.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&et("scroll",o)}switch(n){case"input":qe(o),sn(o,c,!0);break;case"textarea":qe(o),xt(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Rs)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ln(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(n,{is:o.is}):(e=p.createElement(n),n==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,n),e[In]=t,e[Ai]=o,ud(e,t,!1,!1),t.stateNode=e;e:{switch(p=De(n,o),n){case"dialog":et("cancel",e),et("close",e),u=o;break;case"iframe":case"object":case"embed":et("load",e),u=o;break;case"video":case"audio":for(u=0;u<bi.length;u++)et(bi[u],e);u=o;break;case"source":et("error",e),u=o;break;case"img":case"image":case"link":et("error",e),et("load",e),u=o;break;case"details":et("toggle",e),u=o;break;case"input":rn(e,o),u=En(e,o),et("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=Y({},o,{value:void 0}),et("invalid",e);break;case"textarea":Ht(e,o),u=Wt(e,o),et("invalid",e);break;default:u=o}le(n,u),y=u;for(c in y)if(y.hasOwnProperty(c)){var C=y[c];c==="style"?Kt(e,C):c==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Nn(e,C)):c==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&Yt(e,C):typeof C=="number"&&Yt(e,""+C):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?C!=null&&c==="onScroll"&&et("scroll",e):C!=null&&B(e,c,C,p))}switch(n){case"input":qe(e),sn(e,o,!1);break;case"textarea":qe(e),xt(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ye(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?Gt(e,!!o.multiple,c,!1):o.defaultValue!=null&&Gt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Rs)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)dd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(n=Pr(Bi.current),Pr(Mn.current),Fs(t)){if(o=t.stateNode,n=t.memoizedProps,o[In]=t,(c=o.nodeValue!==n)&&(e=fn,e!==null))switch(e.tag){case 3:Ls(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(o.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[In]=t,t.stateNode=o}return zt(t),null;case 13:if(tt(at),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&hn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)pc(),ti(),t.flags|=98560,c=!1;else if(c=Fs(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[In]=t}else ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;zt(t),c=!1}else Pn!==null&&(ha(Pn),Pn=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(at.current&1)!==0?yt===0&&(yt=3):ma())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return si(),na(e,t),e===null&&Ii(t.stateNode.containerInfo),zt(t),null;case 10:return Pl(t.type._context),zt(t),null;case 17:return Jt(t.type)&&Is(),zt(t),null;case 19:if(tt(at),c=t.memoizedState,c===null)return zt(t),null;if(o=(t.flags&128)!==0,p=c.rendering,p===null)if(o)Qi(c,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Ks(e),p!==null){for(t.flags|=128,Qi(c,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)c=n,e=o,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,e=p.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(at,at.current&1|2),t.child}e=e.sibling}c.tail!==null&&lt()>ui&&(t.flags|=128,o=!0,Qi(c,!1),t.lanes=4194304)}else{if(!o)if(e=Ks(p),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!st)return zt(t),null}else 2*lt()-c.renderingStartTime>ui&&n!==1073741824&&(t.flags|=128,o=!0,Qi(c,!1),t.lanes=4194304);c.isBackwards?(p.sibling=t.child,t.child=p):(n=c.last,n!==null?n.sibling=p:t.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=lt(),t.sibling=null,n=at.current,Je(at,o?n&1|2:n&1),t):(zt(t),null);case 22:case 23:return ga(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(pn&1073741824)!==0&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Lp(e,t){switch(kl(t),t.tag){case 1:return Jt(t.type)&&Is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),tt(Xt),tt(At),Al(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(tt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(at),null;case 4:return si(),null;case 10:return Pl(t.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var to=!1,Ft=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,ne=null;function li(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ft(e,t,o)}else n.current=null}function ra(e,t,n){try{n()}catch(o){ft(e,t,o)}}var fd=!1;function bp(e,t){if(gl=xs,e=Hu(),ll(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var u=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,y=-1,C=-1,b=0,V=0,Q=e,W=null;t:for(;;){for(var ee;Q!==n||u!==0&&Q.nodeType!==3||(y=p+u),Q!==c||o!==0&&Q.nodeType!==3||(C=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)W=Q,Q=ee;for(;;){if(Q===e)break t;if(W===n&&++b===u&&(y=p),W===c&&++V===o&&(C=p),(ee=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=ee}n=y===-1||C===-1?null:{start:y,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(ml={focusedElem:e,selectionRange:n},xs=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var oe=re.memoizedProps,ht=re.memoizedState,P=t.stateNode,k=P.getSnapshotBeforeUpdate(t.elementType===t.type?oe:Dn(t.type,oe),ht);P.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(q){ft(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return re=fd,fd=!1,re}function qi(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&ra(t,n,c)}u=u.next}while(u!==o)}}function no(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ia(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hd(e){var t=e.alternate;t!==null&&(e.alternate=null,hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[Ai],delete t[wl],delete t[mp],delete t[vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pd(e){return e.tag===5||e.tag===3||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sa(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rs));else if(o!==4&&(e=e.child,e!==null))for(sa(e,t,n),e=e.sibling;e!==null;)sa(e,t,n),e=e.sibling}function oa(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(oa(e,t,n),e=e.sibling;e!==null;)oa(e,t,n),e=e.sibling}var Dt=null,Ln=!1;function cr(e,t,n){for(n=n.child;n!==null;)md(e,t,n),n=n.sibling}function md(e,t,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(kr,n)}catch{}switch(n.tag){case 5:Ft||li(n,t);case 6:var o=Dt,u=Ln;Dt=null,cr(e,t,n),Dt=o,Ln=u,Dt!==null&&(Ln?(e=Dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Ln?(e=Dt,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),Oi(e)):Sl(Dt,n.stateNode));break;case 4:o=Dt,u=Ln,Dt=n.stateNode.containerInfo,Ln=!0,cr(e,t,n),Dt=o,Ln=u;break;case 0:case 11:case 14:case 15:if(!Ft&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var c=u,p=c.destroy;c=c.tag,p!==void 0&&((c&2)!==0||(c&4)!==0)&&ra(n,t,p),u=u.next}while(u!==o)}cr(e,t,n);break;case 1:if(!Ft&&(li(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(y){ft(n,t,y)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(Ft=(o=Ft)||n.memoizedState!==null,cr(e,t,n),Ft=o):cr(e,t,n);break;default:cr(e,t,n)}}function vd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rp),t.forEach(function(o){var u=Wp.bind(null,e,o);n.has(o)||(n.add(o),o.then(u,u))})}}function Rn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];try{var c=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:Dt=y.stateNode,Ln=!1;break e;case 3:Dt=y.stateNode.containerInfo,Ln=!0;break e;case 4:Dt=y.stateNode.containerInfo,Ln=!0;break e}y=y.return}if(Dt===null)throw Error(i(160));md(c,p,u),Dt=null,Ln=!1;var C=u.alternate;C!==null&&(C.return=null),u.return=null}catch(b){ft(u,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yd(t,e),t=t.sibling}function yd(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(t,e),$n(e),o&4){try{qi(3,e,e.return),no(3,e)}catch(oe){ft(e,e.return,oe)}try{qi(5,e,e.return)}catch(oe){ft(e,e.return,oe)}}break;case 1:Rn(t,e),$n(e),o&512&&n!==null&&li(n,n.return);break;case 5:if(Rn(t,e),$n(e),o&512&&n!==null&&li(n,n.return),e.flags&32){var u=e.stateNode;try{Yt(u,"")}catch(oe){ft(e,e.return,oe)}}if(o&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,p=n!==null?n.memoizedProps:c,y=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&wt(u,c),De(y,p);var b=De(y,c);for(p=0;p<C.length;p+=2){var V=C[p],Q=C[p+1];V==="style"?Kt(u,Q):V==="dangerouslySetInnerHTML"?Nn(u,Q):V==="children"?Yt(u,Q):B(u,V,Q,b)}switch(y){case"input":On(u,c);break;case"textarea":on(u,c);break;case"select":var W=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var ee=c.value;ee!=null?Gt(u,!!c.multiple,ee,!1):W!==!!c.multiple&&(c.defaultValue!=null?Gt(u,!!c.multiple,c.defaultValue,!0):Gt(u,!!c.multiple,c.multiple?[]:"",!1))}u[Ai]=c}catch(oe){ft(e,e.return,oe)}}break;case 6:if(Rn(t,e),$n(e),o&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(oe){ft(e,e.return,oe)}}break;case 3:if(Rn(t,e),$n(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(oe){ft(e,e.return,oe)}break;case 4:Rn(t,e),$n(e);break;case 13:Rn(t,e),$n(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(ua=lt())),o&4&&vd(e);break;case 22:if(V=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(b=Ft)||V,Rn(t,e),Ft=b):Rn(t,e),$n(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!V&&(e.mode&1)!==0)for(ne=e,V=e.child;V!==null;){for(Q=ne=V;ne!==null;){switch(W=ne,ee=W.child,W.tag){case 0:case 11:case 14:case 15:qi(4,W,W.return);break;case 1:li(W,W.return);var re=W.stateNode;if(typeof re.componentWillUnmount=="function"){o=W,n=W.return;try{t=o,re.props=t.memoizedProps,re.state=t.memoizedState,re.componentWillUnmount()}catch(oe){ft(o,n,oe)}}break;case 5:li(W,W.return);break;case 22:if(W.memoizedState!==null){xd(Q);continue}}ee!==null?(ee.return=W,ne=ee):xd(Q)}V=V.sibling}e:for(V=null,Q=e;;){if(Q.tag===5){if(V===null){V=Q;try{u=Q.stateNode,b?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=Q.stateNode,C=Q.memoizedProps.style,p=C!=null&&C.hasOwnProperty("display")?C.display:null,y.style.display=Vt("display",p))}catch(oe){ft(e,e.return,oe)}}}else if(Q.tag===6){if(V===null)try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(oe){ft(e,e.return,oe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;V===Q&&(V=null),Q=Q.return}V===Q&&(V=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Rn(t,e),$n(e),o&4&&vd(e);break;case 21:break;default:Rn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pd(n)){var o=n;break e}n=n.return}throw Error(i(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(Yt(u,""),o.flags&=-33);var c=gd(e);oa(e,c,u);break;case 3:case 4:var p=o.stateNode.containerInfo,y=gd(e);sa(e,y,p);break;default:throw Error(i(161))}}catch(C){ft(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ip(e,t,n){ne=e,Sd(e)}function Sd(e,t,n){for(var o=(e.mode&1)!==0;ne!==null;){var u=ne,c=u.child;if(u.tag===22&&o){var p=u.memoizedState!==null||to;if(!p){var y=u.alternate,C=y!==null&&y.memoizedState!==null||Ft;y=to;var b=Ft;if(to=p,(Ft=C)&&!b)for(ne=u;ne!==null;)p=ne,C=p.child,p.tag===22&&p.memoizedState!==null?_d(u):C!==null?(C.return=p,ne=C):_d(u);for(;c!==null;)ne=c,Sd(c),c=c.sibling;ne=u,to=y,Ft=b}wd(e)}else(u.subtreeFlags&8772)!==0&&c!==null?(c.return=u,ne=c):wd(e)}}function wd(e){for(;ne!==null;){var t=ne;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ft||no(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ft)if(n===null)o.componentDidMount();else{var u=t.elementType===t.type?n.memoizedProps:Dn(t.type,n.memoizedProps);o.componentDidUpdate(u,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&xc(t,c,o);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xc(t,p,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var V=b.memoizedState;if(V!==null){var Q=V.dehydrated;Q!==null&&Oi(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ft||t.flags&512&&ia(t)}catch(W){ft(t,t.return,W)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function xd(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function _d(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(C){ft(t,n,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(C){ft(t,u,C)}}var c=t.return;try{ia(t)}catch(C){ft(t,c,C)}break;case 5:var p=t.return;try{ia(t)}catch(C){ft(t,p,C)}}}catch(C){ft(t,t.return,C)}if(t===e){ne=null;break}var y=t.sibling;if(y!==null){y.return=t.return,ne=y;break}ne=t.return}}var Mp=Math.ceil,ro=X.ReactCurrentDispatcher,la=X.ReactCurrentOwner,xn=X.ReactCurrentBatchConfig,ze=0,kt=null,gt=null,Lt=0,pn=0,ai=sr(0),yt=0,Gi=null,Lr=0,io=0,aa=0,Yi=null,en=null,ua=0,ui=1/0,Qn=null,so=!1,ca=null,dr=null,oo=!1,fr=null,lo=0,Xi=0,da=null,ao=-1,uo=0;function qt(){return(ze&6)!==0?lt():ao!==-1?ao:ao=lt()}function hr(e){return(e.mode&1)===0?1:(ze&2)!==0&&Lt!==0?Lt&-Lt:Sp.transition!==null?(uo===0&&(uo=gu()),uo):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:ku(e.type)),e)}function bn(e,t,n,o){if(50<Xi)throw Xi=0,da=null,Error(i(185));xi(e,n,o),((ze&2)===0||e!==kt)&&(e===kt&&((ze&2)===0&&(io|=n),yt===4&&pr(e,Lt)),tn(e,o),n===1&&ze===0&&(t.mode&1)===0&&(ui=lt()+500,As&&lr()))}function tn(e,t){var n=e.callbackNode;Sh(e,t);var o=zn(e,e===kt?Lt:0);if(o===0)n!==null&&gs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&gs(n),t===1)e.tag===0?yp(kd.bind(null,e)):uc(kd.bind(null,e)),pp(function(){(ze&6)===0&&lr()}),n=null;else{switch(mu(o)){case 1:n=Si;break;case 4:n=wi;break;case 16:n=Xn;break;case 536870912:n=ys;break;default:n=Xn}n=Ld(n,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cd(e,t){if(ao=-1,uo=0,(ze&6)!==0)throw Error(i(327));var n=e.callbackNode;if(ci()&&e.callbackNode!==n)return null;var o=zn(e,e===kt?Lt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=co(e,o);else{t=o;var u=ze;ze|=2;var c=Od();(kt!==e||Lt!==t)&&(Qn=null,ui=lt()+500,br(e,t));do try{zp();break}catch(y){Ed(e,y)}while(!0);Tl(),ro.current=c,ze=u,gt!==null?t=0:(kt=null,Lt=0,t=yt)}if(t!==0){if(t===2&&(u=Vo(e),u!==0&&(o=u,t=fa(e,u))),t===1)throw n=Gi,br(e,0),pr(e,o),tn(e,lt()),n;if(t===6)pr(e,o);else{if(u=e.current.alternate,(o&30)===0&&!Ap(u)&&(t=co(e,o),t===2&&(c=Vo(e),c!==0&&(o=c,t=fa(e,c))),t===1))throw n=Gi,br(e,0),pr(e,o),tn(e,lt()),n;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Ir(e,en,Qn);break;case 3:if(pr(e,o),(o&130023424)===o&&(t=ua+500-lt(),10<t)){if(zn(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){qt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=yl(Ir.bind(null,e,en,Qn),t);break}Ir(e,en,Qn);break;case 4:if(pr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var p=31-N(o);c=1<<p,p=t[p],p>u&&(u=p),o&=~c}if(o=u,o=lt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Mp(o/1960))-o,10<o){e.timeoutHandle=yl(Ir.bind(null,e,en,Qn),o);break}Ir(e,en,Qn);break;case 5:Ir(e,en,Qn);break;default:throw Error(i(329))}}}return tn(e,lt()),e.callbackNode===n?Cd.bind(null,e):null}function fa(e,t){var n=Yi;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=co(e,t),e!==2&&(t=en,en=n,t!==null&&ha(t)),e}function ha(e){en===null?en=e:en.push.apply(en,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var u=n[o],c=u.getSnapshot;u=u.value;try{if(!Tn(c(),u))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~aa,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-N(t),o=1<<n;e[n]=-1,t&=~o}}function kd(e){if((ze&6)!==0)throw Error(i(327));ci();var t=zn(e,0);if((t&1)===0)return tn(e,lt()),null;var n=co(e,t);if(e.tag!==0&&n===2){var o=Vo(e);o!==0&&(t=o,n=fa(e,o))}if(n===1)throw n=Gi,br(e,0),pr(e,t),tn(e,lt()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ir(e,en,Qn),tn(e,lt()),null}function pa(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(ui=lt()+500,As&&lr())}}function Rr(e){fr!==null&&fr.tag===0&&(ze&6)===0&&ci();var t=ze;ze|=1;var n=xn.transition,o=Ge;try{if(xn.transition=null,Ge=1,e)return e()}finally{Ge=o,xn.transition=n,ze=t,(ze&6)===0&&lr()}}function ga(){pn=ai.current,tt(ai)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hp(n)),gt!==null)for(n=gt.return;n!==null;){var o=n;switch(kl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Is();break;case 3:si(),tt(Xt),tt(At),Al();break;case 5:Il(o);break;case 4:si();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Pl(o.type._context);break;case 22:case 23:ga()}n=n.return}if(kt=e,gt=e=gr(e.current,null),Lt=pn=t,yt=0,Gi=null,aa=io=Lr=0,en=Yi=null,Tr!==null){for(t=0;t<Tr.length;t++)if(n=Tr[t],o=n.interleaved,o!==null){n.interleaved=null;var u=o.next,c=n.pending;if(c!==null){var p=c.next;c.next=u,o.next=p}n.pending=o}Tr=null}return e}function Ed(e,t){do{var n=gt;try{if(Tl(),Qs.current=Xs,qs){for(var o=ut.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}qs=!1}if(Dr=0,Ct=vt=ut=null,Wi=!1,Hi=0,la.current=null,n===null||n.return===null){yt=1,Gi=t,gt=null;break}e:{var c=e,p=n.return,y=n,C=t;if(t=Lt,y.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var b=C,V=y,Q=V.tag;if((V.mode&1)===0&&(Q===0||Q===11||Q===15)){var W=V.alternate;W?(V.updateQueue=W.updateQueue,V.memoizedState=W.memoizedState,V.lanes=W.lanes):(V.updateQueue=null,V.memoizedState=null)}var ee=Yc(p);if(ee!==null){ee.flags&=-257,Xc(ee,p,y,c,t),ee.mode&1&&Gc(c,b,t),t=ee,C=b;var re=t.updateQueue;if(re===null){var oe=new Set;oe.add(C),t.updateQueue=oe}else re.add(C);break e}else{if((t&1)===0){Gc(c,b,t),ma();break e}C=Error(i(426))}}else if(st&&y.mode&1){var ht=Yc(p);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Xc(ht,p,y,c,t),jl(oi(C,y));break e}}c=C=oi(C,y),yt!==4&&(yt=2),Yi===null?Yi=[c]:Yi.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var P=Qc(c,C,t);wc(c,P);break e;case 1:y=C;var k=c.type,L=c.stateNode;if((c.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(dr===null||!dr.has(L)))){c.flags|=65536,t&=-t,c.lanes|=t;var q=qc(c,y,t);wc(c,q);break e}}c=c.return}while(c!==null)}Nd(n)}catch(ae){t=ae,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function Od(){var e=ro.current;return ro.current=Xs,e===null?Xs:e}function ma(){(yt===0||yt===3||yt===2)&&(yt=4),kt===null||(Lr&268435455)===0&&(io&268435455)===0||pr(kt,Lt)}function co(e,t){var n=ze;ze|=2;var o=Od();(kt!==e||Lt!==t)&&(Qn=null,br(e,t));do try{$p();break}catch(u){Ed(e,u)}while(!0);if(Tl(),ze=n,ro.current=o,gt!==null)throw Error(i(261));return kt=null,Lt=0,yt}function $p(){for(;gt!==null;)jd(gt)}function zp(){for(;gt!==null&&!ms();)jd(gt)}function jd(e){var t=Dd(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?Nd(e):gt=t,la.current=null}function Nd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Dp(n,t,pn),n!==null){gt=n;return}}else{if(n=Lp(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,gt=null;return}}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);yt===0&&(yt=5)}function Ir(e,t,n){var o=Ge,u=xn.transition;try{xn.transition=null,Ge=1,Fp(e,t,n,o)}finally{xn.transition=u,Ge=o}return null}function Fp(e,t,n,o){do ci();while(fr!==null);if((ze&6)!==0)throw Error(i(327));n=e.finishedWork;var u=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(wh(e,c),e===kt&&(gt=kt=null,Lt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||oo||(oo=!0,Ld(Xn,function(){return ci(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=xn.transition,xn.transition=null;var p=Ge;Ge=1;var y=ze;ze|=4,la.current=null,bp(e,n),yd(n,e),op(ml),xs=!!gl,ml=gl=null,e.current=n,Ip(n),vs(),ze=y,Ge=p,xn.transition=c}else e.current=n;if(oo&&(oo=!1,fr=e,lo=u),c=e.pendingLanes,c===0&&(dr=null),Pt(n.stateNode),tn(e,lt()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)u=t[n],o(u.value,{componentStack:u.stack,digest:u.digest});if(so)throw so=!1,e=ca,ca=null,e;return(lo&1)!==0&&e.tag!==0&&ci(),c=e.pendingLanes,(c&1)!==0?e===da?Xi++:(Xi=0,da=e):Xi=0,lr(),null}function ci(){if(fr!==null){var e=mu(lo),t=xn.transition,n=Ge;try{if(xn.transition=null,Ge=16>e?16:e,fr===null)var o=!1;else{if(e=fr,fr=null,lo=0,(ze&6)!==0)throw Error(i(331));var u=ze;for(ze|=4,ne=e.current;ne!==null;){var c=ne,p=c.child;if((ne.flags&16)!==0){var y=c.deletions;if(y!==null){for(var C=0;C<y.length;C++){var b=y[C];for(ne=b;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:qi(8,V,c)}var Q=V.child;if(Q!==null)Q.return=V,ne=Q;else for(;ne!==null;){V=ne;var W=V.sibling,ee=V.return;if(hd(V),V===b){ne=null;break}if(W!==null){W.return=ee,ne=W;break}ne=ee}}}var re=c.alternate;if(re!==null){var oe=re.child;if(oe!==null){re.child=null;do{var ht=oe.sibling;oe.sibling=null,oe=ht}while(oe!==null)}}ne=c}}if((c.subtreeFlags&2064)!==0&&p!==null)p.return=c,ne=p;else e:for(;ne!==null;){if(c=ne,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:qi(9,c,c.return)}var P=c.sibling;if(P!==null){P.return=c.return,ne=P;break e}ne=c.return}}var k=e.current;for(ne=k;ne!==null;){p=ne;var L=p.child;if((p.subtreeFlags&2064)!==0&&L!==null)L.return=p,ne=L;else e:for(p=k;ne!==null;){if(y=ne,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:no(9,y)}}catch(ae){ft(y,y.return,ae)}if(y===p){ne=null;break e}var q=y.sibling;if(q!==null){q.return=y.return,ne=q;break e}ne=y.return}}if(ze=u,lr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(kr,e)}catch{}o=!0}return o}finally{Ge=n,xn.transition=t}}return!1}function Td(e,t,n){t=oi(n,t),t=Qc(e,t,1),e=ur(e,t,1),t=qt(),e!==null&&(xi(e,1,t),tn(e,t))}function ft(e,t,n){if(e.tag===3)Td(e,e,n);else for(;t!==null;){if(t.tag===3){Td(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=oi(n,e),e=qc(t,e,1),t=ur(t,e,1),e=qt(),t!==null&&(xi(t,1,e),tn(t,e));break}}t=t.return}}function Up(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(Lt&n)===n&&(yt===4||yt===3&&(Lt&130023424)===Lt&&500>lt()-ua?br(e,0):aa|=n),tn(e,t)}function Pd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ae,Ae<<=1,(Ae&130023424)===0&&(Ae=4194304)));var n=qt();e=Hn(e,t),e!==null&&(xi(e,t,n),tn(e,n))}function Bp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pd(e,n)}function Wp(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),Pd(e,n)}var Dd;Dd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Zt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Zt=!1,Pp(e,t,n);Zt=(e.flags&131072)!==0}else Zt=!1,st&&(t.flags&1048576)!==0&&cc(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;eo(e,t),e=t.pendingProps;var u=Jr(t,At.current);ii(t,n),u=Fl(null,t,o,e,u,n);var c=Ul();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(o)?(c=!0,Ms(t)):c=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Rl(t),u.updater=Js,t.stateNode=u,u._reactInternals=t,Ql(t,o,e,n),t=Xl(null,t,o,!0,c,n)):(t.tag=0,st&&c&&Cl(t),Qt(null,t,u,n),t=t.child),t;case 16:o=t.elementType;e:{switch(eo(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=Vp(o),e=Dn(o,e),u){case 0:t=Yl(null,t,o,e,n);break e;case 1:t=rd(null,t,o,e,n);break e;case 11:t=Jc(null,t,o,e,n);break e;case 14:t=Zc(null,t,o,Dn(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Dn(o,u),Yl(e,t,o,u,n);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Dn(o,u),rd(e,t,o,u,n);case 3:e:{if(id(t),e===null)throw Error(i(387));o=t.pendingProps,c=t.memoizedState,u=c.element,Sc(e,t),Vs(t,o,null,n);var p=t.memoizedState;if(o=p.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){u=oi(Error(i(423)),t),t=sd(e,t,o,n,u);break e}else if(o!==u){u=oi(Error(i(424)),t),t=sd(e,t,o,n,u);break e}else for(hn=ir(t.stateNode.containerInfo.firstChild),fn=t,st=!0,Pn=null,n=vc(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ti(),o===u){t=Kn(e,t,n);break e}Qt(e,t,o,n)}t=t.child}return t;case 5:return _c(t),e===null&&Ol(t),o=t.type,u=t.pendingProps,c=e!==null?e.memoizedProps:null,p=u.children,vl(o,u)?p=null:c!==null&&vl(o,c)&&(t.flags|=32),nd(e,t),Qt(e,t,p,n),t.child;case 6:return e===null&&Ol(t),null;case 13:return od(e,t,n);case 4:return bl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ni(t,null,o,n):Qt(e,t,o,n),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Dn(o,u),Jc(e,t,o,u,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,c=t.memoizedProps,p=u.value,Je(Bs,o._currentValue),o._currentValue=p,c!==null)if(Tn(c.value,p)){if(c.children===u.children&&!Xt.current){t=Kn(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var y=c.dependencies;if(y!==null){p=c.child;for(var C=y.firstContext;C!==null;){if(C.context===o){if(c.tag===1){C=Vn(-1,n&-n),C.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var V=b.pending;V===null?C.next=C:(C.next=V.next,V.next=C),b.pending=C}}c.lanes|=n,C=c.alternate,C!==null&&(C.lanes|=n),Dl(c.return,n,t),y.lanes|=n;break}C=C.next}}else if(c.tag===10)p=c.type===t.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(i(341));p.lanes|=n,y=p.alternate,y!==null&&(y.lanes|=n),Dl(p,n,t),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}Qt(e,t,u.children,n),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,ii(t,n),u=Sn(u),o=o(u),t.flags|=1,Qt(e,t,o,n),t.child;case 14:return o=t.type,u=Dn(o,t.pendingProps),u=Dn(o.type,u),Zc(e,t,o,u,n);case 15:return ed(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Dn(o,u),eo(e,t),t.tag=1,Jt(o)?(e=!0,Ms(t)):e=!1,ii(t,n),Vc(t,o,u),Ql(t,o,u,n),Xl(null,t,o,!0,e,n);case 19:return ad(e,t,n);case 22:return td(e,t,n)}throw Error(i(156,t.tag))};function Ld(e,t){return ps(e,t)}function Hp(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,n,o){return new Hp(e,t,n,o)}function va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vp(e){if(typeof e=="function")return va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===be)return 11;if(e===Ue)return 14}return 2}function gr(e,t){var n=e.alternate;return n===null?(n=_n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fo(e,t,n,o,u,c){var p=2;if(o=e,typeof e=="function")va(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Fe:return Mr(n.children,u,c,t);case je:p=8,u|=8;break;case Ke:return e=_n(12,n,t,u|2),e.elementType=Ke,e.lanes=c,e;case $e:return e=_n(13,n,t,u),e.elementType=$e,e.lanes=c,e;case Qe:return e=_n(19,n,t,u),e.elementType=Qe,e.lanes=c,e;case Ee:return ho(n,u,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ye:p=10;break e;case Xe:p=9;break e;case be:p=11;break e;case Ue:p=14;break e;case Be:p=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=_n(p,n,t,u),t.elementType=e,t.type=o,t.lanes=c,t}function Mr(e,t,n,o){return e=_n(7,e,o,t),e.lanes=n,e}function ho(e,t,n,o){return e=_n(22,e,o,t),e.elementType=Ee,e.lanes=n,e.stateNode={isHidden:!1},e}function ya(e,t,n){return e=_n(6,e,null,t),e.lanes=n,e}function Sa(e,t,n){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kp(e,t,n,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function wa(e,t,n,o,u,c,p,y,C){return e=new Kp(e,t,n,y,C),t===1?(t=1,c===!0&&(t|=8)):t=0,c=_n(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(c),e}function Qp(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oe,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Rd(e){if(!e)return or;e=e._reactInternals;e:{if(se(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(Jt(n))return lc(e,n,t)}return t}function bd(e,t,n,o,u,c,p,y,C){return e=wa(n,o,!0,e,u,c,p,y,C),e.context=Rd(null),n=e.current,o=qt(),u=hr(n),c=Vn(o,u),c.callback=t??null,ur(n,c,u),e.current.lanes=u,xi(e,u,o),tn(e,o),e}function po(e,t,n,o){var u=t.current,c=qt(),p=hr(u);return n=Rd(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(c,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ur(u,t,p),e!==null&&(bn(e,u,p,c),Hs(e,u,p)),p}function go(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xa(e,t){Id(e,t),(e=e.alternate)&&Id(e,t)}function qp(){return null}var Md=typeof reportError=="function"?reportError:function(e){console.error(e)};function _a(e){this._internalRoot=e}mo.prototype.render=_a.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));po(e,t,null,null)},mo.prototype.unmount=_a.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){po(null,e,null,null)}),t[Fn]=null}};function mo(e){this._internalRoot=e}mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Su();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tr.length&&t!==0&&t<tr[n].priority;n++);tr.splice(n,0,e),n===0&&_u(e)}};function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Gp(e,t,n,o,u){if(u){if(typeof o=="function"){var c=o;o=function(){var b=go(p);c.call(b)}}var p=bd(t,o,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=p,e[Fn]=p.current,Ii(e.nodeType===8?e.parentNode:e),Rr(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var y=o;o=function(){var b=go(C);y.call(b)}}var C=wa(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=C,e[Fn]=C.current,Ii(e.nodeType===8?e.parentNode:e),Rr(function(){po(t,C,n,o)}),C}function yo(e,t,n,o,u){var c=n._reactRootContainer;if(c){var p=c;if(typeof u=="function"){var y=u;u=function(){var C=go(p);y.call(C)}}po(t,p,e,u)}else p=Gp(n,t,e,u,o);return go(p)}vu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cn(t.pendingLanes);n!==0&&(Qo(t,n|1),tn(t,lt()),(ze&6)===0&&(ui=lt()+500,lr()))}break;case 13:Rr(function(){var o=Hn(e,1);if(o!==null){var u=qt();bn(o,e,1,u)}}),xa(e,1)}},qo=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=qt();bn(t,e,134217728,n)}xa(e,134217728)}},yu=function(e){if(e.tag===13){var t=hr(e),n=Hn(e,t);if(n!==null){var o=qt();bn(n,e,t,o)}xa(e,t)}},Su=function(){return Ge},wu=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}},nt=function(e,t,n){switch(t){case"input":if(On(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var u=bs(o);if(!u)throw Error(i(90));Ze(o),On(o,u)}}}break;case"textarea":on(e,n);break;case"select":t=n.value,t!=null&&Gt(e,!!n.multiple,t,!1)}},K=pa,ge=Rr;var Yp={usingClientEntryPoint:!1,Events:[$i,Yr,bs,Nt,I,pa]},Ji={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xp={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yi(e),e===null?null:e.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{kr=So.inject(Xp),mn=So}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yp,nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(t))throw Error(i(200));return Qp(e,t,null,n)},nn.createRoot=function(e,t){if(!Ca(e))throw Error(i(299));var n=!1,o="",u=Md;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=wa(e,1,!1,null,null,n,!1,o,u),e[Fn]=t.current,Ii(e.nodeType===8?e.parentNode:e),new _a(t)},nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=yi(t),e=e===null?null:e.stateNode,e},nn.flushSync=function(e){return Rr(e)},nn.hydrate=function(e,t,n){if(!vo(t))throw Error(i(200));return yo(null,e,t,!0,n)},nn.hydrateRoot=function(e,t,n){if(!Ca(e))throw Error(i(405));var o=n!=null&&n.hydratedSources||null,u=!1,c="",p=Md;if(n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=bd(t,null,e,1,n??null,u,!1,c,p),e[Fn]=t.current,Ii(e),o)for(e=0;e<o.length;e++)n=o[e],u=n._getVersion,u=u(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,u]:t.mutableSourceEagerHydrationData.push(n,u);return new mo(t)},nn.render=function(e,t,n){if(!vo(t))throw Error(i(200));return yo(null,e,t,!1,n)},nn.unmountComponentAtNode=function(e){if(!vo(e))throw Error(i(40));return e._reactRootContainer?(Rr(function(){yo(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1},nn.unstable_batchedUpdates=pa,nn.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!vo(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return yo(e,t,n,!1,o)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Vd;function Rf(){if(Vd)return Oa.exports;Vd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Oa.exports=ag(),Oa.exports}var Kd;function ug(){if(Kd)return wo;Kd=1;var s=Rf();return wo.createRoot=s.createRoot,wo.hydrateRoot=s.hydrateRoot,wo}var cg=ug();const dg=Df(cg);Rf();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},ss.apply(this,arguments)}var wr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(wr||(wr={}));const Qd="popstate";function fg(s){s===void 0&&(s={});function r(l,a){let{pathname:d,search:h,hash:g}=l.location;return Va("",{pathname:d,search:h,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(l,a){return typeof a=="string"?a:To(a)}return pg(r,i,null,s)}function ct(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function iu(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function hg(){return Math.random().toString(36).substr(2,8)}function qd(s,r){return{usr:s.state,key:s.key,idx:r}}function Va(s,r,i,l){return i===void 0&&(i=null),ss({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?gi(r):r,{state:i,key:r&&r.key||l||hg()})}function To(s){let{pathname:r="/",search:i="",hash:l=""}=s;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function gi(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substr(i),s=s.substr(0,i));let l=s.indexOf("?");l>=0&&(r.search=s.substr(l),s=s.substr(0,l)),s&&(r.pathname=s)}return r}function pg(s,r,i,l){l===void 0&&(l={});let{window:a=document.defaultView,v5Compat:d=!1}=l,h=a.history,g=wr.Pop,m=null,v=_();v==null&&(v=0,h.replaceState(ss({},h.state,{idx:v}),""));function _(){return(h.state||{idx:null}).idx}function S(){g=wr.Pop;let T=_(),$=T==null?null:T-v;v=T,m&&m({action:g,location:D.location,delta:$})}function w(T,$){g=wr.Push;let z=Va(D.location,T,$);v=_()+1;let B=qd(z,v),X=D.createHref(z);try{h.pushState(B,"",X)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;a.location.assign(X)}d&&m&&m({action:g,location:D.location,delta:1})}function R(T,$){g=wr.Replace;let z=Va(D.location,T,$);v=_();let B=qd(z,v),X=D.createHref(z);h.replaceState(B,"",X),d&&m&&m({action:g,location:D.location,delta:0})}function E(T){let $=a.location.origin!=="null"?a.location.origin:a.location.href,z=typeof T=="string"?T:To(T);return z=z.replace(/ $/,"%20"),ct($,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,$)}let D={get action(){return g},get location(){return s(a,h)},listen(T){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Qd,S),m=T,()=>{a.removeEventListener(Qd,S),m=null}},createHref(T){return r(a,T)},createURL:E,encodeLocation(T){let $=E(T);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:R,go(T){return h.go(T)}};return D}var Gd;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Gd||(Gd={}));function gg(s,r,i){return i===void 0&&(i="/"),mg(s,r,i)}function mg(s,r,i,l){let a=typeof r=="string"?gi(r):r,d=hi(a.pathname||"/",i);if(d==null)return null;let h=bf(s);vg(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let v=Ng(d);g=Og(h[m],v)}return g}function bf(s,r,i,l){r===void 0&&(r=[]),i===void 0&&(i=[]),l===void 0&&(l="");let a=(d,h,g)=>{let m={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(l),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(l.length));let v=xr([l,m.relativePath]),_=i.concat(m);d.children&&d.children.length>0&&(ct(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),bf(d.children,r,_,v)),!(d.path==null&&!d.index)&&r.push({path:v,score:kg(v,d.index),routesMeta:_})};return s.forEach((d,h)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))a(d,h);else for(let m of If(d.path))a(d,h,m)}),r}function If(s){let r=s.split("/");if(r.length===0)return[];let[i,...l]=r,a=i.endsWith("?"),d=i.replace(/\?$/,"");if(l.length===0)return a?[d,""]:[d];let h=If(l.join("/")),g=[];return g.push(...h.map(m=>m===""?d:[d,m].join("/"))),a&&g.push(...h),g.map(m=>s.startsWith("/")&&m===""?"/":m)}function vg(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:Eg(r.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}const yg=/^:[\w-]+$/,Sg=3,wg=2,xg=1,_g=10,Cg=-2,Yd=s=>s==="*";function kg(s,r){let i=s.split("/"),l=i.length;return i.some(Yd)&&(l+=Cg),r&&(l+=wg),i.filter(a=>!Yd(a)).reduce((a,d)=>a+(yg.test(d)?Sg:d===""?xg:_g),l)}function Eg(s,r){return s.length===r.length&&s.slice(0,-1).every((l,a)=>l===r[a])?s[s.length-1]-r[r.length-1]:0}function Og(s,r,i){let{routesMeta:l}=s,a={},d="/",h=[];for(let g=0;g<l.length;++g){let m=l[g],v=g===l.length-1,_=d==="/"?r:r.slice(d.length)||"/",S=Ka({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},_),w=m.route;if(!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:xr([d,S.pathname]),pathnameBase:Rg(xr([d,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(d=xr([d,S.pathnameBase]))}return h}function Ka(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,l]=jg(s.path,s.caseSensitive,s.end),a=r.match(i);if(!a)return null;let d=a[0],h=d.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:l.reduce((v,_,S)=>{let{paramName:w,isOptional:R}=_;if(w==="*"){let D=g[S]||"";h=d.slice(0,d.length-D.length).replace(/(.)\/+$/,"$1")}const E=g[S];return R&&!E?v[w]=void 0:v[w]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:h,pattern:s}}function jg(s,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),iu(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let l=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(l.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),l]}function Ng(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return iu(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function hi(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,l=s.charAt(i);return l&&l!=="/"?null:s.slice(i)||"/"}const Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pg=s=>Tg.test(s);function Dg(s,r){r===void 0&&(r="/");let{pathname:i,search:l="",hash:a=""}=typeof s=="string"?gi(s):s,d;if(i)if(Pg(i))d=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),iu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+i))}i.startsWith("/")?d=Xd(i.substring(1),"/"):d=Xd(i,r)}else d=r;return{pathname:d,search:bg(l),hash:Ig(a)}}function Xd(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Ta(s,r,i,l){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lg(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function su(s,r){let i=Lg(s);return r?i.map((l,a)=>a===i.length-1?l.pathname:l.pathnameBase):i.map(l=>l.pathnameBase)}function ou(s,r,i,l){l===void 0&&(l=!1);let a;typeof s=="string"?a=gi(s):(a=ss({},s),ct(!a.pathname||!a.pathname.includes("?"),Ta("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Ta("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Ta("#","search","hash",a)));let d=s===""||a.pathname==="",h=d?"/":a.pathname,g;if(h==null)g=i;else{let S=r.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),S-=1;a.pathname=w.join("/")}g=S>=0?r[S]:"/"}let m=Dg(a,g),v=h&&h!=="/"&&h.endsWith("/"),_=(d||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(v||_)&&(m.pathname+="/"),m}const xr=s=>s.join("/").replace(/\/\/+/g,"/"),Rg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Ig=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Mg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Mf=["post","put","patch","delete"];new Set(Mf);const Ag=["get",...Mf];new Set(Ag);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},os.apply(this,arguments)}const Ro=x.createContext(null),Af=x.createContext(null),Gn=x.createContext(null),bo=x.createContext(null),Cr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),$f=x.createContext(null);function $g(s,r){let{relative:i}=r===void 0?{}:r;mi()||ct(!1);let{basename:l,navigator:a}=x.useContext(Gn),{hash:d,pathname:h,search:g}=Io(s,{relative:i}),m=h;return l!=="/"&&(m=h==="/"?l:xr([l,h])),a.createHref({pathname:m,search:g,hash:d})}function mi(){return x.useContext(bo)!=null}function Ur(){return mi()||ct(!1),x.useContext(bo).location}function zf(s){x.useContext(Gn).static||x.useLayoutEffect(s)}function lu(){let{isDataRoute:s}=x.useContext(Cr);return s?Xg():zg()}function zg(){mi()||ct(!1);let s=x.useContext(Ro),{basename:r,future:i,navigator:l}=x.useContext(Gn),{matches:a}=x.useContext(Cr),{pathname:d}=Ur(),h=JSON.stringify(su(a,i.v7_relativeSplatPath)),g=x.useRef(!1);return zf(()=>{g.current=!0}),x.useCallback(function(v,_){if(_===void 0&&(_={}),!g.current)return;if(typeof v=="number"){l.go(v);return}let S=ou(v,JSON.parse(h),d,_.relative==="path");s==null&&r!=="/"&&(S.pathname=S.pathname==="/"?r:xr([r,S.pathname])),(_.replace?l.replace:l.push)(S,_.state,_)},[r,l,h,d,s])}function Io(s,r){let{relative:i}=r===void 0?{}:r,{future:l}=x.useContext(Gn),{matches:a}=x.useContext(Cr),{pathname:d}=Ur(),h=JSON.stringify(su(a,l.v7_relativeSplatPath));return x.useMemo(()=>ou(s,JSON.parse(h),d,i==="path"),[s,h,d,i])}function Fg(s,r){return Ug(s,r)}function Ug(s,r,i,l){mi()||ct(!1);let{navigator:a}=x.useContext(Gn),{matches:d}=x.useContext(Cr),h=d[d.length-1],g=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=Ur(),_;if(r){var S;let T=typeof r=="string"?gi(r):r;m==="/"||(S=T.pathname)!=null&&S.startsWith(m)||ct(!1),_=T}else _=v;let w=_.pathname||"/",R=w;if(m!=="/"){let T=m.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=gg(s,{pathname:R}),D=Kg(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:xr([m,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:xr([m,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,i,l);return r&&D?x.createElement(bo.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:wr.Pop}},D):D}function Bg(){let s=Yg(),r=Mg(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},r),i?x.createElement("pre",{style:a},i):null,null)}const Wg=x.createElement(Bg,null);class Hg extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?x.createElement(Cr.Provider,{value:this.props.routeContext},x.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vg(s){let{routeContext:r,match:i,children:l}=s,a=x.useContext(Ro);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),x.createElement(Cr.Provider,{value:r},l)}function Kg(s,r,i,l){var a;if(r===void 0&&(r=[]),i===void 0&&(i=null),l===void 0&&(l=null),s==null){var d;if(!i)return null;if(i.errors)s=i.matches;else if((d=l)!=null&&d.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let h=s,g=(a=i)==null?void 0:a.errors;if(g!=null){let _=h.findIndex(S=>S.route.id&&(g==null?void 0:g[S.route.id])!==void 0);_>=0||ct(!1),h=h.slice(0,Math.min(h.length,_+1))}let m=!1,v=-1;if(i&&l&&l.v7_partialHydration)for(let _=0;_<h.length;_++){let S=h[_];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=_),S.route.id){let{loaderData:w,errors:R}=i,E=S.route.loader&&w[S.route.id]===void 0&&(!R||R[S.route.id]===void 0);if(S.route.lazy||E){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((_,S,w)=>{let R,E=!1,D=null,T=null;i&&(R=g&&S.route.id?g[S.route.id]:void 0,D=S.route.errorElement||Wg,m&&(v<0&&w===0?(Jg("route-fallback"),E=!0,T=null):v===w&&(E=!0,T=S.route.hydrateFallbackElement||null)));let $=r.concat(h.slice(0,w+1)),z=()=>{let B;return R?B=D:E?B=T:S.route.Component?B=x.createElement(S.route.Component,null):S.route.element?B=S.route.element:B=_,x.createElement(Vg,{match:S,routeContext:{outlet:_,matches:$,isDataRoute:i!=null},children:B})};return i&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?x.createElement(Hg,{location:i.location,revalidation:i.revalidation,component:D,error:R,children:z(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):z()},null)}var Ff=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Ff||{}),Uf=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Uf||{});function Qg(s){let r=x.useContext(Ro);return r||ct(!1),r}function qg(s){let r=x.useContext(Af);return r||ct(!1),r}function Gg(s){let r=x.useContext(Cr);return r||ct(!1),r}function Bf(s){let r=Gg(),i=r.matches[r.matches.length-1];return i.route.id||ct(!1),i.route.id}function Yg(){var s;let r=x.useContext($f),i=qg(),l=Bf();return r!==void 0?r:(s=i.errors)==null?void 0:s[l]}function Xg(){let{router:s}=Qg(Ff.UseNavigateStable),r=Bf(Uf.UseNavigateStable),i=x.useRef(!1);return zf(()=>{i.current=!0}),x.useCallback(function(a,d){d===void 0&&(d={}),i.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,os({fromRouteId:r},d)))},[s,r])}const Jd={};function Jg(s,r,i){Jd[s]||(Jd[s]=!0)}function Zg(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function em(s){let{to:r,replace:i,state:l,relative:a}=s;mi()||ct(!1);let{future:d,static:h}=x.useContext(Gn),{matches:g}=x.useContext(Cr),{pathname:m}=Ur(),v=lu(),_=ou(r,su(g,d.v7_relativeSplatPath),m,a==="path"),S=JSON.stringify(_);return x.useEffect(()=>v(JSON.parse(S),{replace:i,state:l,relative:a}),[v,S,a,i,l]),null}function $r(s){ct(!1)}function tm(s){let{basename:r="/",children:i=null,location:l,navigationType:a=wr.Pop,navigator:d,static:h=!1,future:g}=s;mi()&&ct(!1);let m=r.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:m,navigator:d,static:h,future:os({v7_relativeSplatPath:!1},g)}),[m,g,d,h]);typeof l=="string"&&(l=gi(l));let{pathname:_="/",search:S="",hash:w="",state:R=null,key:E="default"}=l,D=x.useMemo(()=>{let T=hi(_,m);return T==null?null:{location:{pathname:T,search:S,hash:w,state:R,key:E},navigationType:a}},[m,_,S,w,R,E,a]);return D==null?null:x.createElement(Gn.Provider,{value:v},x.createElement(bo.Provider,{children:i,value:D}))}function nm(s){let{children:r,location:i}=s;return Fg(Qa(r),i)}new Promise(()=>{});function Qa(s,r){r===void 0&&(r=[]);let i=[];return x.Children.forEach(s,(l,a)=>{if(!x.isValidElement(l))return;let d=[...r,a];if(l.type===x.Fragment){i.push.apply(i,Qa(l.props.children,d));return}l.type!==$r&&ct(!1),!l.props.index||!l.props.children||ct(!1);let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Qa(l.props.children,d)),i.push(h)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},Po.apply(this,arguments)}function Wf(s,r){if(s==null)return{};var i={},l=Object.keys(s),a,d;for(d=0;d<l.length;d++)a=l[d],!(r.indexOf(a)>=0)&&(i[a]=s[a]);return i}function rm(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function im(s,r){return s.button===0&&(!r||r==="_self")&&!rm(s)}const sm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],om=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],lm="6";try{window.__reactRouterVersion=lm}catch{}const am=x.createContext({isTransitioning:!1}),um="startTransition",Zd=sg[um];function cm(s){let{basename:r,children:i,future:l,window:a}=s,d=x.useRef();d.current==null&&(d.current=fg({window:a,v5Compat:!0}));let h=d.current,[g,m]=x.useState({action:h.action,location:h.location}),{v7_startTransition:v}=l||{},_=x.useCallback(S=>{v&&Zd?Zd(()=>m(S)):m(S)},[m,v]);return x.useLayoutEffect(()=>h.listen(_),[h,_]),x.useEffect(()=>Zg(l),[l]),x.createElement(tm,{basename:r,children:i,location:g.location,navigationType:g.action,navigator:h,future:l})}const dm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=x.forwardRef(function(r,i){let{onClick:l,relative:a,reloadDocument:d,replace:h,state:g,target:m,to:v,preventScrollReset:_,viewTransition:S}=r,w=Wf(r,sm),{basename:R}=x.useContext(Gn),E,D=!1;if(typeof v=="string"&&fm.test(v)&&(E=v,dm))try{let B=new URL(window.location.href),X=v.startsWith("//")?new URL(B.protocol+v):new URL(v),fe=hi(X.pathname,R);X.origin===B.origin&&fe!=null?v=fe+X.search+X.hash:D=!0}catch{}let T=$g(v,{relative:a}),$=gm(v,{replace:h,state:g,target:m,preventScrollReset:_,relative:a,viewTransition:S});function z(B){l&&l(B),B.defaultPrevented||$(B)}return x.createElement("a",Po({},w,{href:E||T,onClick:D||d?l:z,ref:i,target:m}))}),hm=x.forwardRef(function(r,i){let{"aria-current":l="page",caseSensitive:a=!1,className:d="",end:h=!1,style:g,to:m,viewTransition:v,children:_}=r,S=Wf(r,om),w=Io(m,{relative:S.relative}),R=Ur(),E=x.useContext(Af),{navigator:D,basename:T}=x.useContext(Gn),$=E!=null&&mm(w)&&v===!0,z=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,B=R.pathname,X=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;a||(B=B.toLowerCase(),X=X?X.toLowerCase():null,z=z.toLowerCase()),X&&T&&(X=hi(X,T)||X);const fe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Oe=B===z||!h&&B.startsWith(z)&&B.charAt(fe)==="/",Fe=X!=null&&(X===z||!h&&X.startsWith(z)&&X.charAt(z.length)==="/"),je={isActive:Oe,isPending:Fe,isTransitioning:$},Ke=Oe?l:void 0,Ye;typeof d=="function"?Ye=d(je):Ye=[d,Oe?"active":null,Fe?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let Xe=typeof g=="function"?g(je):g;return x.createElement(fi,Po({},S,{"aria-current":Ke,className:Ye,ref:i,style:Xe,to:m,viewTransition:v}),typeof _=="function"?_(je):_)});var qa;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(qa||(qa={}));var ef;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(ef||(ef={}));function pm(s){let r=x.useContext(Ro);return r||ct(!1),r}function gm(s,r){let{target:i,replace:l,state:a,preventScrollReset:d,relative:h,viewTransition:g}=r===void 0?{}:r,m=lu(),v=Ur(),_=Io(s,{relative:h});return x.useCallback(S=>{if(im(S,i)){S.preventDefault();let w=l!==void 0?l:To(v)===To(_);m(s,{replace:w,state:a,preventScrollReset:d,relative:h,viewTransition:g})}},[v,m,_,l,a,i,s,d,h,g])}function mm(s,r){r===void 0&&(r={});let i=x.useContext(am);i==null&&ct(!1);let{basename:l}=pm(qa.useViewTransitionState),a=Io(s,{relative:r.relative});if(!i.isTransitioning)return!1;let d=hi(i.currentLocation.pathname,l)||i.currentLocation.pathname,h=hi(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Ka(a.pathname,h)!=null||Ka(a.pathname,d)!=null}function Hf(){return f.jsx("span",{className:"brand-logo","aria-hidden":"true",children:""})}const vm=[{href:"/",label:"Home"},{href:"/multiplayer",label:"Online"},{href:"/computer",label:"Vs Computer"},{href:"/replay",label:"Replay"},{href:"/auth",label:"Account"}];function ym(){return f.jsxs("nav",{className:"top-nav",children:[f.jsxs("div",{className:"brand",children:[f.jsx(Hf,{}),f.jsx("span",{children:"Chessica"})]}),f.jsx("div",{className:"nav-links",children:vm.map(s=>f.jsx(hm,{to:s.href,className:({isActive:r})=>r?"active":"",end:s.href==="/",children:s.label},s.href))})]})}const tf=[{title:"Play vs Computer",description:"Engine lab with coach, plans, and structured analysis.",to:"/computer",tone:"primary"},{title:"Online Match",description:"Queue, pair, and play humans with clocks that stay in sync.",to:"/multiplayer"},{title:"Replay Room",description:"Load a session id, scroll moves, export PGN.",to:"/replay"}];function Sm(){return f.jsxs("div",{className:"landing landing-shell",children:[f.jsxs("header",{className:"landing-hero",children:[f.jsxs("div",{className:"hero-copy",children:[f.jsx("div",{className:"pill pill-soft",children:"Chessica"}),f.jsx("h1",{children:"Three ways to play, no clutter"}),f.jsx("p",{className:"muted",children:"Drop into the engine lab, queue online, or review a session. Everything fits on screen and stays lean."}),f.jsxs("div",{className:"hero-actions",children:[f.jsx(fi,{className:"cta-chip primary",to:"/computer",children:"Start vs Computer"}),f.jsx(fi,{className:"cta-chip ghost",to:"/multiplayer",children:"Find Online Match"}),f.jsx(fi,{className:"cta-chip ghost",to:"/replay",children:"Open Replays"})]}),f.jsxs("div",{className:"hero-points",children:[f.jsx("span",{className:"point-chip",children:"Exploit-aware Stockfish"}),f.jsx("span",{className:"point-chip",children:"Coach + analysis built in"})]})]}),f.jsxs("div",{className:"hero-panel card",children:[f.jsxs("div",{className:"hero-panel__heading",children:[f.jsx("div",{className:"badge small",children:f.jsx(Hf,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"eyebrow",children:"Quick launch"}),f.jsx("strong",{children:"Pick a lane and go."}),f.jsx("span",{className:"muted",children:"No scrolling, just play."})]})]}),f.jsx("div",{className:"hero-panel__actions",children:tf.map(s=>f.jsx(fi,{className:"cta-chip primary wide",to:s.to,children:s.title},s.to))})]})]}),f.jsx("main",{className:"landing-main",children:f.jsxs("section",{className:"mode-section card",children:[f.jsxs("div",{className:"section-title",children:[f.jsxs("div",{children:[f.jsx("p",{className:"eyebrow",children:"Shortcuts"}),f.jsx("h2",{children:"Choose your next action"})]}),f.jsx("span",{className:"muted",children:"Kept compact on purpose."})]}),f.jsx("div",{className:"mode-grid compact",children:tf.map(s=>f.jsxs("article",{className:`mode-card ${s.tone??""}`,children:[f.jsx("div",{className:"mode-card__top",children:f.jsx("h3",{children:s.title})}),f.jsx("p",{className:"muted",children:s.description}),f.jsx(fi,{className:"cta-chip ghost",to:s.to,children:"Enter"})]},s.title))})]})})]})}function wm(s){return s!==null?{comment:s,variations:[]}:{variations:[]}}function xm(s,r,i,l,a){const d={move:s,variations:a};return r&&(d.suffix=r),i&&(d.nag=i),l!==null&&(d.comment=l),d}function _m(...s){const[r,...i]=s;let l=r;for(const a of i)a!==null&&(l.variations=[a,...a.variations],a.variations=[],l=a);return r}function Cm(s,r){if(r.marker&&r.marker.comment){let i=r.root;for(;;){const l=i.variations[0];if(!l){i.comment=r.marker.comment;break}i=l}}return{headers:s,root:r.root,result:(r.marker&&r.marker.result)??void 0}}function km(s,r){function i(){this.constructor=s}i.prototype=r.prototype,s.prototype=new i}function pi(s,r,i,l){var a=Error.call(this,s);return Object.setPrototypeOf&&Object.setPrototypeOf(a,pi.prototype),a.expected=r,a.found=i,a.location=l,a.name="SyntaxError",a}km(pi,Error);function Pa(s,r,i){return i=i||" ",s.length>r?s:(r-=s.length,i+=i.repeat(r),s+i.slice(0,r))}pi.prototype.format=function(s){var r="Error: "+this.message;if(this.location){var i=null,l;for(l=0;l<s.length;l++)if(s[l].source===this.location.source){i=s[l].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(a):a,h=this.location.source+":"+d.line+":"+d.column;if(i){var g=this.location.end,m=Pa("",d.line.toString().length," "),v=i[a.line-1],_=a.line===g.line?g.column:v.length+1,S=_-a.column||1;r+=`
 --> `+h+`
`+m+` |
`+d.line+" | "+v+`
`+m+" | "+Pa("",a.column-1," ")+Pa("",S,"^")}else r+=`
 at `+h}return r};pi.buildMessage=function(s,r){var i={literal:function(v){return'"'+a(v.text)+'"'},class:function(v){var _=v.parts.map(function(S){return Array.isArray(S)?d(S[0])+"-"+d(S[1]):d(S)});return"["+(v.inverted?"^":"")+_.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(v){return v.description}};function l(v){return v.charCodeAt(0).toString(16).toUpperCase()}function a(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+l(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+l(_)})}function d(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+l(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+l(_)})}function h(v){return i[v.type](v)}function g(v){var _=v.map(h),S,w;if(_.sort(),_.length>0){for(S=1,w=1;S<_.length;S++)_[S-1]!==_[S]&&(_[w]=_[S],w++);_.length=w}switch(_.length){case 1:return _[0];case 2:return _[0]+" or "+_[1];default:return _.slice(0,-1).join(", ")+", or "+_[_.length-1]}}function m(v){return v?'"'+a(v)+'"':"end of input"}return"Expected "+g(s)+" but "+m(r)+" found."};function Em(s,r){r=r!==void 0?r:{};var i={},l=r.grammarSource,a={pgn:vi},d=vi,h="[",g='"',m="]",v=".",_="O-O-O",S="O-O",w="0-0-0",R="0-0",E="$",D="{",T="}",$=";",z="(",B=")",X="1-0",fe="0-1",Oe="1/2-1/2",Fe="*",je=/^[a-zA-Z]/,Ke=/^[^"]/,Ye=/^[0-9]/,Xe=/^[.]/,be=/^[a-zA-Z1-8\-=]/,$e=/^[+#]/,Qe=/^[!?]/,Ue=/^[^}]/,Be=/^[^\r\n]/,Ee=/^[ \t\r\n]/,G=Mt("tag pair"),ie=Pe("[",!1),Y=Pe('"',!1),O=Pe("]",!1),F=Mt("tag name"),Z=it([["a","z"],["A","Z"]],!1,!1),de=Mt("tag value"),me=it(['"'],!0,!1),ve=Mt("move number"),J=it([["0","9"]],!1,!1),ye=Pe(".",!1),_e=it(["."],!1,!1),Ie=Mt("standard algebraic notation"),qe=Pe("O-O-O",!1),Ze=Pe("O-O",!1),Bt=Pe("0-0-0",!1),En=Pe("0-0",!1),rn=it([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),wt=it(["+","#"],!1,!1),On=Mt("suffix annotation"),sn=it(["!","?"],!1,!1),jn=Mt("NAG"),pt=Pe("$",!1),Gt=Mt("brace comment"),Wt=Pe("{",!1),Ht=it(["}"],!0,!1),on=Pe("}",!1),xt=Mt("rest of line comment"),ln=Pe(";",!1),It=it(["\r",`
`],!0,!1),an=Mt("variation"),Nn=Pe("(",!1),Yt=Pe(")",!1),_t=Mt("game termination marker"),un=Pe("1-0",!1),Vt=Pe("0-1",!1),Kt=Pe("1/2-1/2",!1),U=Pe("*",!1),le=Mt("whitespace"),De=it([" ","	","\r",`
`],!1,!1),Ne=function(N,M){return Cm(N,M)},He=function(N){return Object.fromEntries(N)},nt=function(N,M){return[N,M]},dt=function(N,M){return{root:N,marker:M}},Me=function(N,M){return _m(wm(N),...M.flat())},Ve=function(N,M,A,ce,ue){return xm(N,M,A,ce,ue)},Nt=function(N){return N},I=function(N){return N.replace(/[\r\n]+/g," ")},K=function(N){return N.trim()},ge=function(N){return N},te=function(N,M){return{result:N,comment:M}},j=r.peg$currPos|0,Ce=[{line:1,column:1}],Le=j,Te=r.peg$maxFailExpected||[],H=r.peg$silentFails|0,rt;if(r.startRule){if(!(r.startRule in a))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=a[r.startRule]}function Pe(N,M){return{type:"literal",text:N,ignoreCase:M}}function it(N,M,A){return{type:"class",parts:N,inverted:M,ignoreCase:A}}function Tt(){return{type:"end"}}function Mt(N){return{type:"other",description:N}}function cs(N){var M=Ce[N],A;if(M)return M;if(N>=Ce.length)A=Ce.length-1;else for(A=N;!Ce[--A];);for(M=Ce[A],M={line:M.line,column:M.column};A<N;)s.charCodeAt(A)===10?(M.line++,M.column=1):M.column++,A++;return Ce[N]=M,M}function ds(N,M,A){var ce=cs(N),ue=cs(M),Ae={source:l,start:{offset:N,line:ce.line,column:ce.column},end:{offset:M,line:ue.line,column:ue.column}};return Ae}function se(N){j<Le||(j>Le&&(Le=j,Te=[]),Te.push(N))}function fs(N,M,A){return new pi(pi.buildMessage(N,M),N,M,A)}function vi(){var N,M,A;return N=j,M=Bo(),A=gs(),N=Ne(M,A),N}function Bo(){var N,M,A;for(N=j,M=[],A=yi();A!==i;)M.push(A),A=yi();return A=Pt(),N=He(M),N}function yi(){var N,M,A,ce,ue,Ae,cn;return H++,N=j,Pt(),s.charCodeAt(j)===91?(M=h,j++):(M=i,H===0&&se(ie)),M!==i?(Pt(),A=hs(),A!==i?(Pt(),s.charCodeAt(j)===34?(ce=g,j++):(ce=i,H===0&&se(Y)),ce!==i?(ue=ps(),s.charCodeAt(j)===34?(Ae=g,j++):(Ae=i,H===0&&se(Y)),Ae!==i?(Pt(),s.charCodeAt(j)===93?(cn=m,j++):(cn=i,H===0&&se(O)),cn!==i?N=nt(A,ue):(j=N,N=i)):(j=N,N=i)):(j=N,N=i)):(j=N,N=i)):(j=N,N=i),H--,N===i&&H===0&&se(G),N}function hs(){var N,M,A;if(H++,N=j,M=[],A=s.charAt(j),je.test(A)?j++:(A=i,H===0&&se(Z)),A!==i)for(;A!==i;)M.push(A),A=s.charAt(j),je.test(A)?j++:(A=i,H===0&&se(Z));else M=i;return M!==i?N=s.substring(N,j):N=M,H--,N===i&&(M=i,H===0&&se(F)),N}function ps(){var N,M,A;for(H++,N=j,M=[],A=s.charAt(j),Ke.test(A)?j++:(A=i,H===0&&se(me));A!==i;)M.push(A),A=s.charAt(j),Ke.test(A)?j++:(A=i,H===0&&se(me));return N=s.substring(N,j),H--,M=i,H===0&&se(de),N}function gs(){var N,M,A;return N=j,M=ms(),Pt(),A=mn(),A===i&&(A=null),Pt(),N=dt(M,A),N}function ms(){var N,M,A,ce;for(N=j,M=Xn(),M===i&&(M=null),A=[],ce=vs();ce!==i;)A.push(ce),ce=vs();return N=Me(M,A),N}function vs(){var N,M,A,ce,ue,Ae,cn,zn;if(N=j,Pt(),lt(),Pt(),M=Wo(),M!==i){for(A=Si(),A===i&&(A=null),ce=[],ue=wi();ue!==i;)ce.push(ue),ue=wi();for(ue=Pt(),Ae=Xn(),Ae===i&&(Ae=null),cn=[],zn=kr();zn!==i;)cn.push(zn),zn=kr();N=Ve(M,A,ce,Ae,cn)}else j=N,N=i;return N}function lt(){var N,M,A,ce,ue,Ae;for(H++,N=j,M=[],A=s.charAt(j),Ye.test(A)?j++:(A=i,H===0&&se(J));A!==i;)M.push(A),A=s.charAt(j),Ye.test(A)?j++:(A=i,H===0&&se(J));if(s.charCodeAt(j)===46?(A=v,j++):(A=i,H===0&&se(ye)),A!==i){for(ce=Pt(),ue=[],Ae=s.charAt(j),Xe.test(Ae)?j++:(Ae=i,H===0&&se(_e));Ae!==i;)ue.push(Ae),Ae=s.charAt(j),Xe.test(Ae)?j++:(Ae=i,H===0&&se(_e));M=[M,A,ce,ue],N=M}else j=N,N=i;return H--,N===i&&(M=i,H===0&&se(ve)),N}function Wo(){var N,M,A,ce,ue,Ae;if(H++,N=j,M=j,s.substr(j,5)===_?(A=_,j+=5):(A=i,H===0&&se(qe)),A===i&&(s.substr(j,3)===S?(A=S,j+=3):(A=i,H===0&&se(Ze)),A===i&&(s.substr(j,5)===w?(A=w,j+=5):(A=i,H===0&&se(Bt)),A===i&&(s.substr(j,3)===R?(A=R,j+=3):(A=i,H===0&&se(En)),A===i))))if(A=j,ce=s.charAt(j),je.test(ce)?j++:(ce=i,H===0&&se(Z)),ce!==i){if(ue=[],Ae=s.charAt(j),be.test(Ae)?j++:(Ae=i,H===0&&se(rn)),Ae!==i)for(;Ae!==i;)ue.push(Ae),Ae=s.charAt(j),be.test(Ae)?j++:(Ae=i,H===0&&se(rn));else ue=i;ue!==i?(ce=[ce,ue],A=ce):(j=A,A=i)}else j=A,A=i;return A!==i?(ce=s.charAt(j),$e.test(ce)?j++:(ce=i,H===0&&se(wt)),ce===i&&(ce=null),A=[A,ce],M=A):(j=M,M=i),M!==i?N=s.substring(N,j):N=M,H--,N===i&&(M=i,H===0&&se(Ie)),N}function Si(){var N,M,A;for(H++,N=j,M=[],A=s.charAt(j),Qe.test(A)?j++:(A=i,H===0&&se(sn));A!==i;)M.push(A),M.length>=2?A=i:(A=s.charAt(j),Qe.test(A)?j++:(A=i,H===0&&se(sn)));return M.length<1?(j=N,N=i):N=M,H--,N===i&&(M=i,H===0&&se(On)),N}function wi(){var N,M,A,ce,ue;if(H++,N=j,Pt(),s.charCodeAt(j)===36?(M=E,j++):(M=i,H===0&&se(pt)),M!==i){if(A=j,ce=[],ue=s.charAt(j),Ye.test(ue)?j++:(ue=i,H===0&&se(J)),ue!==i)for(;ue!==i;)ce.push(ue),ue=s.charAt(j),Ye.test(ue)?j++:(ue=i,H===0&&se(J));else ce=i;ce!==i?A=s.substring(A,j):A=ce,A!==i?N=Nt(A):(j=N,N=i)}else j=N,N=i;return H--,N===i&&H===0&&se(jn),N}function Xn(){var N;return N=Ho(),N===i&&(N=ys()),N}function Ho(){var N,M,A,ce,ue;if(H++,N=j,s.charCodeAt(j)===123?(M=D,j++):(M=i,H===0&&se(Wt)),M!==i){for(A=j,ce=[],ue=s.charAt(j),Ue.test(ue)?j++:(ue=i,H===0&&se(Ht));ue!==i;)ce.push(ue),ue=s.charAt(j),Ue.test(ue)?j++:(ue=i,H===0&&se(Ht));A=s.substring(A,j),s.charCodeAt(j)===125?(ce=T,j++):(ce=i,H===0&&se(on)),ce!==i?N=I(A):(j=N,N=i)}else j=N,N=i;return H--,N===i&&(M=i,H===0&&se(Gt)),N}function ys(){var N,M,A,ce,ue;if(H++,N=j,s.charCodeAt(j)===59?(M=$,j++):(M=i,H===0&&se(ln)),M!==i){for(A=j,ce=[],ue=s.charAt(j),Be.test(ue)?j++:(ue=i,H===0&&se(It));ue!==i;)ce.push(ue),ue=s.charAt(j),Be.test(ue)?j++:(ue=i,H===0&&se(It));A=s.substring(A,j),N=K(A)}else j=N,N=i;return H--,N===i&&(M=i,H===0&&se(xt)),N}function kr(){var N,M,A,ce;return H++,N=j,Pt(),s.charCodeAt(j)===40?(M=z,j++):(M=i,H===0&&se(Nn)),M!==i?(A=ms(),A!==i?(Pt(),s.charCodeAt(j)===41?(ce=B,j++):(ce=i,H===0&&se(Yt)),ce!==i?N=ge(A):(j=N,N=i)):(j=N,N=i)):(j=N,N=i),H--,N===i&&H===0&&se(an),N}function mn(){var N,M,A;return H++,N=j,s.substr(j,3)===X?(M=X,j+=3):(M=i,H===0&&se(un)),M===i&&(s.substr(j,3)===fe?(M=fe,j+=3):(M=i,H===0&&se(Vt)),M===i&&(s.substr(j,7)===Oe?(M=Oe,j+=7):(M=i,H===0&&se(Kt)),M===i&&(s.charCodeAt(j)===42?(M=Fe,j++):(M=i,H===0&&se(U))))),M!==i?(Pt(),A=Xn(),A===i&&(A=null),N=te(M,A)):(j=N,N=i),H--,N===i&&(M=i,H===0&&se(_t)),N}function Pt(){var N,M;for(H++,N=[],M=s.charAt(j),Ee.test(M)?j++:(M=i,H===0&&se(De));M!==i;)N.push(M),M=s.charAt(j),Ee.test(M)?j++:(M=i,H===0&&se(De));return H--,M=i,H===0&&se(le),N}if(rt=d(),r.peg$library)return{peg$result:rt,peg$currPos:j,peg$FAILED:i,peg$maxFailExpected:Te,peg$maxFailPos:Le};if(rt!==i&&j===s.length)return rt;throw rt!==i&&j<s.length&&se(Tt()),fs(Te,Le<s.length?s.charAt(Le):null,Le<s.length?ds(Le,Le+1):ds(Le,Le))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Eo=0xffffffffffffffffn;function Da(s,r){return(s<<r|s>>64n-r)&0xffffffffffffffffn}function nf(s,r){return s*r&Eo}function Om(s){return function(){let r=BigInt(s&Eo),i=BigInt(s>>64n&Eo);const l=nf(Da(nf(r,5n),7n),9n);return i^=r,r=(Da(r,24n)^i^i<<16n)&Eo,i=Da(i,37n),s=i<<64n|r,l}}const Mo=Om(0xa187eb39cdcaed8f31c4b365b102e01en),jm=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Mo()))),Nm=Array.from({length:8},()=>Mo()),Tm=Array.from({length:16},()=>Mo()),La=Mo(),Ut="w",gn="b",mt="p",Ga="n",Oo="b",ns="r",Sr="q",St="k",Ra="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class xo{constructor(r,i){ot(this,"color");ot(this,"from");ot(this,"to");ot(this,"piece");ot(this,"captured");ot(this,"promotion");ot(this,"flags");ot(this,"san");ot(this,"lan");ot(this,"before");ot(this,"after");const{color:l,piece:a,from:d,to:h,flags:g,captured:m,promotion:v}=i,_=jt(d),S=jt(h);this.color=l,this.piece=a,this.from=_,this.to=S,this.san=r._moveToSan(i,r._moves({legal:!0})),this.lan=_+S,this.before=r.fen(),r._makeMove(i),this.after=r.fen(),r._undoMove(),this.flags="";for(const w in xe)xe[w]&g&&(this.flags+=Ar[w]);m&&(this.captured=m),v&&(this.promotion=v,this.lan+=v)}isCapture(){return this.flags.indexOf(Ar.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Ar.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Ar.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Ar.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Ar.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Ar.BIG_PAWN)>-1}}const Rt=-1,Ar={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},xe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ya={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},Pm={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Dm={...Ya,...Pm},Se={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},ba={b:[16,32,17,15],w:[-16,-32,-17,-15]},rf={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Lm=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Rm=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],bm={p:1,n:2,b:4,r:8,q:16,k:32},Im="pnbrqkPNBRQK",sf=[Ga,Oo,ns,Sr],Mm=7,Am=6,$m=1,zm=0,_o={[St]:xe.KSIDE_CASTLE,[Sr]:xe.QSIDE_CASTLE},vr={w:[{square:Se.a1,flag:xe.QSIDE_CASTLE},{square:Se.h1,flag:xe.KSIDE_CASTLE}],b:[{square:Se.a8,flag:xe.QSIDE_CASTLE},{square:Se.h8,flag:xe.KSIDE_CASTLE}]},Fm={b:$m,w:Am},Ia="--";function zr(s){return s>>4}function ls(s){return s&15}function Vf(s){return"0123456789".indexOf(s)!==-1}function jt(s){const r=ls(s),i=zr(s);return"abcdefgh".substring(r,r+1)+"87654321".substring(i,i+1)}function es(s){return s===Ut?gn:Ut}function Um(s){const r=s.split(/\s+/);if(r.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const i=parseInt(r[5],10);if(isNaN(i)||i<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const l=parseInt(r[4],10);if(isNaN(l)||l<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(r[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(r[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(r[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const a=r[0].split("/");if(a.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let h=0;h<a.length;h++){let g=0,m=!1;for(let v=0;v<a[h].length;v++)if(Vf(a[h][v])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};g+=parseInt(a[h][v],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(a[h][v]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};g+=1,m=!1}if(g!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(r[3][1]=="3"&&r[1]=="w"||r[3][1]=="6"&&r[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const d=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:h,regex:g}of d){if(!g.test(r[0]))return{ok:!1,error:`Invalid FEN: missing ${h} king`};if((r[0].match(g)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${h} kings`}}return Array.from(a[0]+a[7]).some(h=>h.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function Bm(s,r){const i=s.from,l=s.to,a=s.piece;let d=0,h=0,g=0;for(let m=0,v=r.length;m<v;m++){const _=r[m].from,S=r[m].to,w=r[m].piece;a===w&&i!==_&&l===S&&(d++,zr(i)===zr(_)&&h++,ls(i)===ls(_)&&g++)}return d>0?h>0&&g>0?jt(i):g>0?jt(i).charAt(1):jt(i).charAt(0):""}function yr(s,r,i,l,a,d=void 0,h=xe.NORMAL){const g=zr(l);if(a===mt&&(g===Mm||g===zm))for(let m=0;m<sf.length;m++){const v=sf[m];s.push({color:r,from:i,to:l,piece:a,captured:d,promotion:v,flags:h|xe.PROMOTION})}else s.push({color:r,from:i,to:l,piece:a,captured:d,flags:h})}function of(s){let r=s.charAt(0);return r>="a"&&r<="h"?s.match(/[a-h]\d.*[a-h]\d/)?void 0:mt:(r=r.toLowerCase(),r==="o"?St:r)}function Ma(s){return s.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class as{constructor(r=Ra,{skipValidation:i=!1}={}){ot(this,"_board",new Array(128));ot(this,"_turn",Ut);ot(this,"_header",{});ot(this,"_kings",{w:Rt,b:Rt});ot(this,"_epSquare",-1);ot(this,"_halfMoves",0);ot(this,"_moveNumber",0);ot(this,"_history",[]);ot(this,"_comments",{});ot(this,"_castling",{w:0,b:0});ot(this,"_hash",0n);ot(this,"_positionCount",new Map);this.load(r,{skipValidation:i})}clear({preserveHeaders:r=!1}={}){this._board=new Array(128),this._kings={w:Rt,b:Rt},this._turn=Ut,this._castling={w:0,b:0},this._epSquare=Rt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=r?this._header:{...Dm},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(r,{skipValidation:i=!1,preserveHeaders:l=!1}={}){let a=r.split(/\s+/);if(a.length>=2&&a.length<6){const g=["-","-","0","1"];r=a.concat(g.slice(-(6-a.length))).join(" ")}if(a=r.split(/\s+/),!i){const{ok:g,error:m}=Um(r);if(!g)throw new Error(m)}const d=a[0];let h=0;this.clear({preserveHeaders:l});for(let g=0;g<d.length;g++){const m=d.charAt(g);if(m==="/")h+=8;else if(Vf(m))h+=parseInt(m,10);else{const v=m<"a"?Ut:gn;this._put({type:m.toLowerCase(),color:v},jt(h)),h++}}this._turn=a[1],a[2].indexOf("K")>-1&&(this._castling.w|=xe.KSIDE_CASTLE),a[2].indexOf("Q")>-1&&(this._castling.w|=xe.QSIDE_CASTLE),a[2].indexOf("k")>-1&&(this._castling.b|=xe.KSIDE_CASTLE),a[2].indexOf("q")>-1&&(this._castling.b|=xe.QSIDE_CASTLE),this._epSquare=a[3]==="-"?Rt:Se[a[3]],this._halfMoves=parseInt(a[4],10),this._moveNumber=parseInt(a[5],10),this._hash=this._computeHash(),this._updateSetup(r),this._incPositionCount()}fen({forceEnpassantSquare:r=!1}={}){var h,g;let i=0,l="";for(let m=Se.a8;m<=Se.h1;m++){if(this._board[m]){i>0&&(l+=i,i=0);const{color:v,type:_}=this._board[m];l+=v===Ut?_.toUpperCase():_.toLowerCase()}else i++;m+1&136&&(i>0&&(l+=i),m!==Se.h1&&(l+="/"),i=0,m+=8)}let a="";this._castling[Ut]&xe.KSIDE_CASTLE&&(a+="K"),this._castling[Ut]&xe.QSIDE_CASTLE&&(a+="Q"),this._castling[gn]&xe.KSIDE_CASTLE&&(a+="k"),this._castling[gn]&xe.QSIDE_CASTLE&&(a+="q"),a=a||"-";let d="-";if(this._epSquare!==Rt)if(r)d=jt(this._epSquare);else{const m=this._epSquare+(this._turn===Ut?16:-16),v=[m+1,m-1];for(const _ of v){if(_&136)continue;const S=this._turn;if(((h=this._board[_])==null?void 0:h.color)===S&&((g=this._board[_])==null?void 0:g.type)===mt){this._makeMove({color:S,from:_,to:this._epSquare,piece:mt,captured:mt,flags:xe.EP_CAPTURE});const w=!this._isKingAttacked(S);if(this._undoMove(),w){d=jt(this._epSquare);break}}}}return[l,this._turn,a,d,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(r){if(!this._board[r])return 0n;const{color:i,type:l}=this._board[r],a={w:0,b:1}[i],d={p:0,n:1,b:2,r:3,q:4,k:5}[l];return jm[a][d][r]}_epKey(){return this._epSquare===Rt?0n:Nm[this._epSquare&7]}_castlingKey(){const r=this._castling.w>>5|this._castling.b>>3;return Tm[r]}_computeHash(){let r=0n;for(let i=Se.a8;i<=Se.h1;i++){if(i&136){i+=7;continue}this._board[i]&&(r^=this._pieceKey(i))}return r^=this._epKey(),r^=this._castlingKey(),this._turn==="b"&&(r^=La),r}_updateSetup(r){this._history.length>0||(r!==Ra?(this._header.SetUp="1",this._header.FEN=r):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Ra)}get(r){return this._board[Se[r]]}findPiece(r){var l;const i=[];for(let a=Se.a8;a<=Se.h1;a++){if(a&136){a+=7;continue}!this._board[a]||((l=this._board[a])==null?void 0:l.color)!==r.color||this._board[a].color===r.color&&this._board[a].type===r.type&&i.push(jt(a))}return i}put({type:r,color:i},l){return this._put({type:r,color:i},l)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(r,i){this._hash^=this._pieceKey(r),this._board[r]=i,this._hash^=this._pieceKey(r)}_put({type:r,color:i},l){if(Im.indexOf(r.toLowerCase())===-1||!(l in Se))return!1;const a=Se[l];if(r==St&&!(this._kings[i]==Rt||this._kings[i]==a))return!1;const d=this._board[a];return d&&d.type===St&&(this._kings[d.color]=Rt),this._set(a,{type:r,color:i}),r===St&&(this._kings[i]=a),!0}_clear(r){this._hash^=this._pieceKey(r),delete this._board[r]}remove(r){const i=this.get(r);return this._clear(Se[r]),i&&i.type===St&&(this._kings[i.color]=Rt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),i}_updateCastlingRights(){var l,a,d,h,g,m,v,_,S,w,R,E;this._hash^=this._castlingKey();const r=((l=this._board[Se.e1])==null?void 0:l.type)===St&&((a=this._board[Se.e1])==null?void 0:a.color)===Ut,i=((d=this._board[Se.e8])==null?void 0:d.type)===St&&((h=this._board[Se.e8])==null?void 0:h.color)===gn;(!r||((g=this._board[Se.a1])==null?void 0:g.type)!==ns||((m=this._board[Se.a1])==null?void 0:m.color)!==Ut)&&(this._castling.w&=-65),(!r||((v=this._board[Se.h1])==null?void 0:v.type)!==ns||((_=this._board[Se.h1])==null?void 0:_.color)!==Ut)&&(this._castling.w&=-33),(!i||((S=this._board[Se.a8])==null?void 0:S.type)!==ns||((w=this._board[Se.a8])==null?void 0:w.color)!==gn)&&(this._castling.b&=-65),(!i||((R=this._board[Se.h8])==null?void 0:R.type)!==ns||((E=this._board[Se.h8])==null?void 0:E.color)!==gn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var d,h;if(this._epSquare===Rt)return;const r=this._epSquare+(this._turn===Ut?-16:16),i=this._epSquare+(this._turn===Ut?16:-16),l=[i+1,i-1];if(this._board[r]!==null||this._board[this._epSquare]!==null||((d=this._board[i])==null?void 0:d.color)!==es(this._turn)||((h=this._board[i])==null?void 0:h.type)!==mt){this._hash^=this._epKey(),this._epSquare=Rt;return}const a=g=>{var m,v;return!(g&136)&&((m=this._board[g])==null?void 0:m.color)===this._turn&&((v=this._board[g])==null?void 0:v.type)===mt};l.some(a)||(this._hash^=this._epKey(),this._epSquare=Rt)}_attacked(r,i,l){const a=[];for(let d=Se.a8;d<=Se.h1;d++){if(d&136){d+=7;continue}if(this._board[d]===void 0||this._board[d].color!==r)continue;const h=this._board[d],g=d-i;if(g===0)continue;const m=g+119;if(Lm[m]&bm[h.type]){if(h.type===mt){if(g>0&&h.color===Ut||g<=0&&h.color===gn)if(l)a.push(jt(d));else return!0;continue}if(h.type==="n"||h.type==="k")if(l){a.push(jt(d));continue}else return!0;const v=Rm[m];let _=d+v,S=!1;for(;_!==i;){if(this._board[_]!=null){S=!0;break}_+=v}if(!S)if(l){a.push(jt(d));continue}else return!0}}return l?a:!1}attackers(r,i){return i?this._attacked(i,Se[r],!0):this._attacked(this._turn,Se[r],!0)}_isKingAttacked(r){const i=this._kings[r];return i===-1?!1:this._attacked(es(r),i)}hash(){return this._hash.toString(16)}isAttacked(r,i){return this._attacked(i,Se[r])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const r={b:0,n:0,r:0,q:0,k:0,p:0},i=[];let l=0,a=0;for(let d=Se.a8;d<=Se.h1;d++){if(a=(a+1)%2,d&136){d+=7;continue}const h=this._board[d];h&&(r[h.type]=h.type in r?r[h.type]+1:1,h.type===Oo&&i.push(a),l++)}if(l===2)return!0;if(l===3&&(r[Oo]===1||r[Ga]===1))return!0;if(l===r[Oo]+2){let d=0;const h=i.length;for(let g=0;g<h;g++)d+=i[g];if(d===0||d===h)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:r=!1,square:i=void 0,piece:l=void 0}={}){const a=this._moves({square:i,piece:l});return r?a.map(d=>new xo(this,d)):a.map(d=>this._moveToSan(d,a))}_moves({legal:r=!0,piece:i=void 0,square:l=void 0}={}){var R;const a=l?l.toLowerCase():void 0,d=i==null?void 0:i.toLowerCase(),h=[],g=this._turn,m=es(g);let v=Se.a8,_=Se.h1,S=!1;if(a)if(a in Se)v=_=Se[a],S=!0;else return[];for(let E=v;E<=_;E++){if(E&136){E+=7;continue}if(!this._board[E]||this._board[E].color===m)continue;const{type:D}=this._board[E];let T;if(D===mt){if(d&&d!==D)continue;T=E+ba[g][0],this._board[T]||(yr(h,g,E,T,mt),T=E+ba[g][1],Fm[g]===zr(E)&&!this._board[T]&&yr(h,g,E,T,mt,void 0,xe.BIG_PAWN));for(let $=2;$<4;$++)T=E+ba[g][$],!(T&136)&&(((R=this._board[T])==null?void 0:R.color)===m?yr(h,g,E,T,mt,this._board[T].type,xe.CAPTURE):T===this._epSquare&&yr(h,g,E,T,mt,mt,xe.EP_CAPTURE))}else{if(d&&d!==D)continue;for(let $=0,z=rf[D].length;$<z;$++){const B=rf[D][$];for(T=E;T+=B,!(T&136);){if(!this._board[T])yr(h,g,E,T,D);else{if(this._board[T].color===g)break;yr(h,g,E,T,D,this._board[T].type,xe.CAPTURE);break}if(D===Ga||D===St)break}}}}if((d===void 0||d===St)&&(!S||_===this._kings[g])){if(this._castling[g]&xe.KSIDE_CASTLE){const E=this._kings[g],D=E+2;!this._board[E+1]&&!this._board[D]&&!this._attacked(m,this._kings[g])&&!this._attacked(m,E+1)&&!this._attacked(m,D)&&yr(h,g,this._kings[g],D,St,void 0,xe.KSIDE_CASTLE)}if(this._castling[g]&xe.QSIDE_CASTLE){const E=this._kings[g],D=E-2;!this._board[E-1]&&!this._board[E-2]&&!this._board[E-3]&&!this._attacked(m,this._kings[g])&&!this._attacked(m,E-1)&&!this._attacked(m,D)&&yr(h,g,this._kings[g],D,St,void 0,xe.QSIDE_CASTLE)}}if(!r||this._kings[g]===-1)return h;const w=[];for(let E=0,D=h.length;E<D;E++)this._makeMove(h[E]),this._isKingAttacked(g)||w.push(h[E]),this._undoMove();return w}move(r,{strict:i=!1}={}){let l=null;if(typeof r=="string")l=this._moveFromSan(r,i);else if(r===null)l=this._moveFromSan(Ia,i);else if(typeof r=="object"){const d=this._moves();for(let h=0,g=d.length;h<g;h++)if(r.from===jt(d[h].from)&&r.to===jt(d[h].to)&&(!("promotion"in d[h])||r.promotion===d[h].promotion)){l=d[h];break}}if(!l)throw typeof r=="string"?new Error(`Invalid move: ${r}`):new Error(`Invalid move: ${JSON.stringify(r)}`);if(this.isCheck()&&l.flags&xe.NULL_MOVE)throw new Error("Null move not allowed when in check");const a=new xo(this,l);return this._makeMove(l),this._incPositionCount(),a}_push(r){this._history.push({move:r,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(r,i){this._hash^=this._pieceKey(r),this._board[i]=this._board[r],delete this._board[r],this._hash^=this._pieceKey(i)}_makeMove(r){var a,d,h,g;const i=this._turn,l=es(i);if(this._push(r),r.flags&xe.NULL_MOVE){i===gn&&this._moveNumber++,this._halfMoves++,this._turn=l,this._epSquare=Rt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),r.captured&&(this._hash^=this._pieceKey(r.to)),this._movePiece(r.from,r.to),r.flags&xe.EP_CAPTURE&&(this._turn===gn?this._clear(r.to-16):this._clear(r.to+16)),r.promotion&&(this._clear(r.to),this._set(r.to,{type:r.promotion,color:i})),this._board[r.to].type===St){if(this._kings[i]=r.to,r.flags&xe.KSIDE_CASTLE){const m=r.to-1,v=r.to+1;this._movePiece(v,m)}else if(r.flags&xe.QSIDE_CASTLE){const m=r.to+1,v=r.to-2;this._movePiece(v,m)}this._castling[i]=0}if(this._castling[i]){for(let m=0,v=vr[i].length;m<v;m++)if(r.from===vr[i][m].square&&this._castling[i]&vr[i][m].flag){this._castling[i]^=vr[i][m].flag;break}}if(this._castling[l]){for(let m=0,v=vr[l].length;m<v;m++)if(r.to===vr[l][m].square&&this._castling[l]&vr[l][m].flag){this._castling[l]^=vr[l][m].flag;break}}if(this._hash^=this._castlingKey(),r.flags&xe.BIG_PAWN){let m;i===gn?m=r.to-16:m=r.to+16,!(r.to-1&136)&&((a=this._board[r.to-1])==null?void 0:a.type)===mt&&((d=this._board[r.to-1])==null?void 0:d.color)===l||!(r.to+1&136)&&((h=this._board[r.to+1])==null?void 0:h.type)===mt&&((g=this._board[r.to+1])==null?void 0:g.color)===l?(this._epSquare=m,this._hash^=this._epKey()):this._epSquare=Rt}else this._epSquare=Rt;r.piece===mt?this._halfMoves=0:r.flags&(xe.CAPTURE|xe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,i===gn&&this._moveNumber++,this._turn=l,this._hash^=La}undo(){const r=this._hash,i=this._undoMove();if(i){const l=new xo(this,i);return this._decPositionCount(r),l}return null}_undoMove(){const r=this._history.pop();if(r===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const i=r.move;this._kings=r.kings,this._turn=r.turn,this._castling=r.castling,this._epSquare=r.epSquare,this._halfMoves=r.halfMoves,this._moveNumber=r.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=La;const l=this._turn,a=es(l);if(i.flags&xe.NULL_MOVE)return i;if(this._movePiece(i.to,i.from),i.piece&&(this._clear(i.from),this._set(i.from,{type:i.piece,color:l})),i.captured)if(i.flags&xe.EP_CAPTURE){let d;l===gn?d=i.to-16:d=i.to+16,this._set(d,{type:mt,color:a})}else this._set(i.to,{type:i.captured,color:a});if(i.flags&(xe.KSIDE_CASTLE|xe.QSIDE_CASTLE)){let d,h;i.flags&xe.KSIDE_CASTLE?(d=i.to+1,h=i.to-1):(d=i.to-2,h=i.to+1),this._movePiece(h,d)}return i}pgn({newline:r=`
`,maxWidth:i=0}={}){const l=[];let a=!1;for(const w in this._header)this._header[w]&&l.push(`[${w} "${this._header[w]}"]`+r),a=!0;a&&this._history.length&&l.push(r);const d=w=>{const R=this._comments[this.fen()];if(typeof R<"u"){const E=w.length>0?" ":"";w=`${w}${E}{${R}}`}return w},h=[];for(;this._history.length>0;)h.push(this._undoMove());const g=[];let m="";for(h.length===0&&g.push(d(""));h.length>0;){m=d(m);const w=h.pop();if(!w)break;if(!this._history.length&&w.color==="b"){const R=`${this._moveNumber}. ...`;m=m?`${m} ${R}`:R}else w.color==="w"&&(m.length&&g.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(w,this._moves({legal:!0})),this._makeMove(w)}if(m.length&&g.push(d(m)),g.push(this._header.Result||"*"),i===0)return l.join("")+g.join(" ");const v=function(){return l.length>0&&l[l.length-1]===" "?(l.pop(),!0):!1},_=function(w,R){for(const E of R.split(" "))if(E){if(w+E.length>i){for(;v();)w--;l.push(r),w=0}l.push(E),w+=E.length,l.push(" "),w++}return v()&&w--,w};let S=0;for(let w=0;w<g.length;w++){if(S+g[w].length>i&&g[w].includes("{")){S=_(S,g[w]);continue}S+g[w].length>i&&w!==0?(l[l.length-1]===" "&&l.pop(),l.push(r),S=0):w!==0&&(l.push(" "),S++),l.push(g[w]),S+=g[w].length}return l.join("")}header(...r){for(let i=0;i<r.length;i+=2)typeof r[i]=="string"&&typeof r[i+1]=="string"&&(this._header[r[i]]=r[i+1]);return this._header}setHeader(r,i){return this._header[r]=i??Ya[r]??null,this.getHeaders()}removeHeader(r){return r in this._header?(this._header[r]=Ya[r]||null,!0):!1}getHeaders(){const r={};for(const[i,l]of Object.entries(this._header))l!==null&&(r[i]=l);return r}loadPgn(r,{strict:i=!1,newlineChar:l=`\r?
`}={}){l!==`\r?
`&&(r=r.replace(new RegExp(l,"g"),`
`));const a=Em(r);this.reset();const d=a.headers;let h="";for(const v in d)v.toLowerCase()==="fen"&&(h=d[v]),this.header(v,d[v]);if(!i)h&&this.load(h,{preserveHeaders:!0});else if(d.SetUp==="1"){if(!("FEN"in d))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(d.FEN,{preserveHeaders:!0})}let g=a.root;for(;g;){if(g.move){const v=this._moveFromSan(g.move,i);if(v==null)throw new Error(`Invalid move in PGN: ${g.move}`);this._makeMove(v),this._incPositionCount()}g.comment!==void 0&&(this._comments[this.fen()]=g.comment),g=g.variations[0]}const m=a.result;m&&Object.keys(this._header).length&&this._header.Result!==m&&this.setHeader("Result",m)}_moveToSan(r,i){let l="";if(r.flags&xe.KSIDE_CASTLE)l="O-O";else if(r.flags&xe.QSIDE_CASTLE)l="O-O-O";else{if(r.flags&xe.NULL_MOVE)return Ia;if(r.piece!==mt){const a=Bm(r,i);l+=r.piece.toUpperCase()+a}r.flags&(xe.CAPTURE|xe.EP_CAPTURE)&&(r.piece===mt&&(l+=jt(r.from)[0]),l+="x"),l+=jt(r.to),r.promotion&&(l+="="+r.promotion.toUpperCase())}return this._makeMove(r),this.isCheck()&&(this.isCheckmate()?l+="#":l+="+"),this._undoMove(),l}_moveFromSan(r,i=!1){let l=Ma(r);if(i||(l==="0-0"?l="O-O":l==="0-0-0"&&(l="O-O-O")),l==Ia)return{color:this._turn,from:0,to:0,piece:"k",flags:xe.NULL_MOVE};let a=of(l),d=this._moves({legal:!0,piece:a});for(let w=0,R=d.length;w<R;w++)if(l===Ma(this._moveToSan(d[w],d)))return d[w];if(i)return null;let h,g,m,v,_,S=!1;if(g=l.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),g?(h=g[1],m=g[2],v=g[3],_=g[4],m.length==1&&(S=!0)):(g=l.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),g&&(h=g[1],m=g[2],v=g[3],_=g[4],m.length==1&&(S=!0))),a=of(l),d=this._moves({legal:!0,piece:h||a}),!v)return null;for(let w=0,R=d.length;w<R;w++)if(m){if((!h||h.toLowerCase()==d[w].piece)&&Se[m]==d[w].from&&Se[v]==d[w].to&&(!_||_.toLowerCase()==d[w].promotion))return d[w];if(S){const E=jt(d[w].from);if((!h||h.toLowerCase()==d[w].piece)&&Se[v]==d[w].to&&(m==E[0]||m==E[1])&&(!_||_.toLowerCase()==d[w].promotion))return d[w]}}else if(l===Ma(this._moveToSan(d[w],d)).replace("x",""))return d[w];return null}ascii(){let r=`   +------------------------+
`;for(let i=Se.a8;i<=Se.h1;i++){if(ls(i)===0&&(r+=" "+"87654321"[zr(i)]+" |"),this._board[i]){const l=this._board[i].type,d=this._board[i].color===Ut?l.toUpperCase():l.toLowerCase();r+=" "+d+" "}else r+=" . ";i+1&136&&(r+=`|
`,i+=8)}return r+=`   +------------------------+
`,r+="     a  b  c  d  e  f  g  h",r}perft(r){const i=this._moves({legal:!1});let l=0;const a=this._turn;for(let d=0,h=i.length;d<h;d++)this._makeMove(i[d]),this._isKingAttacked(a)||(r-1>0?l+=this.perft(r-1):l++),this._undoMove();return l}setTurn(r){return this._turn==r?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const r=[];let i=[];for(let l=Se.a8;l<=Se.h1;l++)this._board[l]==null?i.push(null):i.push({square:jt(l),type:this._board[l].type,color:this._board[l].color}),l+1&136&&(r.push(i),i=[],l+=8);return r}squareColor(r){if(r in Se){const i=Se[r];return(zr(i)+ls(i))%2===0?"light":"dark"}return null}history({verbose:r=!1}={}){const i=[],l=[];for(;this._history.length>0;)i.push(this._undoMove());for(;;){const a=i.pop();if(!a)break;r?l.push(new xo(this,a)):l.push(this._moveToSan(a,this._moves())),this._makeMove(a)}return l}_getPositionCount(r){return this._positionCount.get(r)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(r){const i=this._positionCount.get(r)??0;i===1?this._positionCount.delete(r):this._positionCount.set(r,i-1)}_pruneComments(){const r=[],i={},l=a=>{a in this._comments&&(i[a]=this._comments[a])};for(;this._history.length>0;)r.push(this._undoMove());for(l(this.fen());;){const a=r.pop();if(!a)break;this._makeMove(a),l(this.fen())}this._comments=i}getComment(){return this._comments[this.fen()]}setComment(r){this._comments[this.fen()]=r.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const r=this._comments[this.fen()];return delete this._comments[this.fen()],r}getComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>({fen:r,comment:this._comments[r]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>{const i=this._comments[r];return delete this._comments[r],{fen:r,comment:i}})}setCastlingRights(r,i){for(const a of[St,Sr])i[a]!==void 0&&(i[a]?this._castling[r]|=_o[a]:this._castling[r]&=~_o[a]);this._updateCastlingRights();const l=this.getCastlingRights(r);return(i[St]===void 0||i[St]===l[St])&&(i[Sr]===void 0||i[Sr]===l[Sr])}getCastlingRights(r){return{[St]:(this._castling[r]&_o[St])!==0,[Sr]:(this._castling[r]&_o[Sr])!==0}}moveNumber(){return this._moveNumber}}function Wm(s,r){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(s);a<l.length;a++)r.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(s,l[a])&&(i[l[a]]=s[l[a]]);return i}const us="abcdefgh".split(""),jo={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Hm={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Vm={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Km=[7,6,5,4,3,2,1,0],Qm=[0,1,2,3,4,5,6,7],lf={wP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),f.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),f.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),f.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),f.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),f.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"}),f.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),f.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[f.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),f.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),f.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),f.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Xa(s,r,i){const l=r/8,a=s==="white"?Hm:Vm,d=s==="white"?Km:Qm,h=a[i[0]]*l+l/2,g=d[parseInt(i[1],10)-1]*l+l/2;return{x:h,y:g}}function af(s){let r=!1;return Object.keys(jo).forEach(i=>{s[i]!==jo[i]&&(r=!0)}),Object.keys(s).forEach(i=>{jo[i]!==s[i]&&(r=!0)}),r}function qm(s,r){const i={removed:{},added:{}};return Object.keys(s).forEach(l=>{r[l]!==s[l]&&(i.removed[l]=s[l])}),Object.keys(r).forEach(l=>{s[l]!==r[l]&&(i.added[l]=r[l])}),i}function uf(s){return s==="start"?jo:typeof s=="string"?Gm(s):s}function Gm(s){if(!Ym(s))return{};s=s.replace(/ .+$/,"");const r=s.split("/"),i={};let l=8;for(let a=0;a<8;a++){const d=r[a].split("");let h=0;for(let g=0;g<d.length;g++)if(d[g].search(/[1-8]/)!==-1){const m=parseInt(d[g],10);h=h+m}else{const m=us[h]+l;i[m]=Jm(d[g]),h=h+1}l=l-1}return i}function Ym(s){s=s.replace(/ .+$/,""),s=Xm(s);const r=s.split("/");if(r.length!==8)return!1;for(let i=0;i<8;i++)if(r[i].length!==8||r[i].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function Xm(s){return s.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Jm(s){return s.toLowerCase()===s?"b"+s.toUpperCase():"w"+s.toUpperCase()}const Zm=(s,r=!0,i,l)=>{const[a,d]=x.useState([]),[h,g]=x.useState([]),[m,v]=x.useState();x.useEffect(()=>{Array.isArray(s)&&(_(),d(s==null?void 0:s.filter(E=>E[0]!==E[1])))},[s]),x.useEffect(()=>{i==null||i(h)},[h]);function _(){g([]),v(void 0)}const S=(E,D)=>{r&&v([E,D,l])},w=[...h,...a];return{arrows:w,newArrow:m,clearArrows:_,drawNewArrow:S,setArrows:g,onArrowDrawEnd:(E,D)=>{if(E===D||!r)return;let T;const $=[E,D,l];w.every(([B,X])=>!(B===E&&X===D))?T=[...h,$]:T=h.filter(([B,X])=>!(B===E&&X===D)),v(void 0),g(T)}}},Kf=x.createContext({}),Yn=()=>x.useContext(Kf),e0=x.forwardRef(({allowDragOutsideBoard:s=!0,animationDuration:r=300,areArrowsAllowed:i=!0,arePiecesDraggable:l=!0,arePremovesAllowed:a=!1,autoPromoteToQueen:d=!1,boardOrientation:h="white",boardWidth:g,children:m,clearPremovesOnRightClick:v=!0,customArrows:_,customArrowColor:S="rgb(255,170,0)",customBoardStyle:w,customNotationStyle:R,customDarkSquareStyle:E={backgroundColor:"#B58863"},customDropSquareStyle:D={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:T={backgroundColor:"#F0D9B5"},customPieces:$,customPremoveDarkSquareStyle:z={backgroundColor:"#A42323"},customPremoveLightSquareStyle:B={backgroundColor:"#BD2828"},customSquare:X="div",customSquareStyles:fe,dropOffBoardAction:Oe="snapback",id:Fe=0,isDraggablePiece:je=()=>!0,getPositionObject:Ke=()=>{},onArrowsChange:Ye=()=>{},onDragOverSquare:Xe=()=>{},onMouseOutSquare:be=()=>{},onMouseOverSquare:$e=()=>{},onPieceClick:Qe=()=>{},onPieceDragBegin:Ue=()=>{},onPieceDragEnd:Be=()=>{},onPieceDrop:Ee=()=>!0,onPieceDropOffBoard:G=()=>{},onPromotionCheck:ie=(qe,Ze,Bt)=>(Bt==="wP"&&qe[1]==="7"&&Ze[1]==="8"||Bt==="bP"&&qe[1]==="2"&&Ze[1]==="1")&&Math.abs(qe.charCodeAt(0)-Ze.charCodeAt(0))<=1,onPromotionPieceSelect:Y=()=>!0,onSparePieceDrop:O=()=>!0,onSquareClick:F=()=>{},onSquareRightClick:Z=()=>{},position:de="start",promotionDialogVariant:me="default",promotionToSquare:ve=null,showBoardNotation:J=!0,showPromotionDialog:ye=!1,snapToCursor:_e=!0},Ie)=>{const[qe,Ze]=x.useState(uf(de)),[Bt,En]=x.useState({removed:{},added:{}}),[rn,wt]=x.useState(void 0),[On,sn]=x.useState(ye&&!d),[jn,pt]=x.useState(null),[Gt,Wt]=x.useState(ve),[Ht,on]=x.useState([]),xt=x.useRef(Ht),[ln,It]=x.useState(),[an,Nn]=x.useState(Object.assign(Object.assign({},lf),$)),[Yt,_t]=x.useState(!1),un=x.useRef(),[Vt,Kt]=x.useState(!1),[U,le]=x.useState(null);x.useImperativeHandle(Ie,()=>({clearPremoves(Te=!0){K(Te)}})),x.useEffect(()=>{Nn(Object.assign(Object.assign({},lf),$))},[$]),x.useEffect(()=>{sn(ye),Wt(ve)},[ve,ye]),x.useEffect(()=>{var Te,H,rt;ge();const Pe=uf(de),it=qm(qe,Pe),Tt=((Te=Object.keys(it.added))===null||Te===void 0?void 0:Te.length)<=2?(rt=(H=Object.entries(it.added))===null||H===void 0?void 0:H[0])===null||rt===void 0?void 0:rt[1][0]:void 0;if(Vt)Ze(Pe),Kt(!1),a&&Nt(Tt),un.current&&clearTimeout(un.current);else if(Yt)Ze(Pe),Kt(!1),a&&Nt(Tt);else{af(Pe)&&rn!==void 0?wt(Tt):af(Pe)?wt(void 0):wt("b"),En(it),Kt(!0);const Mt=setTimeout(()=>{Ze(Pe),Kt(!1),a&&Nt(Tt)},r);un.current=Mt}return _t(!1),Ke(Pe),He(),()=>{clearTimeout(un.current)}},[de]);const{arrows:De,newArrow:Ne,clearArrows:He,drawNewArrow:nt,onArrowDrawEnd:dt}=Zm(_,i,Ye,S);function Me(Te,H,rt,Pe){if(Te===H)return;if(He(),a&&Vt||a&&(rn===rt[0]||xt.current.filter(Tt=>Tt.piece[0]===rt[0]).length>0)){const Tt=[...xt.current];Tt.push({sourceSq:Te,targetSq:H,piece:rt}),xt.current=Tt,on([...Tt]),ge();return}if(!a&&Vt)return;const it=Object.assign({},qe);_t(!!Pe),wt(rt[0]),Ee.length?Ee(Te,H,rt)||(K(),_t(!1)):(delete it[Te],it[H]=rt,Ze(it)),ge(),Ke(it)}function Ve(Te){const H=Object.assign({},qe);delete H[Te],Ze(H),Ke(H)}function Nt(Te){if(xt.current.length===0)return;const H=xt.current[0];if(H.piece[0]!==void 0&&H.piece[0]!==Te&&Ee.length)if(wt(H.piece[0]),_t(!0),Ee(H.sourceSq,H.targetSq,H.piece)){const Pe=[...xt.current];Pe.shift(),xt.current=Pe,on([...Pe])}else K()}function I(Te,H){if(!O(Te,H))return;const Pe=Object.assign({},qe);Pe[H]=Te,Ze(Pe),Ke(Pe)}function K(Te=!0){Te&&wt(void 0),xt.current=[],on([])}function ge(){pt(null),Wt(null),sn(!1)}function te(Te){It(Te)}function j(Te){if(ln){if(ln===Te){It(void 0),v&&K(!1),Z(Te);return}}else It(void 0)}function Ce(){It(void 0)}const Le={allowDragOutsideBoard:s,animationDuration:r,arePiecesDraggable:l,arePremovesAllowed:a,arrows:De,autoPromoteToQueen:d,boardOrientation:h,boardWidth:g,chessPieces:an,clearArrows:He,clearCurrentRightClickDown:Ce,currentPosition:qe,currentRightClickDown:ln,customArrowColor:S,customBoardStyle:w,customDarkSquareStyle:E,customDropSquareStyle:D,customLightSquareStyle:T,customNotationStyle:R,customPremoveDarkSquareStyle:z,customPremoveLightSquareStyle:B,customSquare:X,customSquareStyles:fe,deletePieceFromSquare:Ve,drawNewArrow:nt,dropOffBoardAction:Oe,handleSetPosition:Me,handleSparePieceDrop:I,id:Fe,isDraggablePiece:je,isWaitingForAnimation:Vt,lastPieceColour:rn,lastSquareDraggedOver:U,newArrow:Ne,onArrowDrawEnd:dt,onDragOverSquare:Xe,onMouseOutSquare:be,onMouseOverSquare:$e,onPieceClick:Qe,onPieceDragBegin:Ue,onPieceDragEnd:Be,onPieceDrop:Ee,onPieceDropOffBoard:G,onPromotionCheck:ie,onPromotionPieceSelect:Y,onRightClickDown:te,onRightClickUp:j,onSparePieceDrop:O,onSquareClick:F,positionDifferences:Bt,premoves:Ht,promoteFromSquare:jn,promoteToSquare:Gt,promotionDialogVariant:me,setLastSquareDraggedOver:le,setPromoteFromSquare:pt,setPromoteToSquare:Wt,setShowPromoteDialog:sn,showBoardNotation:J,showPromoteDialog:On,snapToCursor:_e};return f.jsx(Kf.Provider,Object.assign({value:Le},{children:m}))});function t0({row:s,col:r}){const{boardOrientation:i,boardWidth:l,customDarkSquareStyle:a,customLightSquareStyle:d,customNotationStyle:h}=Yn(),g=d.backgroundColor,m=a.backgroundColor,v=r===0,_=s===7,S=v&&_;function w(){return i==="white"?8-s:s+1}function R(){return i==="black"?us[7-r]:us[r]}function E(){return f.jsxs(f.Fragment,{children:[f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:g}),df(l,h))},{children:w()})),f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:g}),cf(l,h))},{children:R()}))]})}function D(){return f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:r%2!==0?m:g}),cf(l,h))},{children:R()}))}function T(){return f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},i==="black"?{color:s%2===0?m:g}:{color:s%2===0?m:g}),df(l,h))},{children:w()}))}return S?E():_?D():v?T():null}const cf=(s,r)=>Object.assign({alignSelf:"flex-end",paddingLeft:s/8-s/48,fontSize:s/48},r),df=(s,r)=>Object.assign({alignSelf:"flex-start",paddingRight:s/8-s/48,fontSize:s/48},r),Qf=x.createContext({dragDropManager:void 0});function Cn(s){return"Minified Redux error #"+s+"; visit https://redux.js.org/Errors?code="+s+" for the full message or use the non-minified dev environment for full errors. "}var ff=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),hf=function(){return Math.random().toString(36).substring(7).split("").join(".")},pf={INIT:"@@redux/INIT"+hf(),REPLACE:"@@redux/REPLACE"+hf()};function n0(s){if(typeof s!="object"||s===null)return!1;for(var r=s;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(s)===r}function qf(s,r,i){var l;if(typeof r=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof r=="function"&&typeof i>"u"&&(i=r,r=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Cn(1));return i(qf)(s,r)}if(typeof s!="function")throw new Error(Cn(2));var a=s,d=r,h=[],g=h,m=!1;function v(){g===h&&(g=h.slice())}function _(){if(m)throw new Error(Cn(3));return d}function S(D){if(typeof D!="function")throw new Error(Cn(4));if(m)throw new Error(Cn(5));var T=!0;return v(),g.push(D),function(){if(T){if(m)throw new Error(Cn(6));T=!1,v();var z=g.indexOf(D);g.splice(z,1),h=null}}}function w(D){if(!n0(D))throw new Error(Cn(7));if(typeof D.type>"u")throw new Error(Cn(8));if(m)throw new Error(Cn(9));try{m=!0,d=a(d,D)}finally{m=!1}for(var T=h=g,$=0;$<T.length;$++){var z=T[$];z()}return D}function R(D){if(typeof D!="function")throw new Error(Cn(10));a=D,w({type:pf.REPLACE})}function E(){var D,T=S;return D={subscribe:function(z){if(typeof z!="object"||z===null)throw new Error(Cn(11));function B(){z.next&&z.next(_())}B();var X=T(B);return{unsubscribe:X}}},D[ff]=function(){return this},D}return w({type:pf.INIT}),l={dispatch:w,subscribe:S,getState:_,replaceReducer:R},l[ff]=E,l}function ke(s,r,...i){if(r0()&&r===void 0)throw new Error("invariant requires an error message argument");if(!s){let l;if(r===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;l=new Error(r.replace(/%s/g,function(){return i[a++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}function r0(){return typeof process<"u"&&!0}function i0(s,r,i){return r.split(".").reduce((l,a)=>l&&l[a]?l[a]:i||null,s)}function s0(s,r){return s.filter(i=>i!==r)}function Gf(s){return typeof s=="object"}function o0(s,r){const i=new Map,l=d=>{i.set(d,i.has(d)?i.get(d)+1:1)};s.forEach(l),r.forEach(l);const a=[];return i.forEach((d,h)=>{d===1&&a.push(h)}),a}function l0(s,r){return s.filter(i=>r.indexOf(i)>-1)}const au="dnd-core/INIT_COORDS",Ao="dnd-core/BEGIN_DRAG",uu="dnd-core/PUBLISH_DRAG_SOURCE",$o="dnd-core/HOVER",zo="dnd-core/DROP",Fo="dnd-core/END_DRAG";function gf(s,r){return{type:au,payload:{sourceClientOffset:r||null,clientOffset:s||null}}}const a0={type:au,payload:{clientOffset:null,sourceClientOffset:null}};function u0(s){return function(i=[],l={publishSource:!0}){const{publishSource:a=!0,clientOffset:d,getSourceClientOffset:h}=l,g=s.getMonitor(),m=s.getRegistry();s.dispatch(gf(d)),c0(i,g,m);const v=h0(i,g);if(v==null){s.dispatch(a0);return}let _=null;if(d){if(!h)throw new Error("getSourceClientOffset must be defined");d0(h),_=h(v)}s.dispatch(gf(d,_));const w=m.getSource(v).beginDrag(g,v);if(w==null)return;f0(w),m.pinSource(v);const R=m.getSourceType(v);return{type:Ao,payload:{itemType:R,item:w,sourceId:v,clientOffset:d||null,sourceClientOffset:_||null,isSourcePublic:!!a}}}}function c0(s,r,i){ke(!r.isDragging(),"Cannot call beginDrag while dragging."),s.forEach(function(l){ke(i.getSource(l),"Expected sourceIds to be registered.")})}function d0(s){ke(typeof s=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function f0(s){ke(Gf(s),"Item must be an object.")}function h0(s,r){let i=null;for(let l=s.length-1;l>=0;l--)if(r.canDragSource(s[l])){i=s[l];break}return i}function p0(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function g0(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){p0(s,a,i[a])})}return s}function m0(s){return function(i={}){const l=s.getMonitor(),a=s.getRegistry();v0(l),w0(l).forEach((h,g)=>{const m=y0(h,g,a,l),v={type:zo,payload:{dropResult:g0({},i,m)}};s.dispatch(v)})}}function v0(s){ke(s.isDragging(),"Cannot call drop while not dragging."),ke(!s.didDrop(),"Cannot call drop twice during one drag operation.")}function y0(s,r,i,l){const a=i.getTarget(s);let d=a?a.drop(l,s):void 0;return S0(d),typeof d>"u"&&(d=r===0?{}:l.getDropResult()),d}function S0(s){ke(typeof s>"u"||Gf(s),"Drop result must either be an object or undefined.")}function w0(s){const r=s.getTargetIds().filter(s.canDropOnTarget,s);return r.reverse(),r}function x0(s){return function(){const i=s.getMonitor(),l=s.getRegistry();_0(i);const a=i.getSourceId();return a!=null&&(l.getSource(a,!0).endDrag(i,a),l.unpinSource()),{type:Fo}}}function _0(s){ke(s.isDragging(),"Cannot call endDrag while not dragging.")}function Ja(s,r){return r===null?s===null:Array.isArray(s)?s.some(i=>i===r):s===r}function C0(s){return function(i,{clientOffset:l}={}){k0(i);const a=i.slice(0),d=s.getMonitor(),h=s.getRegistry(),g=d.getItemType();return O0(a,h,g),E0(a,d,h),j0(a,d,h),{type:$o,payload:{targetIds:a,clientOffset:l||null}}}}function k0(s){ke(Array.isArray(s),"Expected targetIds to be an array.")}function E0(s,r,i){ke(r.isDragging(),"Cannot call hover while not dragging."),ke(!r.didDrop(),"Cannot call hover after drop.");for(let l=0;l<s.length;l++){const a=s[l];ke(s.lastIndexOf(a)===l,"Expected targetIds to be unique in the passed array.");const d=i.getTarget(a);ke(d,"Expected targetIds to be registered.")}}function O0(s,r,i){for(let l=s.length-1;l>=0;l--){const a=s[l],d=r.getTargetType(a);Ja(d,i)||s.splice(l,1)}}function j0(s,r,i){s.forEach(function(l){i.getTarget(l).hover(r,l)})}function N0(s){return function(){if(s.getMonitor().isDragging())return{type:uu}}}function T0(s){return{beginDrag:u0(s),publishDragSource:N0(s),hover:C0(s),drop:m0(s),endDrag:x0(s)}}class P0{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const r=this,{dispatch:i}=this.store;function l(d){return(...h)=>{const g=d.apply(r,h);typeof g<"u"&&i(g)}}const a=T0(this);return Object.keys(a).reduce((d,h)=>{const g=a[h];return d[h]=l(g),d},{})}dispatch(r){this.store.dispatch(r)}constructor(r,i){this.isSetUp=!1,this.handleRefCountChange=()=>{const l=this.store.getState().refCount>0;this.backend&&(l&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!l&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=i,r.subscribe(this.handleRefCountChange)}}function D0(s,r){return{x:s.x+r.x,y:s.y+r.y}}function Yf(s,r){return{x:s.x-r.x,y:s.y-r.y}}function L0(s){const{clientOffset:r,initialClientOffset:i,initialSourceClientOffset:l}=s;return!r||!i||!l?null:Yf(D0(r,l),i)}function R0(s){const{clientOffset:r,initialClientOffset:i}=s;return!r||!i?null:Yf(r,i)}const rs=[],cu=[];rs.__IS_NONE__=!0;cu.__IS_ALL__=!0;function b0(s,r){return s===rs?!1:s===cu||typeof r>"u"?!0:l0(r,s).length>0}class I0{subscribeToStateChange(r,i={}){const{handlerIds:l}=i;ke(typeof r=="function","listener must be a function."),ke(typeof l>"u"||Array.isArray(l),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const d=()=>{const h=this.store.getState(),g=h.stateId;try{g===a||g===a+1&&!b0(h.dirtyHandlerIds,l)||r()}finally{a=g}};return this.store.subscribe(d)}subscribeToOffsetChange(r){ke(typeof r=="function","listener must be a function.");let i=this.store.getState().dragOffset;const l=()=>{const a=this.store.getState().dragOffset;a!==i&&(i=a,r())};return this.store.subscribe(l)}canDragSource(r){if(!r)return!1;const i=this.registry.getSource(r);return ke(i,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:i.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;const i=this.registry.getTarget(r);if(ke(i,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;const l=this.registry.getTargetType(r),a=this.getItemType();return Ja(l,a)&&i.canDrop(this,r)}isDragging(){return!!this.getItemType()}isDraggingSource(r){if(!r)return!1;const i=this.registry.getSource(r,!0);if(ke(i,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;const l=this.registry.getSourceType(r),a=this.getItemType();return l!==a?!1:i.isDragging(this,r)}isOverTarget(r,i={shallow:!1}){if(!r)return!1;const{shallow:l}=i;if(!this.isDragging())return!1;const a=this.registry.getTargetType(r),d=this.getItemType();if(d&&!Ja(a,d))return!1;const h=this.getTargetIds();if(!h.length)return!1;const g=h.indexOf(r);return l?g===h.length-1:g>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return L0(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return R0(this.store.getState().dragOffset)}constructor(r,i){this.store=r,this.registry=i}}const mf=typeof global<"u"?global:self,Xf=mf.MutationObserver||mf.WebKitMutationObserver;function Jf(s){return function(){const i=setTimeout(a,0),l=setInterval(a,50);function a(){clearTimeout(i),clearInterval(l),s()}}}function M0(s){let r=1;const i=new Xf(s),l=document.createTextNode("");return i.observe(l,{characterData:!0}),function(){r=-r,l.data=r}}const A0=typeof Xf=="function"?M0:Jf;class $0{enqueueTask(r){const{queue:i,requestFlush:l}=this;i.length||(l(),this.flushing=!0),i[i.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const i=this.index;if(this.index++,r[i].call(),this.index>this.capacity){for(let l=0,a=r.length-this.index;l<a;l++)r[l]=r[l+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=A0(this.flush),this.requestErrorThrow=Jf(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class z0{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,i){this.onError=r,this.release=i,this.task=null}}class F0{create(r){const i=this.freeTasks,l=i.length?i.pop():new z0(this.onError,a=>i[i.length]=a);return l.task=r,l}constructor(r){this.onError=r,this.freeTasks=[]}}const Zf=new $0,U0=new F0(Zf.registerPendingError);function B0(s){Zf.enqueueTask(U0.create(s))}const du="dnd-core/ADD_SOURCE",fu="dnd-core/ADD_TARGET",hu="dnd-core/REMOVE_SOURCE",Uo="dnd-core/REMOVE_TARGET";function W0(s){return{type:du,payload:{sourceId:s}}}function H0(s){return{type:fu,payload:{targetId:s}}}function V0(s){return{type:hu,payload:{sourceId:s}}}function K0(s){return{type:Uo,payload:{targetId:s}}}function Q0(s){ke(typeof s.canDrag=="function","Expected canDrag to be a function."),ke(typeof s.beginDrag=="function","Expected beginDrag to be a function."),ke(typeof s.endDrag=="function","Expected endDrag to be a function.")}function q0(s){ke(typeof s.canDrop=="function","Expected canDrop to be a function."),ke(typeof s.hover=="function","Expected hover to be a function."),ke(typeof s.drop=="function","Expected beginDrag to be a function.")}function Za(s,r){if(r&&Array.isArray(s)){s.forEach(i=>Za(i,!1));return}ke(typeof s=="string"||typeof s=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var kn;(function(s){s.SOURCE="SOURCE",s.TARGET="TARGET"})(kn||(kn={}));let G0=0;function Y0(){return G0++}function X0(s){const r=Y0().toString();switch(s){case kn.SOURCE:return`S${r}`;case kn.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${s}`)}}function vf(s){switch(s[0]){case"S":return kn.SOURCE;case"T":return kn.TARGET;default:throw new Error(`Cannot parse handler ID: ${s}`)}}function yf(s,r){const i=s.entries();let l=!1;do{const{done:a,value:[,d]}=i.next();if(d===r)return!0;l=!!a}while(!l);return!1}class J0{addSource(r,i){Za(r),Q0(i);const l=this.addHandler(kn.SOURCE,r,i);return this.store.dispatch(W0(l)),l}addTarget(r,i){Za(r,!0),q0(i);const l=this.addHandler(kn.TARGET,r,i);return this.store.dispatch(H0(l)),l}containsHandler(r){return yf(this.dragSources,r)||yf(this.dropTargets,r)}getSource(r,i=!1){return ke(this.isSourceId(r),"Expected a valid source ID."),i&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return ke(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return ke(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return ke(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return vf(r)===kn.SOURCE}isTargetId(r){return vf(r)===kn.TARGET}removeSource(r){ke(this.getSource(r),"Expected an existing source."),this.store.dispatch(V0(r)),B0(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){ke(this.getTarget(r),"Expected an existing target."),this.store.dispatch(K0(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){const i=this.getSource(r);ke(i,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=i}unpinSource(){ke(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,i,l){const a=X0(r);return this.types.set(a,i),r===kn.SOURCE?this.dragSources.set(a,l):r===kn.TARGET&&this.dropTargets.set(a,l),a}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}}const Z0=(s,r)=>s===r;function ev(s,r){return!s&&!r?!0:!s||!r?!1:s.x===r.x&&s.y===r.y}function tv(s,r,i=Z0){if(s.length!==r.length)return!1;for(let l=0;l<s.length;++l)if(!i(s[l],r[l]))return!1;return!0}function nv(s=rs,r){switch(r.type){case $o:break;case du:case fu:case Uo:case hu:return rs;case Ao:case uu:case Fo:case zo:default:return cu}const{targetIds:i=[],prevTargetIds:l=[]}=r.payload,a=o0(i,l);if(!(a.length>0||!tv(i,l)))return rs;const h=l[l.length-1],g=i[i.length-1];return h!==g&&(h&&a.push(h),g&&a.push(g)),a}function rv(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function iv(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){rv(s,a,i[a])})}return s}const Sf={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function sv(s=Sf,r){const{payload:i}=r;switch(r.type){case au:case Ao:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case $o:return ev(s.clientOffset,i.clientOffset)?s:iv({},s,{clientOffset:i.clientOffset});case Fo:case zo:return Sf;default:return s}}function ov(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function di(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){ov(s,a,i[a])})}return s}const lv={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function av(s=lv,r){const{payload:i}=r;switch(r.type){case Ao:return di({},s,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case uu:return di({},s,{isSourcePublic:!0});case $o:return di({},s,{targetIds:i.targetIds});case Uo:return s.targetIds.indexOf(i.targetId)===-1?s:di({},s,{targetIds:s0(s.targetIds,i.targetId)});case zo:return di({},s,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case Fo:return di({},s,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return s}}function uv(s=0,r){switch(r.type){case du:case fu:return s+1;case hu:case Uo:return s-1;default:return s}}function cv(s=0){return s+1}function dv(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function fv(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){dv(s,a,i[a])})}return s}function hv(s={},r){return{dirtyHandlerIds:nv(s.dirtyHandlerIds,{type:r.type,payload:fv({},r.payload,{prevTargetIds:i0(s,"dragOperation.targetIds",[])})}),dragOffset:sv(s.dragOffset,r),refCount:uv(s.refCount,r),dragOperation:av(s.dragOperation,r),stateId:cv(s.stateId)}}function pv(s,r=void 0,i={},l=!1){const a=gv(l),d=new I0(a,new J0(a)),h=new P0(a,d),g=s(h,r,i);return h.receiveBackend(g),h}function gv(s){const r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return qf(hv,s&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}function mv(s,r){if(s==null)return{};var i=vv(s,r),l,a;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(a=0;a<d.length;a++)l=d[a],!(r.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(s,l)&&(i[l]=s[l])}return i}function vv(s,r){if(s==null)return{};var i={},l=Object.keys(s),a,d;for(d=0;d<l.length;d++)a=l[d],!(r.indexOf(a)>=0)&&(i[a]=s[a]);return i}let wf=0;const No=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var yv=x.memo(function(r){var{children:i}=r,l=mv(r,["children"]);const[a,d]=Sv(l);return x.useEffect(()=>{if(d){const h=eh();return++wf,()=>{--wf===0&&(h[No]=null)}}},[]),f.jsx(Qf.Provider,{value:a,children:i})});function Sv(s){if("manager"in s)return[{dragDropManager:s.manager},!1];const r=wv(s.backend,s.context,s.options,s.debugMode),i=!s.context;return[r,i]}function wv(s,r=eh(),i,l){const a=r;return a[No]||(a[No]={dragDropManager:pv(s,r,i,l)}),a[No]}function eh(){return typeof global<"u"?global:window}var xv=function s(r,i){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(r.constructor!==i.constructor)return!1;var l,a,d;if(Array.isArray(r)){if(l=r.length,l!=i.length)return!1;for(a=l;a--!==0;)if(!s(r[a],i[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if(d=Object.keys(r),l=d.length,l!==Object.keys(i).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,d[a]))return!1;for(a=l;a--!==0;){var h=d[a];if(!s(r[h],i[h]))return!1}return!0}return r!==r&&i!==i};const Fr=typeof window<"u"?x.useLayoutEffect:x.useEffect;function th(s,r,i){const[l,a]=x.useState(()=>r(s)),d=x.useCallback(()=>{const h=r(s);xv(l,h)||(a(h),i&&i())},[l,s,i]);return Fr(d),[l,d]}function _v(s,r,i){const[l,a]=th(s,r,i);return Fr(function(){const h=s.getHandlerId();if(h!=null)return s.subscribeToStateChange(a,{handlerIds:[h]})},[s,a]),l}function nh(s,r,i){return _v(r,s||(()=>({})),()=>i.reconnect())}function rh(s,r){const i=[...r||[]];return r==null&&typeof s!="function"&&i.push(s),x.useMemo(()=>typeof s=="function"?s():s,i)}function Cv(s){return x.useMemo(()=>s.hooks.dragSource(),[s])}function kv(s){return x.useMemo(()=>s.hooks.dragPreview(),[s])}let Aa=!1,$a=!1;class Ev{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){ke(!Aa,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Aa=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Aa=!1}}isDragging(){if(!this.sourceId)return!1;ke(!$a,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $a=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$a=!1}}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,i){return this.internalMonitor.isOverTarget(r,i)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let za=!1;class Ov{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}canDrop(){if(!this.targetId)return!1;ke(!za,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return za=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{za=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function jv(s,r,i){const l=i.getRegistry(),a=l.addTarget(s,r);return[a,()=>l.removeTarget(a)]}function Nv(s,r,i){const l=i.getRegistry(),a=l.addSource(s,r);return[a,()=>l.removeSource(a)]}function eu(s,r,i,l){let a;if(a!==void 0)return!!a;if(s===r)return!0;if(typeof s!="object"||!s||typeof r!="object"||!r)return!1;const d=Object.keys(s),h=Object.keys(r);if(d.length!==h.length)return!1;const g=Object.prototype.hasOwnProperty.bind(r);for(let m=0;m<d.length;m++){const v=d[m];if(!g(v))return!1;const _=s[v],S=r[v];if(a=void 0,a===!1||a===void 0&&_!==S)return!1}return!0}function tu(s){return s!==null&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Tv(s){if(typeof s.type=="string")return;const r=s.type.displayName||s.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function Pv(s){return(r=null,i=null)=>{if(!x.isValidElement(r)){const d=r;return s(d,i),d}const l=r;return Tv(l),Dv(l,i?d=>s(d,i):s)}}function ih(s){const r={};return Object.keys(s).forEach(i=>{const l=s[i];if(i.endsWith("Ref"))r[i]=s[i];else{const a=Pv(l);r[i]=()=>a}}),r}function xf(s,r){typeof s=="function"?s(r):s.current=r}function Dv(s,r){const i=s.ref;return ke(typeof i!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?x.cloneElement(s,{ref:l=>{xf(i,l),xf(r,l)}}):x.cloneElement(s,{ref:r})}class Lv{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?r?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),i):(this.lastConnectedDragSource=r,i):i}reconnectDragPreview(r=!1){const i=this.dragPreview,l=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(l&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}l&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!eu(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!eu(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=ih({dragSource:(i,l)=>{this.clearDragSource(),this.dragSourceOptions=l||null,tu(i)?this.dragSourceRef=i:this.dragSourceNode=i,this.reconnectDragSource()},dragPreview:(i,l)=>{this.clearDragPreview(),this.dragPreviewOptions=l||null,tu(i)?this.dragPreviewRef=i:this.dragPreviewNode=i,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class Rv{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!eu(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=ih({dropTarget:(i,l)=>{this.clearDropTarget(),this.dropTargetOptions=l,tu(i)?this.dropTargetRef=i:this.dropTargetNode=i,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}function Br(){const{dragDropManager:s}=x.useContext(Qf);return ke(s!=null,"Expected drag drop context"),s}function bv(s,r){const i=Br(),l=x.useMemo(()=>new Lv(i.getBackend()),[i]);return Fr(()=>(l.dragSourceOptions=s||null,l.reconnect(),()=>l.disconnectDragSource()),[l,s]),Fr(()=>(l.dragPreviewOptions=r||null,l.reconnect(),()=>l.disconnectDragPreview()),[l,r]),l}function Iv(){const s=Br();return x.useMemo(()=>new Ev(s),[s])}class Mv{beginDrag(){const r=this.spec,i=this.monitor;let l=null;return typeof r.item=="object"?l=r.item:typeof r.item=="function"?l=r.item(i):l={},l??null}canDrag(){const r=this.spec,i=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(i):!0}isDragging(r,i){const l=this.spec,a=this.monitor,{isDragging:d}=l;return d?d(a):i===r.getSourceId()}endDrag(){const r=this.spec,i=this.monitor,l=this.connector,{end:a}=r;a&&a(i.getItem(),i),l.reconnect()}constructor(r,i,l){this.spec=r,this.monitor=i,this.connector=l}}function Av(s,r,i){const l=x.useMemo(()=>new Mv(s,r,i),[r,i]);return x.useEffect(()=>{l.spec=s},[s]),l}function $v(s){return x.useMemo(()=>{const r=s.type;return ke(r!=null,"spec.type must be defined"),r},[s])}function zv(s,r,i){const l=Br(),a=Av(s,r,i),d=$v(s);Fr(function(){if(d!=null){const[g,m]=Nv(d,a,l);return r.receiveHandlerId(g),i.receiveHandlerId(g),m}},[l,r,i,a,d])}function Fv(s,r){const i=rh(s,r);ke(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const l=Iv(),a=bv(i.options,i.previewOptions);return zv(i,l,a),[nh(i.collect,l,a),Cv(a),kv(a)]}function Uv(s){const i=Br().getMonitor(),[l,a]=th(i,s);return x.useEffect(()=>i.subscribeToOffsetChange(a)),x.useEffect(()=>i.subscribeToStateChange(a)),l}function Bv(s){return x.useMemo(()=>s.hooks.dropTarget(),[s])}function Wv(s){const r=Br(),i=x.useMemo(()=>new Rv(r.getBackend()),[r]);return Fr(()=>(i.dropTargetOptions=s||null,i.reconnect(),()=>i.disconnectDropTarget()),[s]),i}function Hv(){const s=Br();return x.useMemo(()=>new Ov(s),[s])}function Vv(s){const{accept:r}=s;return x.useMemo(()=>(ke(s.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class Kv{canDrop(){const r=this.spec,i=this.monitor;return r.canDrop?r.canDrop(i.getItem(),i):!0}hover(){const r=this.spec,i=this.monitor;r.hover&&r.hover(i.getItem(),i)}drop(){const r=this.spec,i=this.monitor;if(r.drop)return r.drop(i.getItem(),i)}constructor(r,i){this.spec=r,this.monitor=i}}function Qv(s,r){const i=x.useMemo(()=>new Kv(s,r),[r]);return x.useEffect(()=>{i.spec=s},[s]),i}function qv(s,r,i){const l=Br(),a=Qv(s,r),d=Vv(s);Fr(function(){const[g,m]=jv(d,a,l);return r.receiveHandlerId(g),i.receiveHandlerId(g),m},[l,r,a,i,d.map(h=>h.toString()).join("|")])}function Gv(s,r){const i=rh(s,r),l=Hv(),a=Wv(i.options);return qv(i,l,a),[nh(i.collect,l,a),Bv(a)]}function sh(s){let r=null;return()=>(r==null&&(r=s()),r)}function Yv(s,r){return s.filter(i=>i!==r)}function Xv(s,r){const i=new Set,l=d=>i.add(d);s.forEach(l),r.forEach(l);const a=[];return i.forEach(d=>a.push(d)),a}class Jv{enter(r){const i=this.entered.length,l=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(r));return this.entered=Xv(this.entered.filter(l),[r]),i===0&&this.entered.length>0}leave(r){const i=this.entered.length;return this.entered=Yv(this.entered.filter(this.isNodeInDocument),r),i>0&&this.entered.length===0}reset(){this.entered=[]}constructor(r){this.entered=[],this.isNodeInDocument=r}}class Zv{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(r=>{Object.defineProperty(this.item,r,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${r}" until the drop event.`),null}})})}loadDataTransfer(r){if(r){const i={};Object.keys(this.config.exposeProperties).forEach(l=>{const a=this.config.exposeProperties[l];a!=null&&(i[l]={value:a(r,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,i)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(r,i){return i===r.getSourceId()}endDrag(){}constructor(r){this.config=r,this.item={},this.initializeExposedProperties()}}const oh="__NATIVE_FILE__",lh="__NATIVE_URL__",ah="__NATIVE_TEXT__",uh="__NATIVE_HTML__";var _f=Object.freeze({__proto__:null,FILE:oh,HTML:uh,TEXT:ah,URL:lh});function Fa(s,r,i){const l=r.reduce((a,d)=>a||s.getData(d),"");return l??i}const nu={[oh]:{exposeProperties:{files:s=>Array.prototype.slice.call(s.files),items:s=>s.items,dataTransfer:s=>s},matchesTypes:["Files"]},[uh]:{exposeProperties:{html:(s,r)=>Fa(s,r,""),dataTransfer:s=>s},matchesTypes:["Html","text/html"]},[lh]:{exposeProperties:{urls:(s,r)=>Fa(s,r,"").split(`
`),dataTransfer:s=>s},matchesTypes:["Url","text/uri-list"]},[ah]:{exposeProperties:{text:(s,r)=>Fa(s,r,""),dataTransfer:s=>s},matchesTypes:["Text","text/plain"]}};function ey(s,r){const i=nu[s];if(!i)throw new Error(`native type ${s} has no configuration`);const l=new Zv(i);return l.loadDataTransfer(r),l}function Ua(s){if(!s)return null;const r=Array.prototype.slice.call(s.types||[]);return Object.keys(nu).filter(i=>{const l=nu[i];return l!=null&&l.matchesTypes?l.matchesTypes.some(a=>r.indexOf(a)>-1):!1})[0]||null}const ty=sh(()=>/firefox/i.test(navigator.userAgent)),ch=sh(()=>!!window.safari);class Cf{interpolate(r){const{xs:i,ys:l,c1s:a,c2s:d,c3s:h}=this;let g=i.length-1;if(r===i[g])return l[g];let m=0,v=h.length-1,_;for(;m<=v;){_=Math.floor(.5*(m+v));const R=i[_];if(R<r)m=_+1;else if(R>r)v=_-1;else return l[_]}g=Math.max(0,v);const S=r-i[g],w=S*S;return l[g]+a[g]*S+d[g]*w+h[g]*S*w}constructor(r,i){const{length:l}=r,a=[];for(let R=0;R<l;R++)a.push(R);a.sort((R,E)=>r[R]<r[E]?-1:1);const d=[],h=[];let g,m;for(let R=0;R<l-1;R++)g=r[R+1]-r[R],m=i[R+1]-i[R],d.push(g),h.push(m/g);const v=[h[0]];for(let R=0;R<d.length-1;R++){const E=h[R],D=h[R+1];if(E*D<=0)v.push(0);else{g=d[R];const T=d[R+1],$=g+T;v.push(3*$/(($+T)/E+($+g)/D))}}v.push(h[h.length-1]);const _=[],S=[];let w;for(let R=0;R<v.length-1;R++){w=h[R];const E=v[R],D=1/d[R],T=E+v[R+1]-w-w;_.push((w-E-T)*D),S.push(T*D*D)}this.xs=r,this.ys=i,this.c1s=v,this.c2s=_,this.c3s=S}}const ny=1;function dh(s){const r=s.nodeType===ny?s:s.parentElement;if(!r)return null;const{top:i,left:l}=r.getBoundingClientRect();return{x:l,y:i}}function Co(s){return{x:s.clientX,y:s.clientY}}function ry(s){var r;return s.nodeName==="IMG"&&(ty()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(s)))}function iy(s,r,i,l){let a=s?r.width:i,d=s?r.height:l;return ch()&&s&&(d/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:d}}function sy(s,r,i,l,a){const d=ry(r),g=dh(d?s:r),m={x:i.x-g.x,y:i.y-g.y},{offsetWidth:v,offsetHeight:_}=s,{anchorX:S,anchorY:w}=l,{dragPreviewWidth:R,dragPreviewHeight:E}=iy(d,r,v,_),D=()=>{let Oe=new Cf([0,.5,1],[m.y,m.y/_*E,m.y+E-_]).interpolate(w);return ch()&&d&&(Oe+=(window.devicePixelRatio-1)*E),Oe},T=()=>new Cf([0,.5,1],[m.x,m.x/v*R,m.x+R-v]).interpolate(S),{offsetX:$,offsetY:z}=a,B=$===0||$,X=z===0||z;return{x:B?$:T(),y:X?z:D()}}let oy=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var r;return!((r=this.globalContext)===null||r===void 0)&&r.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}constructor(r,i){this.ownerDocument=null,this.globalContext=r,this.optionsArgs=i}};function ly(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function kf(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){ly(s,a,i[a])})}return s}class ay{profile(){var r,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}teardown(){const r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var i;(i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(r,i,l){return this.sourcePreviewNodeOptions.set(r,l),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDragSource(r,i,l){this.sourceNodes.set(r,i),this.sourceNodeOptions.set(r,l);const a=h=>this.handleDragStart(h,r),d=h=>this.handleSelectStart(h);return i.setAttribute("draggable","true"),i.addEventListener("dragstart",a),i.addEventListener("selectstart",d),()=>{this.sourceNodes.delete(r),this.sourceNodeOptions.delete(r),i.removeEventListener("dragstart",a),i.removeEventListener("selectstart",d),i.setAttribute("draggable","false")}}connectDropTarget(r,i){const l=h=>this.handleDragEnter(h,r),a=h=>this.handleDragOver(h,r),d=h=>this.handleDrop(h,r);return i.addEventListener("dragenter",l),i.addEventListener("dragover",a),i.addEventListener("drop",d),()=>{i.removeEventListener("dragenter",l),i.removeEventListener("dragover",a),i.removeEventListener("drop",d)}}addEventListeners(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(r);return kf({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourcePreviewNodeOptions.get(r);return kf({anchorX:.5,anchorY:.5,captureDraggingState:!1},i||{})}isDraggingNativeItem(){const r=this.monitor.getItemType();return Object.keys(_f).some(i=>_f[i]===r)}beginDragNativeItem(r,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=ey(r,i),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(r){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;const i=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var l;return(l=this.rootElement)===null||l===void 0?void 0:l.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},i)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(r,i){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}handleDragEnter(r,i){this.dragEnterTargetIds.unshift(i)}handleDragOver(r,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}handleDrop(r,i){this.dropTargetIds.unshift(i)}constructor(r,i,l){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const d=this.sourceNodes.get(a);return d&&dh(d)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:d}=this;this.dragStartSourceIds=null;const h=Co(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(d||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:g}=a,m=Ua(g);if(this.monitor.isDragging()){if(g&&typeof g.setDragImage=="function"){const _=this.monitor.getSourceId(),S=this.sourceNodes.get(_),w=this.sourcePreviewNodes.get(_)||S;if(w){const{anchorX:R,anchorY:E,offsetX:D,offsetY:T}=this.getCurrentSourcePreviewNodeOptions(),B=sy(S,w,h,{anchorX:R,anchorY:E},{offsetX:D,offsetY:T});g.setDragImage(w,B.x,B.y)}}try{g==null||g.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:v}=this.getCurrentSourcePreviewNodeOptions();v?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(g&&!g.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:g}=a,m=Ua(g);m&&this.beginDragNativeItem(m,g)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:d}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,d.length>0&&this.actions.hover(d,{clientOffset:Co(a)}),d.some(g=>this.monitor.canDropOnTarget(g))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:d}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=Co(a),this.scheduleHover(d),(d||[]).some(g=>this.monitor.canDropOnTarget(g))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var d;a.preventDefault(),(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(a.dataTransfer)}else Ua(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:d}=this;this.dropTargetIds=[],this.actions.hover(d,{clientOffset:Co(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const d=a.target;typeof d.dragDrop=="function"&&(d.tagName==="INPUT"||d.tagName==="SELECT"||d.tagName==="TEXTAREA"||d.isContentEditable||(a.preventDefault(),d.dragDrop()))},this.options=new oy(i,l),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new Jv(this.isNodeInDocument)}}let ko;function uy(){return ko||(ko=new Image,ko.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ko}const cy=function(r,i,l){return new ay(r,i,l)};function Ef({isPremovedPiece:s=!1,piece:r,square:i,squares:l}){const{animationDuration:a,arePiecesDraggable:d,boardWidth:h,boardOrientation:g,chessPieces:m,currentPosition:v,deletePieceFromSquare:_,dropOffBoardAction:S,id:w,isDraggablePiece:R,isWaitingForAnimation:E,onPieceClick:D,onPieceDragBegin:T,onPieceDragEnd:$,onPieceDropOffBoard:z,onPromotionCheck:B,positionDifferences:X}=Yn(),[fe,Oe]=x.useState({opacity:1,zIndex:5,touchAction:"none",cursor:d&&R({piece:r,sourceSquare:i})?"-webkit-grab":"default"}),[{canDrag:Fe,isDragging:je},Ke,Ye]=Fv(()=>({type:"piece",item:()=>(T(r,i),{piece:r,square:i,id:w}),end:(be,$e)=>{$(r,i),!$e.didDrop()&&(S==="trash"&&_(i),z==null||z(i,r))},collect:be=>({canDrag:R({piece:r,sourceSquare:i}),isDragging:!!be.isDragging()})}),[r,i,v,w]);Ye(uy(),{captureDraggingState:!0}),x.useEffect(()=>{Oe(be=>Object.assign(Object.assign({},be),{opacity:je?0:1}))},[je]),x.useEffect(()=>{var be;const $e=(be=X.removed)===null||be===void 0?void 0:be[i];if(!X.added||!$e)return;const Qe=Object.entries(X.added).find(([Ue,Be])=>Be===$e||B(i,Ue,$e));if(E&&$e&&Qe&&!s){const Ue=i,Be=Qe[0];if(Ue&&Be){const Ee=h/8;Oe(G=>Object.assign(Object.assign({},G),{transform:`translate(${(g==="black"?-1:1)*(Be.charCodeAt(0)-Ue.charCodeAt(0))*Ee}px, ${(g==="black"?-1:1)*(Number(Ue[1])-Number(Be[1]))*Ee}px)`,transition:`transform ${a}ms`,zIndex:6}))}}},[X]),x.useEffect(()=>{const{sourceSq:be}=Xe();be&&Oe($e=>Object.assign(Object.assign({},$e),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[v]),x.useEffect(()=>{Oe(be=>Object.assign(Object.assign({},be),{cursor:d&&R({piece:r,sourceSquare:i})?"-webkit-grab":"default"}))},[i,v,d]);function Xe(){return{sourceSq:l[i]}}return f.jsx("div",Object.assign({ref:d&&Fe?Ke:null,onClick:()=>D(r,i),"data-piece":r,style:fe},{children:typeof m[r]=="function"?m[r]({squareWidth:h/8,isDragging:je,square:i}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:h/8,height:h/8,style:{display:"block"}},{children:f.jsx("g",{children:m[r]})}))}))}function dy({square:s,squareColor:r,setSquares:i,squareHasPremove:l,children:a}){const d=x.useRef(null),{autoPromoteToQueen:h,boardWidth:g,boardOrientation:m,clearArrows:v,currentPosition:_,currentRightClickDown:S,customBoardStyle:w,customDarkSquareStyle:R,customDropSquareStyle:E,customLightSquareStyle:D,customPremoveDarkSquareStyle:T,customPremoveLightSquareStyle:$,customSquare:z,customSquareStyles:B,drawNewArrow:X,handleSetPosition:fe,handleSparePieceDrop:Oe,isWaitingForAnimation:Fe,lastPieceColour:je,lastSquareDraggedOver:Ke,onArrowDrawEnd:Ye,onDragOverSquare:Xe,onMouseOutSquare:be,onMouseOverSquare:$e,onPieceDrop:Qe,onPromotionCheck:Ue,onRightClickDown:Be,onRightClickUp:Ee,onSquareClick:G,setLastSquareDraggedOver:ie,setPromoteFromSquare:Y,setPromoteToSquare:O,setShowPromoteDialog:F}=Yn(),[{isOver:Z},de]=Gv(()=>({accept:"piece",drop:me,collect:J=>({isOver:!!J.isOver()})}),[s,_,Qe,Fe,je]);function me(J){if(J.isSpare){Oe(J.piece,s);return}Ue(J.square,s,J.piece)?h?fe(J.square,s,J.piece[0]==="w"?"wQ":"bQ"):(Y(J.square),O(s),F(!0)):fe(J.square,s,J.piece,!0)}x.useEffect(()=>{if(d.current){const{x:J,y:ye}=d.current.getBoundingClientRect();i(_e=>Object.assign(Object.assign({},_e),{[s]:{x:J,y:ye}}))}},[g,m]);const ve=Object.assign(Object.assign(Object.assign(Object.assign({},fy(s,m,w)),r==="black"?R:D),l&&(r==="black"?T:$)),Z&&E);return f.jsx("div",Object.assign({ref:de,style:ve,"data-square-color":r,"data-square":s,onTouchMove:J=>{var ye;const _e=J.touches[0],Ie=document.elementsFromPoint(_e.clientX,_e.clientY),qe=(ye=Ie==null?void 0:Ie.find(Ze=>Ze.getAttribute("data-square")))===null||ye===void 0?void 0:ye.getAttribute("data-square");qe&&qe!==Ke&&(ie(qe),Xe(qe))},onMouseOver:J=>{J.buttons===2&&S&&X(S,s),!(J.relatedTarget&&J.currentTarget.contains(J.relatedTarget))&&$e(s)},onMouseOut:J=>{J.relatedTarget&&J.currentTarget.contains(J.relatedTarget)||be(s)},onMouseDown:J=>{J.button===2&&Be(s)},onMouseUp:J=>{J.button===2&&(S&&Ye(S,s),Ee(s))},onDragEnter:()=>Xe(s),onClick:()=>{const J=_[s];G(s,J),v()},onContextMenu:J=>{J.preventDefault()}},{children:typeof z=="string"?f.jsx(z,Object.assign({ref:d,style:Object.assign(Object.assign(Object.assign({},jf(g)),Of),!l&&(B==null?void 0:B[s]))},{children:a})):f.jsx(z,Object.assign({ref:d,square:s,squareColor:r,style:Object.assign(Object.assign(Object.assign({},jf(g)),Of),!l&&(B==null?void 0:B[s]))},{children:a}))}))}const Of={display:"flex",justifyContent:"center"},jf=s=>({width:s/8,height:s/8}),fy=(s,r,i)=>i!=null&&i.borderRadius?s==="a1"?r==="white"?{borderBottomLeftRadius:i.borderRadius}:{borderTopRightRadius:i.borderRadius}:s==="a8"?r==="white"?{borderTopLeftRadius:i.borderRadius}:{borderBottomRightRadius:i.borderRadius}:s==="h1"?r==="white"?{borderBottomRightRadius:i.borderRadius}:{borderTopLeftRadius:i.borderRadius}:s==="h8"?r==="white"?{borderTopRightRadius:i.borderRadius}:{borderBottomLeftRadius:i.borderRadius}:{}:{};function hy(){const[s,r]=x.useState({}),{arePremovesAllowed:i,boardOrientation:l,boardWidth:a,currentPosition:d,id:h,premoves:g,showBoardNotation:m}=Yn(),v=x.useMemo(()=>{const _=[];return i?(g.forEach((S,w)=>{const{sourceSq:R,targetSq:E,piece:D}=S,T=_.find($=>{var z;return $.piece===D&&((z=$.premovesRoute.at(-1))===null||z===void 0?void 0:z.targetSq)===R});T?T.premovesRoute.push({sourceSq:R,targetSq:E,index:w}):_.push({piece:D,premovesRoute:[{sourceSq:R,targetSq:E,index:w}]})}),_):[]},[g]);return f.jsx("div",Object.assign({"data-boardid":h},{children:[...Array(8)].map((_,S)=>f.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:a}},{children:[...Array(8)].map((w,R)=>{const E=l==="black"?us[7-R]+(S+1):us[R]+(8-S),D=R%2===S%2?"white":"black",T=g.find(z=>z.sourceSq===E||z.targetSq===E),$=v.filter(({premovesRoute:z})=>{var B;return((B=z.at(-1))===null||B===void 0?void 0:B.targetSq)===E}).sort((z,B)=>{var X,fe;return((X=B.premovesRoute.at(-1))===null||X===void 0?void 0:X.index)-((fe=z.premovesRoute.at(-1))===null||fe===void 0?void 0:fe.index)}).at(0);return f.jsxs(dy,Object.assign({square:E,squareColor:D,setSquares:r,squareHasPremove:!!T},{children:[!T&&d[E]&&f.jsx(Ef,{piece:d[E],square:E,squares:s}),$&&f.jsx(Ef,{isPremovedPiece:!0,piece:$.piece,square:E,squares:s}),m&&f.jsx(t0,{row:S,col:R})]}),`${R}${S}`)})}),S.toString()))}))}const py=()=>{const{arrows:s,newArrow:r,boardOrientation:i,boardWidth:l,customArrowColor:a}=Yn(),d=[...s,r].filter(Boolean);return f.jsx("svg",Object.assign({width:l,height:l,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:d.map((h,g)=>{const[m,v,_]=h;if(m===v)return null;const S=Xa(i,l,m),w=Xa(i,l,v);let R=l/32;const E=g===s.length;s.some(B=>B[0]!==m&&B[1]===v)&&!E&&(R=l/16);const D=w.x-S.x,T=w.y-S.y,$=Math.hypot(T,D),z={x:S.x+D*($-R)/$,y:S.y+T*($-R)/$};return f.jsxs(x.Fragment,{children:[f.jsx("marker",Object.assign({id:`arrowhead-${g}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:f.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:_??a})})),f.jsx("line",{x1:S.x,y1:S.y,x2:z.x,y2:z.y,opacity:E?"0.5":"0.65",stroke:_??a,strokeWidth:E?.9*l/40:l/40,markerEnd:`url(#arrowhead-${g})`})]},`${m}-${v}${E?"-active":""}`)})}))};function gy({option:s}){const[r,i]=x.useState(!1),{boardWidth:l,chessPieces:a,customDarkSquareStyle:d,customLightSquareStyle:h,handleSetPosition:g,onPromotionPieceSelect:m,promoteFromSquare:v,promoteToSquare:_,promotionDialogVariant:S}=Yn(),w=()=>{switch(s[1]){case"Q":return d.backgroundColor;case"R":return h.backgroundColor;case"N":return S==="default"?h.backgroundColor:d.backgroundColor;case"B":return S==="default"?d.backgroundColor:h.backgroundColor}};return f.jsx("div",Object.assign({onClick:()=>{m(s,v??void 0,_??void 0)&&g(v,_,s,!0)},onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),"data-piece":s,style:{cursor:"pointer",backgroundColor:r?w():`${w()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof a[s]=="function"?f.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:a[s]({squareWidth:l/8,isDragging:!1})})):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:l/8,height:l/8,style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:f.jsx("g",{children:a[s]})}))}))}function my(){const{boardOrientation:s,boardWidth:r,promotionDialogVariant:i,promoteToSquare:l}=Yn(),a=(l==null?void 0:l[1])==="1"?"b":"w",d=[`${a??"w"}Q`,`${a??"w"}R`,`${a??"w"}N`,`${a??"w"}B`],h={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-r/8}px, ${-r/8}px)`},vertical:{transform:`translate(${-r/16}px, ${-r/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*r/8}px)`,width:"100%",height:`${r/4}px`,top:0,backgroundColor:"white",left:0}},g=Xa(s,r,l||"a8");return f.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${g==null?void 0:g.y}px`,left:`${g==null?void 0:g.x}px`,zIndex:1e3},h[i]),title:"Choose promotion piece"},{children:d.map(m=>f.jsx(gy,{option:m},m))}))}const vy={whiteKing:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:f.jsx("g",{children:f.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function yy({children:s}){try{return f.jsx(f.Fragment,{children:s})}catch(r){return console.log(r),f.jsx(fh,{showError:!0})}}function fh({showError:s=!1}){return f.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[f.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:vy.whiteKing})),s&&f.jsx("h1",{children:"Something went wrong"})]}))}function Sy(){const s=x.useRef(null),{boardWidth:r,clearCurrentRightClickDown:i,onPromotionPieceSelect:l,setShowPromoteDialog:a,showPromoteDialog:d,customBoardStyle:h}=Yn();return x.useEffect(()=>{function g(m){s.current&&!s.current.contains(m.target)&&i()}return document.addEventListener("mouseup",g),()=>{document.removeEventListener("mouseup",g)}},[]),r?f.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:f.jsxs("div",Object.assign({ref:s,style:Object.assign(Object.assign({position:"relative"},wy(r)),h)},{children:[f.jsx(hy,{}),f.jsx(py,{}),d&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>{a(!1),l==null||l()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:r,height:r}}),f.jsx(my,{})]})]}))})):f.jsx(fh,{})}const wy=s=>({cursor:"default",height:s,width:s});var _r;(function(s){s.mouse="mouse",s.touch="touch",s.keyboard="keyboard"})(_r||(_r={}));class xy{get delay(){var r;return(r=this.args.delay)!==null&&r!==void 0?r:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var r;return(r=this.args.ignoreContextMenu)!==null&&r!==void 0?r:!1}get enableHoverOutsideTarget(){var r;return(r=this.args.enableHoverOutsideTarget)!==null&&r!==void 0?r:!1}get enableKeyboardEvents(){var r;return(r=this.args.enableKeyboardEvents)!==null&&r!==void 0?r:!1}get enableMouseEvents(){var r;return(r=this.args.enableMouseEvents)!==null&&r!==void 0?r:!1}get enableTouchEvents(){var r;return(r=this.args.enableTouchEvents)!==null&&r!==void 0?r:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var r,i,l,a;return(a=(l=(r=this.args)===null||r===void 0?void 0:r.delayTouchStart)!==null&&l!==void 0?l:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&a!==void 0?a:0}get delayMouseStart(){var r,i,l,a;return(a=(l=(r=this.args)===null||r===void 0?void 0:r.delayMouseStart)!==null&&l!==void 0?l:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&a!==void 0?a:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var r;if(!((r=this.context)===null||r===void 0)&&r.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var r;return((r=this.args)===null||r===void 0?void 0:r.rootElement)||this.document}constructor(r,i){this.args=r,this.context=i}}function _y(s,r,i,l){return Math.sqrt(Math.pow(Math.abs(i-s),2)+Math.pow(Math.abs(l-r),2))}function Cy(s,r,i,l,a){if(!a)return!1;const d=Math.atan2(l-r,i-s)*180/Math.PI+180;for(let h=0;h<a.length;++h){const g=a[h];if(g&&(g.start==null||d>=g.start)&&(g.end==null||d<=g.end))return!0}return!1}const ky={Left:1},Ey={Left:0};function Ba(s){return s.button===void 0||s.button===Ey.Left}function Oy(s){return s.buttons===void 0||(s.buttons&ky.Left)===0}function hh(s){return!!s.targetTouches}const jy=1;function Ny(s){const r=s.nodeType===jy?s:s.parentElement;if(!r)return;const{top:i,left:l}=r.getBoundingClientRect();return{x:l,y:i}}function Ty(s,r){if(s.targetTouches.length===1)return Do(s.targetTouches[0]);if(r&&s.touches.length===1&&s.touches[0].target===r.target)return Do(s.touches[0])}function Do(s,r){return hh(s)?Ty(s,r):{x:s.clientX,y:s.clientY}}const Nf=(()=>{let s=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return s=!0,!0}}))}catch{}return s})(),ts={[_r.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[_r.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[_r.keyboard]:{keydown:"keydown"}};class is{profile(){var r;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get document(){return this.options.document}setup(){const r=this.options.rootElement;r&&(ke(!is.isSetUp,"Cannot have two Touch backends at the same time."),is.isSetUp=!0,this.addEventListener(r,"start",this.getTopMoveStartHandler()),this.addEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(r,"move",this.handleTopMove),this.addEventListener(r,"move",this.handleTopMoveCapture,!0),this.addEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(r,"keydown",this.handleCancelOnEscape,!0))}teardown(){const r=this.options.rootElement;r&&(is.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(r,"start",this.handleTopMoveStart),this.removeEventListener(r,"move",this.handleTopMoveCapture,!0),this.removeEventListener(r,"move",this.handleTopMove),this.removeEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(r,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(r,i,l,a=!1){const d=Nf?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(h){const g=ts[h][i];g&&r.addEventListener(g,l,d)})}removeEventListener(r,i,l,a=!1){const d=Nf?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(h){const g=ts[h][i];g&&r.removeEventListener(g,l,d)})}connectDragSource(r,i){const l=this.handleMoveStart.bind(this,r);return this.sourceNodes.set(r,i),this.addEventListener(i,"start",l),()=>{this.sourceNodes.delete(r),this.removeEventListener(i,"start",l)}}connectDragPreview(r,i,l){return this.sourcePreviewNodeOptions.set(r,l),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDropTarget(r,i){const l=this.options.rootElement;if(!this.document||!l)return()=>{};const a=d=>{if(!this.document||!l||!this.monitor.isDragging())return;let h;switch(d.type){case ts.mouse.move:h={x:d.clientX,y:d.clientY};break;case ts.touch.move:var g,m;h={x:((g=d.touches[0])===null||g===void 0?void 0:g.clientX)||0,y:((m=d.touches[0])===null||m===void 0?void 0:m.clientY)||0};break}const v=h!=null?this.document.elementFromPoint(h.x,h.y):void 0,_=v&&i.contains(v);if(v===i||_)return this.handleMove(d,r)};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(r,i),()=>{this.document&&(this.targetNodes.delete(r),this.removeEventListener(this.document.body,"move",a))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(r){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=r,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{r&&!r.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!r||!r.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(r.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(r,i,l){this.getSourceClientOffset=a=>{const d=this.sourceNodes.get(a);return d&&Ny(d)},this.handleTopMoveStartCapture=a=>{Ba(a)&&(this.moveStartSourceIds=[])},this.handleMoveStart=a=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(a)},this.handleTopMoveStart=a=>{if(!Ba(a))return;const d=Do(a);d&&(hh(a)&&(this.lastTargetTouchFallback=a.targetTouches[0]),this._mouseClientOffset=d),this.waitingForDelay=!1},this.handleTopMoveStartDelay=a=>{if(!Ba(a))return;const d=a.type===ts.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,a),d),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(a,d)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(d)},this.handleTopMove=a=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:d,dragOverTargetIds:h}=this,g=this.options.enableHoverOutsideTarget,m=Do(a,this.lastTargetTouchFallback);if(!m)return;if(this._isScrolling||!this.monitor.isDragging()&&Cy(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&d&&_y(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(d,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const v=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(v),this.actions.publishDragSource(),a.cancelable&&a.preventDefault();const _=(h||[]).map(E=>this.targetNodes.get(E)).filter(E=>!!E),S=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(m.x,m.y,_):this.document.elementsFromPoint(m.x,m.y),w=[];for(const E in S){if(!S.hasOwnProperty(E))continue;let D=S[E];for(D!=null&&w.push(D);D;)D=D.parentElement,D&&w.indexOf(D)===-1&&w.push(D)}const R=w.filter(E=>_.indexOf(E)>-1).map(E=>this._getDropTargetId(E)).filter(E=>!!E).filter((E,D,T)=>T.indexOf(E)===D);if(g)for(const E in this.targetNodes){const D=this.targetNodes.get(E);if(v&&D&&D.contains(v)&&R.indexOf(E)===-1){R.unshift(E);break}}R.reverse(),this.actions.hover(R,{clientOffset:m})},this._getDropTargetId=a=>{const d=this.targetNodes.keys();let h=d.next();for(;h.done===!1;){const g=h.value;if(a===this.targetNodes.get(g))return g;h=d.next()}},this.handleTopMoveEndCapture=a=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Oy(a)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}a.cancelable&&a.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=a=>{a.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new xy(l,i),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(_r.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(_r.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(_r.keyboard)}}const Py=function(r,i={},l={}){return new is(r,i,l)},Dy=x.createContext({isCustomDndProviderSet:!1}),Ly=({children:s})=>f.jsx(f.Fragment,{children:s}),Ry=({customDndBackend:s,customDndBackendOptions:r,children:i})=>{const[l,a]=x.useState(),[d,h]=x.useState(!1),[g,m]=x.useState(!1),{isCustomDndProviderSet:v}=x.useContext(Dy);x.useEffect(()=>{m("ontouchstart"in window),h(!0),a(window)},[]);const _=v?Ly:yv;return d?l?f.jsx(_,Object.assign({backend:s||(g?Py:cy),context:l,options:s?r:void 0},{children:i})):f.jsx(f.Fragment,{children:i}):null};function by({boardContainer:s}){const{boardWidth:r,chessPieces:i,id:l,snapToCursor:a,allowDragOutsideBoard:d}=Yn(),h=Uv(w=>({item:w.getItem(),clientOffset:w.getClientOffset(),sourceClientOffset:w.getSourceClientOffset(),isDragging:w.isDragging()})),{isDragging:g,item:m,clientOffset:v,sourceClientOffset:_}=h,S=x.useCallback((w,R)=>{if(!w||!R)return{display:"none"};let{x:E,y:D}=a?w:R;const T=r/8/2;if(a&&(E-=T,D-=T),!d){const{left:z,top:B}=s,X=z-T,fe=B-T,Oe=z+r-T,Fe=B+r-T;E=Math.max(X,Math.min(E,Oe)),D=Math.max(fe,Math.min(D,Fe))}const $=`translate(${E}px, ${D}px)`;return{transform:$,WebkitTransform:$,touchAction:"none"}},[r,d,a,s]);return g&&m.id===l?f.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:f.jsx("div",Object.assign({style:S(v,_)},{children:typeof i[m.piece]=="function"?i[m.piece]({squareWidth:r/8,isDragging:!0}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8},{children:f.jsx("g",{children:i[m.piece]})}))}))})):null}const pu=x.forwardRef((s,r)=>{const{customDndBackend:i,customDndBackendOptions:l,onBoardWidthChange:a}=s,d=Wm(s,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[h,g]=x.useState(s.boardWidth),m=x.useRef(null),v=x.useRef(null),[_,S]=x.useState({left:0,top:0}),w=x.useMemo(()=>{var R;return(R=m.current)===null||R===void 0?void 0:R.getBoundingClientRect()},[m.current]);return x.useEffect(()=>{h&&(a==null||a(h))},[h]),x.useEffect(()=>{S({left:w!=null&&w.left?w==null?void 0:w.left:0,top:w!=null&&w.top?w==null?void 0:w.top:0})},[w]),x.useEffect(()=>{var R;if(s.boardWidth===void 0&&(!((R=m.current)===null||R===void 0)&&R.offsetWidth)){const E=new ResizeObserver(()=>{var D;g((D=m.current)===null||D===void 0?void 0:D.offsetWidth)});return E.observe(m.current),()=>{E.disconnect()}}},[m.current]),f.jsx(yy,{children:f.jsxs("div",Object.assign({ref:v,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[f.jsx("div",{ref:m,style:{width:"100%"}}),f.jsx(Ry,Object.assign({customDndBackend:i,customDndBackendOptions:l},{children:h&&f.jsxs(e0,Object.assign({boardWidth:h},d,{ref:r},{children:[f.jsx(by,{boardContainer:_}),f.jsx(Sy,{})]}))}))]}))})});function Iy(){return localStorage.getItem("chessica_token")}function My(s){s?localStorage.setItem("chessica_token",s):localStorage.removeItem("chessica_token")}function Ay(){localStorage.removeItem("chessica_token")}const $y="https://chessica-1nh3.onrender.com",zy="wss://chessica-1nh3.onrender.com",ph=["localhost","127.0.0.1"].includes(window.location.hostname),gh=`${ph?"http://localhost:8000":$y}/api/v1`,mh=`${ph?"ws://localhost:8000":zy}/api/v1`,qn={initial_ms:3e5,increment_ms:0};async function Ot(s,r={}){const i=Iy(),l={"Content-Type":"application/json",...r.headers||{},...i?{Authorization:`Bearer ${i}`}:{}},a=await fetch(`${gh}${s}`,{headers:l,...r});if(!a.ok){const h=await a.text();throw new Error(h||`Request failed with ${a.status}`)}return(a.headers.get("content-type")||"").includes("application/json")?a.json():a.text()}const bt={authFeature(){return Ot("/auth/feature")},sendLoginCode(s){return Ot("/auth/send-code",{method:"POST",body:JSON.stringify({email:s})})},signIn(s){return Ot("/auth/sign-in",{method:"POST",body:JSON.stringify(s)})},signUp(s){return Ot("/auth/sign-up",{method:"POST",body:JSON.stringify(s)})},me(){return Ot("/me")},createSession(s){return Ot("/sessions",{method:"POST",body:JSON.stringify(s)})},sessionDetail(s){return Ot(`/sessions/${s}`)},move(s,r){return Ot(`/sessions/${s}/moves`,{method:"POST",body:JSON.stringify(r)})},analysis(s){return Ot(`/sessions/${s}/analysis`)},coach(s){return Ot(`/sessions/${s}/coach`,{method:"POST"})},pgn(s){return Ot(`/sessions/${s}/pgn`)},replay(s){return Ot(`/sessions/${s}/replay`)},queueJoin(s){return Ot("/multiplayer/queue",{method:"POST",body:JSON.stringify(s)})},queueStatus(s){return Ot(`/multiplayer/queue/${s}`)},queueLeave(s){return Ot(`/multiplayer/queue/${s}`,{method:"DELETE"})},createMultiplayer(s){return Ot("/multiplayer/sessions",{method:"POST",body:JSON.stringify(s)})},multiplayerMove(s,r){return Ot(`/multiplayer/sessions/${s}/moves`,{method:"POST",body:JSON.stringify(r)})},multiplayerAction(s,r){return Ot(`/multiplayer/sessions/${s}/${r}`,{method:"POST"})}},vh=[{key:"beginner",name:"Beginner",depth:1,rating:1320},{key:"intermediate",name:"Intermediate",depth:2,rating:1600},{key:"advanced",name:"Advanced",depth:3,rating:2e3},{key:"expert",name:"Expert",depth:4,rating:2300},{key:"grandmaster",name:"Grandmaster",depth:5,rating:2600}];function Wa(s){const r=vh.find(i=>i.key===s);return r?`${r.name} (~${r.rating} Elo, depth ${r.depth})`:"Custom difficulty"}function Ha(s){if(typeof s!="number"||Number.isNaN(s))return"N/A";const r=(s/100).toFixed(2);return s>=0?`+${r}`:r}function Fy(s){if(typeof s!="number"||Number.isNaN(s))return"No evaluation yet";const r=Math.abs(s);return r<35?"Balanced tension":r<150?s>0?"White edge":"Black edge":r<300?s>0?"White pressing":"Black pressing":s>0?"White winning":"Black winning"}function Lo(s){const r=Math.max(0,s||0);if(r<6e4){const d=Math.floor(r/1e3),h=Math.floor(r%1e3/100);return`0:${d.toString().padStart(2,"0")}.${h}`}const i=Math.floor(r/1e3),l=Math.floor(i/60),a=i%60;return`${l}:${a.toString().padStart(2,"0")}`}const Tf=[{id:"blitz",label:"Blitz 5+0",time_control:{initial_ms:3e5,increment_ms:0}},{id:"rapid",label:"Rapid 10+0",time_control:{initial_ms:6e5,increment_ms:0}},{id:"classical",label:"Classical 30+0",time_control:{initial_ms:18e5,increment_ms:0}}],Uy=s=>{const r=(s||"").trim();if(!r)return[];const i=r.split(/\n+/).map(l=>l.trim()).filter(Boolean);return i.length>1?i:r.split(new RegExp("(?<=[.!?])\\s+")).map(l=>l.trim()).filter(Boolean)};function By(){var Vt,Kt,U,le,De,Ne,He,nt,dt,Me,Ve,Nt;const s=x.useRef(new as),r=x.useRef(new as),i=x.useRef(null),[l,a]=x.useState(s.current.fen()),[d,h]=x.useState(null),[g,m]=x.useState([]),[v,_]=x.useState(null),[S,w]=x.useState([]),[R,E]=x.useState(""),[D,T]=x.useState(!1),[$,z]=x.useState(null),[B,X]=x.useState("controls"),[fe,Oe]=x.useState("auto"),[Fe,je]=x.useState("auto"),[Ke,Ye]=x.useState("advanced"),[Xe,be]=x.useState("blitz"),[$e,Qe]=x.useState("No active session."),[Ue,Be]=x.useState(!1),[Ee,G]=x.useState(null),[ie,Y]=x.useState(""),[O,F]=x.useState(null),[Z,de]=x.useState(null),me=x.useMemo(()=>Uy(R),[R]),ve=($==null?void 0:$.plans)||[],J=$==null?void 0:$.position_features,ye=$==null?void 0:$.opening,[_e,Ie]=x.useState("ideas");x.useEffect(()=>()=>{var I;(I=i.current)==null||I.close()},[]);const qe=x.useMemo(()=>(d==null?void 0:d.player_color)||"white",[d==null?void 0:d.player_color]),Ze=qe,Bt=Ze==="white"?"black":"white",En=((Vt=d==null?void 0:d.clocks)==null?void 0:Vt.player_ms)??3e5,rn=((Kt=d==null?void 0:d.clocks)==null?void 0:Kt.engine_ms)??3e5,wt=x.useMemo(()=>{if(!(d!=null&&d.session_id))return"";const I=new URL(window.location.href);return I.pathname="/replay",I.searchParams.set("session",d.session_id),I.toString()},[d==null?void 0:d.session_id]),On=async()=>{var I;if(wt)try{await((I=navigator.clipboard)==null?void 0:I.writeText(wt)),Y("Replay link copied.")}catch(K){Y(K.message||"Unable to copy link.")}},sn=I=>{var ge;(ge=i.current)==null||ge.close();const K=new WebSocket(`${mh}/sessions/${I}/stream`);i.current=K,K.onmessage=te=>{var j,Ce;try{const Le=JSON.parse(te.data);Le.type==="game_over"&&((Ce=(j=Le.payload)==null?void 0:j.game_state)!=null&&Ce.fen)&&(s.current.load(Le.payload.game_state.fen),a(s.current.fen()),Qe(Le.payload.message||"Game over."),Y(Le.payload.message||"")),Le.type==="coach_update"&&(E(Le.payload.summary||""),z(Le.payload),typeof Le.payload.eval_cp=="number"&&G(Le.payload.eval_cp))}catch{}}},jn=()=>{s.current.reset(),r.current.reset(),a(s.current.fen()),w([]),m([]),_(null),E(""),G(null)},pt=I=>{if(!I)return;const K=r.current.move({from:I.slice(0,2),to:I.slice(2,4),promotion:I.length>4?I.slice(4):void 0});K&&w(ge=>{const te=[...ge];if(K.color==="w")te.push({number:te.length+1,white:K.san,black:null});else if(te.length===0)te.push({number:1,white:"...",black:K.san});else{const j=te[te.length-1];j.black?te.push({number:te.length+1,white:"...",black:K.san}):j.black=K.san}return te})},Gt=I=>{r.current.reset(),w([]),(I||[]).forEach(pt)},Wt=async I=>{if(I)try{const K=await bt.analysis(I);m(K.moves||[]),_(K.summary||null)}catch(K){Y(K.message)}},Ht=async I=>{var te;const K=I||d;if(!(!(K!=null&&K.session_id)||!(s.current.turn()===(K.engine_color==="white"?"w":"b"))))try{const j=await bt.move(K.session_id,{uci:null,client_ts:new Date().toISOString(),clock:K.clocks||qn,telemetry:{ui_version:"react"}});(te=j.game_state)!=null&&te.fen&&(s.current.load(j.game_state.fen),a(j.game_state.fen)),j.engine_move&&pt(j.engine_move),G(j.engine_eval_cp)}catch(j){Y(j.message||"Engine move failed.")}},on=async I=>{var K;I.preventDefault(),Be(!0),Y("");try{const ge=((K=Tf.find(Le=>Le.id===Xe))==null?void 0:K.time_control)||qn,te={variant:"standard",color:fe,exploit_mode:Fe,difficulty:Ke,time_control:ge},j=await bt.createSession(te),Ce=await bt.sessionDetail(j.session_id);h(Ce),Qe(`Session ${Ce.session_id}  ${Xe.toUpperCase()}  ${Wa(Ce.difficulty)}`),jn(),F(null),s.current.load(Ce.fen),a(Ce.fen),Gt(Ce.moves||[]),xt(Ce.opponent_profile),sn(Ce.session_id),await Wt(Ce.session_id),await Ht(Ce)}catch(ge){Y(ge.message||"Unable to start session.")}finally{Be(!1)}},xt=I=>{var te,j;if(!I)return;const K=Math.round((((te=I.style)==null?void 0:te.tactical)??0)*100),ge=Math.round((((j=I.style)==null?void 0:j.risk)??0)*100);Y(`Opponent profile: tactical ${K}%  risk ${ge}%`)},ln=async()=>{if(d!=null&&d.session_id){T(!0),E(""),z(null);try{const I=await bt.coach(d.session_id);E(I.summary||""),z(I)}catch(I){E(I.message||"Coach summary unavailable.")}finally{T(!1)}}},It=(I,K)=>{const ge=s.current.moves({verbose:!0}).filter(Ce=>Ce.from===I&&Ce.to===K);if(!ge.length)return null;const te=ge.filter(Ce=>Ce.promotion);if(!te.length)return ge[0];if(te.length===1)return te[0];const j=te.map(Ce=>Ce.promotion).filter(Boolean);return de({sourceSquare:I,targetSquare:K,options:j,promoMoves:te}),null},an=async I=>{if(!Z)return;const{sourceSquare:K,targetSquare:ge,promoMoves:te}=Z,j=te.find(Te=>Te.promotion===I)||te[0];de(null);const Ce=s.current.move(j);if(!Ce)return!1;const Le=`${K}${ge}${Ce.promotion||""}`;a(s.current.fen()),pt(Le);try{return await _t(Le),!0}catch(Te){return s.current.undo(),r.current.undo(),a(s.current.fen()),Y(Te.message),!1}},Nn=()=>{de(null)},Yt=async(I,K,ge)=>{if(!(d!=null&&d.session_id)||Ue)return!1;const te=It(I,K);if(!te)return!1;const j=s.current.move(te);if(!j)return!1;const Ce=j.promotion?j.promotion:"",Le=`${I}${K}${Ce}`;a(s.current.fen()),pt(Le);try{return await _t(Le),!0}catch(Te){return s.current.undo(),r.current.undo(),a(s.current.fen()),Y(Te.message),!1}},_t=async I=>{var j;if(!(d!=null&&d.session_id))throw new Error("No active session.");const K=(d==null?void 0:d.clocks)||{player_ms:3e5,engine_ms:3e5},ge={uci:I,client_ts:new Date().toISOString(),clock:K,telemetry:{ui_version:"react"}},te=await bt.move(d.session_id,ge);(j=te.game_state)!=null&&j.fen&&(s.current.load(te.game_state.fen),a(te.game_state.fen)),te.engine_move&&pt(te.engine_move),G(te.engine_eval_cp),Y(te.message||""),h(Ce=>{var Le;return{...Ce||d,fen:((Le=te.game_state)==null?void 0:Le.fen)||l,status:te.result?"completed":"active"}}),await Wt(d.session_id),te.result&&(Qe(te.message||`Game over (${te.result})`),F({title:te.winner==="player"?"Victory":te.winner==="engine"?"Defeat":"Draw",message:te.message||`${te.result}${typeof te.player_rating_delta=="number"?`  Rating: ${te.player_rating_delta>=0?"+":""}${te.player_rating_delta}`:""}`}))},un=async()=>{if(!(d!=null&&d.session_id))return;const I=await bt.pgn(d.session_id),K=new Blob([I],{type:"application/x-chess-pgn"}),ge=document.createElement("a");ge.href=URL.createObjectURL(K),ge.download=`${d.session_id}.pgn`,document.body.appendChild(ge),ge.click(),ge.remove()};return f.jsx("div",{className:"app",children:f.jsxs("div",{className:"page-grid",children:[f.jsx("section",{className:"card board-card",children:f.jsxs("div",{className:"board-wrap",children:[f.jsxs("div",{className:"clock-bar top-clock",children:[f.jsxs("div",{className:"player-meta",children:[f.jsxs("span",{className:"muted",children:["Engine (",Bt,")"]}),f.jsx("span",{className:"muted",children:Wa((d==null?void 0:d.difficulty)||Ke)})]}),f.jsx("span",{className:"pill",children:Lo(rn)})]}),f.jsx("div",{className:"board-shell-react",children:f.jsx(pu,{id:"computer-board",position:l,onPieceDrop:Yt,boardOrientation:qe,animationDuration:150,customBoardStyle:{borderRadius:16,boxShadow:"0 12px 26px rgba(0,0,0,0.35)"}})}),Z&&f.jsxs("div",{className:"promotion-panel",children:[f.jsx("span",{className:"muted",children:"Promote to:"}),f.jsxs("div",{className:"inline-actions compact",children:[Z.options.map(I=>f.jsx("button",{type:"button",onClick:()=>an(I),children:I.toUpperCase()},I)),f.jsx("button",{type:"button",className:"secondary",onClick:Nn,children:"Cancel"})]})]}),O&&f.jsxs("div",{className:"game-banner",children:[f.jsx("strong",{children:O.title}),f.jsx("span",{className:"muted",children:O.message})]}),f.jsxs("div",{className:"clock-bar bottom-clock",children:[f.jsx("span",{className:"pill",children:Lo(En)}),f.jsxs("div",{className:"player-meta",children:[f.jsx("strong",{children:"You"}),f.jsx("span",{className:"muted",children:Ze})]})]}),f.jsxs("div",{className:"inline-actions compact align-right",children:[f.jsx("button",{type:"button",className:"secondary",disabled:!(d!=null&&d.session_id),onClick:un,children:"Download PGN"}),f.jsx("button",{type:"button",className:"secondary",disabled:!wt,onClick:On,children:"Copy Replay Link"}),f.jsx("span",{className:"muted tiny",children:ie||$e})]})]})}),f.jsxs("div",{className:"side-stack",children:[f.jsxs("header",{className:"card hero hero-card",children:[f.jsxs("div",{className:"hero-title",children:[f.jsx("div",{className:"badge",children:f.jsx("span",{children:""})}),f.jsxs("div",{children:[f.jsx("h1",{children:"Chessica Control Room"}),f.jsx("p",{children:"Exploit-aware sessions with offline-ready assets, coach summaries, and difficulty presets."}),f.jsx("small",{className:"muted",children:d!=null&&d.session_id?`Session ${d.session_id}  Engine plays ${d.engine_color}`:"No active session"})]})]}),f.jsx("span",{className:"pill",children:d?"Active":"Setup"})]}),f.jsxs("section",{className:"card tab-card",children:[f.jsx("div",{className:"tab-bar",children:[{key:"controls",label:"Controls"},{key:"moves",label:"Move List"},{key:"analysis",label:"Analysis"},{key:"coach",label:"Coach Insight"}].map(I=>f.jsx("button",{type:"button",className:`tab-button ${B===I.key?"active":""}`,onClick:()=>X(I.key),children:I.label},I.key))}),f.jsxs("div",{className:"tab-panel",children:[B==="controls"&&f.jsxs("form",{className:"controls-form",onSubmit:on,children:[f.jsx("div",{className:"time-preset-grid",children:Tf.map(I=>f.jsx("button",{type:"button",className:`time-pill ${Xe===I.id?"active":""}`,onClick:()=>be(I.id),children:I.label},I.id))}),f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Color"}),f.jsxs("select",{value:fe,onChange:I=>Oe(I.target.value),children:[f.jsx("option",{value:"auto",children:"Auto"}),f.jsx("option",{value:"white",children:"White"}),f.jsx("option",{value:"black",children:"Black"})]})]}),f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Exploit Mode"}),f.jsxs("select",{value:Fe,onChange:I=>je(I.target.value),children:[f.jsx("option",{value:"auto",children:"Auto"}),f.jsx("option",{value:"on",children:"On"}),f.jsx("option",{value:"off",children:"Off"})]})]}),f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Difficulty"}),f.jsx("select",{value:Ke,onChange:I=>Ye(I.target.value),children:vh.map(I=>f.jsxs("option",{value:I.key,children:[I.name," (~",I.rating,")"]},I.key))})]}),f.jsx("div",{className:"difficulty-indicator",children:f.jsx("span",{children:Wa(Ke)})}),f.jsx("button",{type:"submit",disabled:Ue,children:Ue?"Starting...":d?"Restart Session":"Start Session"})]}),B==="moves"&&f.jsxs("ol",{className:"analysis-list",children:[S.length===0&&f.jsx("li",{className:"muted",children:"No moves yet."}),S.map(I=>f.jsx("li",{className:"analysis-item",children:f.jsxs("strong",{children:[I.number,". ",I.white||"..."," ",I.black||"..."]})},I.number))]}),B==="analysis"&&f.jsxs("div",{className:"stack",children:[v&&f.jsxs("div",{className:"summary-block",children:[f.jsxs("div",{className:"panel-title",children:[f.jsx("strong",{children:"Induced blunders"}),f.jsx("span",{className:"pill",children:v.induced_blunders})]}),f.jsxs("div",{className:"panel-title",children:[f.jsx("strong",{children:"Eval tradeoff"}),f.jsxs("span",{className:"pill",children:[v.eval_tradeoff_cp," cp"]})]}),f.jsx("div",{className:"tag-row",children:(v.themes||[]).map(I=>f.jsx("span",{className:"tag",children:I},I))})]}),f.jsx("button",{type:"button",className:"secondary",disabled:!(d!=null&&d.session_id),onClick:()=>Wt(d==null?void 0:d.session_id),children:"Refresh"}),f.jsxs("ul",{className:"analysis-list",children:[g.length===0&&f.jsx("li",{className:"muted",children:"No annotated moves yet."}),g.map(I=>{var K;return f.jsxs("li",{className:"analysis-item",children:[f.jsxs("strong",{children:[I.ply,". ",I.player_move||"...","  ",I.engine_reply||"..."]}),f.jsxs("div",{className:"muted",children:["Eval ",Ha(I.objective_eval_cp),"  Exploit ",Ha(I.exploit_gain_cp)]}),f.jsx("div",{className:"tag-row",children:(K=I.motifs)==null?void 0:K.map(ge=>f.jsx("span",{className:"tag",children:ge},ge))}),f.jsx("p",{className:"muted",children:I.explanation})]},`${I.ply}-${I.player_move}-${I.engine_reply}`)})]})]}),B==="coach"&&f.jsxs("div",{className:"stack",children:[f.jsx("button",{type:"button",disabled:!(d!=null&&d.session_id)||D,onClick:ln,children:D?"Generating...":"Explain Position"}),f.jsxs("div",{className:"insight-eval",children:[f.jsx("div",{className:"eval-score",children:Ha(Ee??0)}),f.jsx("span",{children:Fy(Ee??0)})]}),f.jsx("div",{className:"coach-tabs",children:[{key:"ideas",label:"Ideas"},{key:"risks",label:"Risks"},{key:"candidates",label:"Candidates"},{key:"summary",label:"Summary"}].map(I=>f.jsx("button",{type:"button",className:`coach-tab ${_e===I.key?"active":""}`,onClick:()=>Ie(I.key),children:I.label},I.key))}),_e==="ideas"&&f.jsxs("ul",{className:"coach-lines",children:[(($==null?void 0:$.ideas)||me).map((I,K)=>f.jsx("li",{children:I},`${I}-${K}`)),!(($==null?void 0:$.ideas)||me).length&&f.jsx("li",{className:"muted",children:"No ideas yet."})]}),_e==="risks"&&f.jsxs("ul",{className:"coach-lines",children:[(($==null?void 0:$.risks)||[]).map((I,K)=>f.jsx("li",{children:I},`${I}-${K}`)),!(($==null?void 0:$.risks)||[]).length&&f.jsx("li",{className:"muted",children:"No explicit risks flagged."})]}),_e==="candidates"&&f.jsxs("ul",{className:"coach-lines",children:[(($==null?void 0:$.candidates)||ve).map((I,K)=>f.jsxs("li",{children:[f.jsx("strong",{children:I.name||(I==null?void 0:I.idea)||"Plan"})," ",I.example_moves?`(${(I.example_moves||[]).join(", ")})`:""]},`${I.name||K}-${K}`)),!(($==null?void 0:$.candidates)||ve).length&&f.jsx("li",{className:"muted",children:"No candidates yet."})]}),_e==="summary"&&f.jsx(f.Fragment,{children:me.length?f.jsx("ul",{className:"coach-lines",children:me.map((I,K)=>f.jsx("li",{children:I},`${I}-${K}`))}):f.jsx("p",{className:"muted",children:"No coach summary yet."})}),ye&&f.jsxs("div",{className:"summary-block",children:[f.jsx("strong",{children:ye.name}),f.jsxs("span",{className:"muted",children:["ECO ",ye.eco]})]}),J&&f.jsxs("div",{className:"summary-block",children:[f.jsx("strong",{children:"Position Brief"}),f.jsx("div",{className:"tag-row",children:(J.global_themes||[]).map(I=>f.jsx("span",{className:"tag",children:I},I))}),f.jsxs("div",{className:"two-col",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"White"}),f.jsxs("ul",{className:"coach-lines",children:[f.jsxs("li",{children:["King: ",(U=J.white)==null?void 0:U.king_safety]}),f.jsxs("li",{children:["Pawns: ",(((le=J.white)==null?void 0:le.pawn_structure)||[]).join(", ")]}),f.jsxs("li",{children:["Activity: ",(De=J.white)==null?void 0:De.piece_activity]}),f.jsxs("li",{children:["Space: ",typeof((Ne=J.white)==null?void 0:Ne.space)=="object"?"balanced":(He=J.white)==null?void 0:He.space]})]})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Black"}),f.jsxs("ul",{className:"coach-lines",children:[f.jsxs("li",{children:["King: ",(nt=J.black)==null?void 0:nt.king_safety]}),f.jsxs("li",{children:["Pawns: ",(((dt=J.black)==null?void 0:dt.pawn_structure)||[]).join(", ")]}),f.jsxs("li",{children:["Activity: ",(Me=J.black)==null?void 0:Me.piece_activity]}),f.jsxs("li",{children:["Space: ",typeof((Ve=J.black)==null?void 0:Ve.space)=="object"?"balanced":(Nt=J.black)==null?void 0:Nt.space]})]})]})]})]}),ve.length>0&&f.jsx("div",{className:"stack",children:ve.map((I,K)=>{var ge;return f.jsxs("div",{className:"summary-block",children:[f.jsx("strong",{children:I.name}),f.jsx("p",{className:"muted",children:I.idea}),f.jsx("div",{className:"tag-row",children:(I.example_moves||[]).map(te=>f.jsx("span",{className:"tag",children:te},te))}),((ge=I.preconditions)==null?void 0:ge.length)>0&&f.jsxs("p",{className:"muted",children:["Preconditions: ",I.preconditions.join(", ")]}),I.risk&&f.jsxs("p",{className:"muted",children:["Risk: ",I.risk]})]},`${I.name}-${K}`)})}),f.jsx("div",{className:"hint",children:"Live coach updates will stream here after each move."})]})]})]})]})]})})}const Pf=[{id:"blitz",label:"Blitz 5+0",time_control:{initial_ms:3e5,increment_ms:0}},{id:"rapid",label:"Rapid 10+0",time_control:{initial_ms:6e5,increment_ms:0}},{id:"classical",label:"Classical 30+0",time_control:{initial_ms:18e5,increment_ms:0}}],Wy={player_id:"",color:"auto",initial_ms:qn.initial_ms,increment_ms:qn.increment_ms};function Hy(){var on,xt,ln,It,an,Nn,Yt,_t,un,Vt,Kt;const s=x.useRef(new as),r=x.useRef(new as),i=x.useRef(null),l=x.useRef(null),a=x.useRef(null),d=x.useRef(qn),h=x.useRef(Date.now()),[g,m]=x.useState(Wy),[v,_]=x.useState(""),[S,w]=x.useState("white"),[R,E]=x.useState("Not queued."),[D,T]=x.useState(s.current.fen()),[$,z]=x.useState(qn),[B,X]=x.useState(qn),[fe,Oe]=x.useState([]),[Fe,je]=x.useState(""),[Ke,Ye]=x.useState(""),[Xe,be]=x.useState(""),[$e,Qe]=x.useState(!1),[Ue,Be]=x.useState("match"),[Ee,G]=x.useState("blitz"),[ie,Y]=x.useState("ideas"),[O,F]=x.useState(null),[Z,de]=x.useState(null),[me,ve]=x.useState(null),[J,ye]=x.useState(null),_e=Z==null?void 0:Z.opening,Ie=Z==null?void 0:Z.position_features,qe=(Z==null?void 0:Z.plans)||[];x.useEffect(()=>()=>{var U;(U=i.current)==null||U.close(),l.current&&clearInterval(l.current)},[]);const Ze=U=>{const le=r.current.move({from:U.slice(0,2),to:U.slice(2,4),promotion:U.length>4?U.slice(4):void 0});le&&Oe(De=>{const Ne=[...De];if(le.color==="w")Ne.push({number:Ne.length+1,white:le.san,black:null});else if(Ne.length===0)Ne.push({number:1,white:"...",black:le.san});else{const He=Ne[Ne.length-1];He.black?Ne.push({number:Ne.length+1,white:"...",black:le.san}):He.black=le.san}return Ne})},Bt=U=>{r.current.reset(),Oe([]),(U||[]).forEach(Ze)},En=U=>{var De;(De=i.current)==null||De.close();const le=new WebSocket(`${mh}/sessions/${U}/stream`);i.current=le,le.onmessage=Ne=>{var He,nt,dt;try{const Me=JSON.parse(Ne.data);if(Me.type==="player_move"&&((He=Me.payload)!=null&&He.uci)){const{uci:Ve,game_state:Nt,clocks:I}=Me.payload;s.current.load(Nt.fen),T(Nt.fen),I&&Ht(I),Ze(Ve),Me.payload.opening&&ye(Me.payload.opening)}if(Me.type==="coach_update"&&(be(Me.payload.summary||""),de(Me.payload)),Me.type==="game_over"&&((dt=(nt=Me.payload)==null?void 0:nt.game_state)!=null&&dt.fen)){s.current.load(Me.payload.game_state.fen),T(Me.payload.game_state.fen),je(Me.payload.message||"Game over.");const Ve=Me.payload.winner,I=Ve==="draw"||Ve===null?"Draw":Ve==="white"&&S==="white"||Ve==="black"&&S==="black"?"Victory":"Defeat",K=Me.payload.ratings;let ge=null;K&&K[S]&&typeof K[S].delta=="number"&&(ge=K[S].delta);const te=Me.payload.message||(ge!==null?`Rating: ${ge>=0?"+":""}${ge}`:"Game over.");ve({title:I,message:te})}}catch{}}},rn=U=>{l.current&&clearInterval(l.current),l.current=setInterval(async()=>{try{const le=await bt.queueStatus(U);le.status==="matched"&&le.session_id?(clearInterval(l.current),await wt(le.session_id,le.player_color,le.opponent_id)):E(le.message||"Waiting...")}catch(le){E(le.message)}},2e3)},wt=async(U,le,De)=>{l.current&&clearInterval(l.current),_(U),w(le||"white"),E("Matched!"),Ye(`vs ${De||"pending"}  You are ${le}`);const Ne=await bt.sessionDetail(U);s.current.load(Ne.fen),T(Ne.fen),Bt(Ne.moves||[]),Ht(Ne.clocks||qn),En(U)},On=async U=>{var le;U.preventDefault(),je(""),E("Joining queue...");try{const De=((le=Pf.find(nt=>nt.id===Ee))==null?void 0:le.time_control)||qn,Ne={player_id:g.player_id.trim(),color:g.color,time_control:De};z(De),X(De),d.current=De;const He=await bt.queueJoin(Ne);He.status==="matched"&&He.session_id?await wt(He.session_id,He.player_color,He.opponent_id):(E(He.message||"Queued"),rn(Ne.player_id))}catch(De){E("Queue failed."),je(De.message)}},sn=async()=>{if(g.player_id)try{await bt.queueLeave(g.player_id),E("Not queued."),l.current&&clearInterval(l.current)}catch(U){je(U.message)}},jn=async(U,le,De)=>{var I;if(!v||(s.current.turn()==="w"?"white":"black")!==S)return!1;const He=s.current.moves({verbose:!0}).filter(K=>K.from===U&&K.to===le);if(!He.length)return!1;const nt=He.filter(K=>K.promotion);let dt=He[0];if(nt.length)if(nt.length===1)dt=nt[0];else{const K=nt.map(ge=>ge.promotion).filter(Boolean);return F({sourceSquare:U,targetSquare:le,options:K,promoMoves:nt}),!1}const Me=s.current.move(dt);if(!Me)return!1;const Ve=`${U}${le}${Me.promotion||""}`,Nt=s.current.fen();T(Nt),Ze(Ve);try{const K=await bt.multiplayerMove(v,{uci:Ve,player_id:g.player_id,client_ts:new Date().toISOString(),clock:$});if((I=K.game_state)!=null&&I.fen&&(s.current.load(K.game_state.fen),T(K.game_state.fen)),Ht(K.clocks||$),K.opening&&ye(K.opening),K.result){je(K.message||"Game finished.");const ge=K.winner==="white"&&S==="white"||K.winner==="black"&&S==="black",te=K.winner==="draw"?"Draw":ge?"Victory":"Defeat",j=K.ratings&&K.ratings[S]&&typeof K.ratings[S].delta=="number"?K.ratings[S].delta:null,Ce=K.message||K.result||(j!==null?`Rating: ${j>=0?"+":""}${j}`:"Game finished.");ve({title:te,message:Ce})}return!0}catch(K){return s.current.undo(),r.current.undo(),T(s.current.fen()),je(K.message),!1}},pt=async U=>{var le;if(v)try{const De=await bt.multiplayerAction(v,U);(le=De.game_state)!=null&&le.fen&&(s.current.load(De.game_state.fen),T(De.game_state.fen)),je(De.message||`${U} sent.`)}catch(De){je(De.message)}},Gt=async()=>{if(v){Qe(!0),be(""),de(null);try{const U=await bt.coach(v);be(U.summary||""),de(U)}catch(U){be(U.message||"Coach summary unavailable.")}finally{Qe(!1)}}},Wt=async U=>{var Me;if(!O)return!1;const{sourceSquare:le,targetSquare:De,promoMoves:Ne}=O,He=Ne.find(Ve=>Ve.promotion===U)||Ne[0];F(null);const nt=s.current.move(He);if(!nt)return!1;const dt=`${le}${De}${nt.promotion||""}`;T(s.current.fen()),Ze(dt);try{const Ve=await bt.multiplayerMove(v,{uci:dt,player_id:g.player_id,client_ts:new Date().toISOString(),clock:$});return(Me=Ve.game_state)!=null&&Me.fen&&(s.current.load(Ve.game_state.fen),T(Ve.game_state.fen)),Ht(Ve.clocks||$),Ve.result&&je(Ve.message||"Game finished."),!0}catch(Ve){return s.current.undo(),r.current.undo(),T(s.current.fen()),je(Ve.message),!1}},Ht=U=>{d.current=U,h.current=Date.now(),z(U),X(U)};return x.useEffect(()=>(a.current&&clearInterval(a.current),a.current=setInterval(()=>{const U=d.current,le=Date.now()-h.current,De=s.current.turn()==="w"?"white":"black",Ne={...U};De==="white"?Ne.player_ms=Math.max(0,(U.player_ms??0)-le):Ne.engine_ms=Math.max(0,(U.engine_ms??0)-le),X(Ne)},1e3),()=>{a.current&&clearInterval(a.current)}),[v]),f.jsx("div",{className:"app",children:f.jsxs("div",{className:"page-grid",children:[f.jsx("section",{className:"card board-card minimal",children:f.jsxs("div",{className:"board-wrap",children:[f.jsxs("div",{className:"clock-bar top-clock",children:[f.jsxs("div",{className:"player-meta",children:[f.jsx("span",{className:"muted",children:S==="white"?"Opponent (Black)":"Opponent (White)"}),J&&f.jsxs("span",{className:"muted",children:[J.name,"  ECO ",J.eco]})]}),f.jsx("span",{className:"pill",children:Lo(S==="white"?B.engine_ms:B.player_ms)})]}),f.jsx("div",{className:"board-shell-react",children:f.jsx(pu,{id:"multiplayer-board",position:D,onPieceDrop:jn,boardOrientation:S,animationDuration:150,customBoardStyle:{borderRadius:12,boxShadow:"0 12px 26px rgba(0,0,0,0.35)"}})}),me&&f.jsxs("div",{className:"game-banner",children:[f.jsx("strong",{children:me.title}),f.jsx("span",{className:"muted",children:me.message})]}),O&&f.jsxs("div",{className:"promotion-panel",children:[f.jsx("span",{className:"muted",children:"Promote to:"}),f.jsxs("div",{className:"inline-actions compact",children:[O.options.map(U=>f.jsx("button",{type:"button",onClick:()=>Wt(U),children:U.toUpperCase()},U)),f.jsx("button",{type:"button",className:"secondary",onClick:()=>F(null),children:"Cancel"})]})]}),f.jsxs("div",{className:"clock-bar bottom-clock",children:[f.jsx("span",{className:"pill",children:Lo(S==="white"?B.player_ms:B.engine_ms)}),f.jsxs("div",{className:"player-meta",children:[f.jsx("strong",{children:"You"}),f.jsx("span",{className:"muted",children:S==="white"?"White":"Black"})]})]}),f.jsxs("div",{className:"inline-actions compact align-right",children:[f.jsx("button",{type:"button",className:"secondary",disabled:!v,onClick:()=>pt("resign"),children:"Resign"}),f.jsx("button",{type:"button",className:"secondary",disabled:!v,onClick:()=>pt("draw"),children:"Offer Draw"}),f.jsx("button",{type:"button",className:"secondary",disabled:!v,onClick:()=>pt("abort"),children:"Abort"}),f.jsx("span",{className:"muted tiny",children:Fe||Ke||R})]})]})}),f.jsxs("div",{className:"side-stack",children:[f.jsxs("header",{className:"card hero hero-card",children:[f.jsxs("div",{className:"hero-title",children:[f.jsx("div",{className:"badge",children:f.jsx("span",{children:""})}),f.jsxs("div",{children:[f.jsx("h1",{children:"Online Play"}),f.jsx("p",{children:"Queue for opponents, stream moves, and keep clocks in sync."}),f.jsx("small",{className:"muted",children:v?`Session ${v}`:"Not matched"})]})]}),f.jsx("span",{className:"pill",children:"Multiplayer"})]}),f.jsxs("section",{className:"card tab-card",children:[f.jsx("div",{className:"tab-bar",children:[{key:"match",label:"Match"},{key:"moves",label:"Move List"},{key:"coach",label:"Coach Insight"}].map(U=>f.jsx("button",{type:"button",className:`tab-button ${Ue===U.key?"active":""}`,onClick:()=>Be(U.key),children:U.label},U.key))}),f.jsxs("div",{className:"tab-panel",children:[Ue==="match"&&f.jsxs("form",{className:"controls-form",onSubmit:On,children:[f.jsx("div",{className:"time-preset-grid",children:Pf.map(U=>f.jsx("button",{type:"button",className:`time-pill ${Ee===U.id?"active":""}`,onClick:()=>{G(U.id),z(U.time_control),X(U.time_control),d.current=U.time_control},children:U.label},U.id))}),f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Player ID"}),f.jsx("input",{type:"text",value:g.player_id,required:!0,onChange:U=>m(le=>({...le,player_id:U.target.value})),placeholder:"your-handle"})]}),f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Color"}),f.jsxs("select",{value:g.color,onChange:U=>m(le=>({...le,color:U.target.value})),children:[f.jsx("option",{value:"auto",children:"Auto"}),f.jsx("option",{value:"white",children:"White"}),f.jsx("option",{value:"black",children:"Black"})]})]}),f.jsx("div",{className:"difficulty-indicator",children:R}),f.jsxs("div",{className:"inline-actions compact",children:[f.jsx("button",{type:"submit",children:"Join Queue"}),f.jsx("button",{type:"button",className:"secondary",onClick:sn,children:"Leave Queue"})]})]}),Ue==="moves"&&f.jsxs("ol",{className:"analysis-list",children:[fe.length===0&&f.jsx("li",{className:"muted",children:"No moves yet."}),fe.map(U=>f.jsx("li",{className:"analysis-item",children:f.jsxs("strong",{children:[U.number,". ",U.white||"..."," ",U.black||"..."]})},U.number))]}),Ue==="coach"&&f.jsxs("div",{className:"stack",children:[f.jsx("button",{type:"button",disabled:!v||$e,onClick:Gt,children:$e?"Generating...":"Explain Position"}),f.jsx("div",{className:"coach-tabs",children:[{key:"ideas",label:"Ideas"},{key:"risks",label:"Risks"},{key:"candidates",label:"Candidates"},{key:"summary",label:"Summary"}].map(U=>f.jsx("button",{type:"button",className:`coach-tab ${ie===U.key?"active":""}`,onClick:()=>Y(U.key),children:U.label},U.key))}),ie==="ideas"&&f.jsxs("ul",{className:"coach-lines",children:[((Z==null?void 0:Z.ideas)||Xe.split(new RegExp("(?<=[.!?])\\\\s+")).filter(Boolean)).map((U,le)=>f.jsx("li",{children:U},`${U}-${le}`)),!((on=(Z==null?void 0:Z.ideas)||Xe)!=null&&on.length)&&f.jsx("li",{className:"muted",children:"No ideas yet."})]}),ie==="risks"&&f.jsxs("ul",{className:"coach-lines",children:[((Z==null?void 0:Z.risks)||[]).map((U,le)=>f.jsx("li",{children:U},`${U}-${le}`)),!((Z==null?void 0:Z.risks)||[]).length&&f.jsx("li",{className:"muted",children:"No explicit risks flagged."})]}),ie==="candidates"&&f.jsxs("ul",{className:"coach-lines",children:[((Z==null?void 0:Z.candidates)||qe).map((U,le)=>f.jsxs("li",{children:[f.jsx("strong",{children:U.name||(U==null?void 0:U.idea)||"Plan"})," ",U.example_moves?`(${(U.example_moves||[]).join(", ")})`:""]},`${U.name||le}-${le}`)),!((Z==null?void 0:Z.candidates)||qe).length&&f.jsx("li",{className:"muted",children:"No candidates yet."})]}),ie==="summary"&&f.jsx("p",{className:"muted",children:Xe||"Request a coach summary after moves are played."}),_e&&f.jsxs("div",{className:"summary-block",children:[f.jsx("strong",{children:_e.name}),f.jsxs("span",{className:"muted",children:["ECO ",_e.eco]})]}),Ie&&f.jsxs("div",{className:"summary-block",children:[f.jsx("strong",{children:"Position Brief"}),f.jsx("div",{className:"tag-row",children:(Ie.global_themes||[]).map(U=>f.jsx("span",{className:"tag",children:U},U))}),f.jsxs("div",{className:"two-col",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"White"}),f.jsxs("ul",{className:"coach-lines",children:[f.jsxs("li",{children:["King: ",(xt=Ie.white)==null?void 0:xt.king_safety]}),f.jsxs("li",{children:["Pawns: ",(((ln=Ie.white)==null?void 0:ln.pawn_structure)||[]).join(", ")]}),f.jsxs("li",{children:["Activity: ",(It=Ie.white)==null?void 0:It.piece_activity]}),f.jsxs("li",{children:["Space: ",typeof((an=Ie.white)==null?void 0:an.space)=="object"?"balanced":(Nn=Ie.white)==null?void 0:Nn.space]})]})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Black"}),f.jsxs("ul",{className:"coach-lines",children:[f.jsxs("li",{children:["King: ",(Yt=Ie.black)==null?void 0:Yt.king_safety]}),f.jsxs("li",{children:["Pawns: ",(((_t=Ie.black)==null?void 0:_t.pawn_structure)||[]).join(", ")]}),f.jsxs("li",{children:["Activity: ",(un=Ie.black)==null?void 0:un.piece_activity]}),f.jsxs("li",{children:["Space: ",typeof((Vt=Ie.black)==null?void 0:Vt.space)=="object"?"balanced":(Kt=Ie.black)==null?void 0:Kt.space]})]})]})]})]}),qe.length>0&&f.jsx("div",{className:"stack",children:qe.map((U,le)=>{var De;return f.jsxs("div",{className:"summary-block",children:[f.jsx("strong",{children:U.name}),f.jsx("p",{className:"muted",children:U.idea}),f.jsx("div",{className:"tag-row",children:(U.example_moves||[]).map(Ne=>f.jsx("span",{className:"tag",children:Ne},Ne))}),((De=U.preconditions)==null?void 0:De.length)>0&&f.jsxs("p",{className:"muted",children:["Preconditions: ",U.preconditions.join(", ")]}),U.risk&&f.jsxs("p",{className:"muted",children:["Risk: ",U.risk]})]},`${U.name}-${le}`)})}),f.jsx("div",{className:"hint",children:"Live coach updates will stream here after each move."})]})]})]})]})]})})}function Vy(){var T,$;const s=Ur(),r=x.useRef(new as),[i,l]=x.useState(""),[a,d]=x.useState(null),[h,g]=x.useState(r.current.fen()),[m,v]=x.useState(0),[_,S]=x.useState("");x.useEffect(()=>{const B=new URLSearchParams(s.search).get("session");B&&(l(B),w(B))},[s.search]);const w=async z=>{S("");try{const B=await bt.replay(z);d(B),r.current.load(B.initial_fen),g(B.initial_fen),v(0)}catch(B){S(B.message||"Failed to load replay.")}},R=z=>{if(!a)return;r.current.load(a.initial_fen||a.fen||"");const B=Math.max(0,Math.min(z,a.moves.length));for(let X=0;X<B;X+=1){const fe=a.moves[X];fe!=null&&fe.uci&&r.current.move({from:fe.uci.slice(0,2),to:fe.uci.slice(2,4),promotion:fe.uci.length>4?fe.uci.slice(4):void 0})}v(B),g(r.current.fen())},E=async()=>{var B;if(!i)return;const z=new URL(window.location.href);z.searchParams.set("session",i);try{await((B=navigator.clipboard)==null?void 0:B.writeText(z.toString())),S("Replay link copied.")}catch(X){S(X.message||"Unable to copy link.")}},D=async()=>{if(!i)return;const z=await bt.pgn(i),B=new Blob([z],{type:"application/x-chess-pgn"}),X=document.createElement("a");X.href=URL.createObjectURL(B),X.download=`${i}.pgn`,document.body.appendChild(X),X.click(),X.remove()};return f.jsxs("div",{className:"app",children:[f.jsxs("header",{className:"hero",children:[f.jsxs("div",{className:"hero-title",children:[f.jsx("div",{className:"badge",children:f.jsx("span",{children:""})}),f.jsxs("div",{children:[f.jsx("h1",{children:"Replay"}),f.jsx("p",{children:"Step through any finished session, share a link, or export PGN."})]})]}),f.jsx("span",{className:"pill",children:"Review"})]}),f.jsxs("section",{className:"card controls",children:[f.jsxs("form",{className:"controls-form",onSubmit:z=>{z.preventDefault(),i&&w(i)},children:[f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Session ID"}),f.jsx("input",{type:"text",value:i,onChange:z=>l(z.target.value),placeholder:"sess_xxx",required:!0})]}),f.jsx("button",{type:"submit",children:"Load Replay"}),f.jsx("button",{type:"button",className:"secondary",onClick:E,disabled:!i,children:"Copy link"}),f.jsx("button",{type:"button",className:"secondary",onClick:D,disabled:!i,children:"Download PGN"})]}),f.jsx("div",{className:"difficulty-indicator",children:_||"Paste a session id to begin."})]}),f.jsxs("main",{className:"replay-layout",children:[f.jsxs("section",{className:"card board-card",children:[f.jsxs("div",{className:"card-header",children:[f.jsxs("div",{children:[f.jsx("h2",{children:"Replay Board"}),f.jsx("span",{className:"muted",children:a?a.result||a.status:"No game loaded."})]}),f.jsx("span",{className:"status-chip",children:a?a.session_id:"Idle"})]}),f.jsxs("div",{className:"board-wrap",children:[f.jsx("div",{className:"board-shell-react",children:f.jsx(pu,{id:"replay-board",position:h,boardOrientation:(a==null?void 0:a.player_color)||"white",arePiecesDraggable:!1,customBoardStyle:{borderRadius:16,boxShadow:"0 12px 26px rgba(0,0,0,0.35)"}})}),f.jsxs("div",{className:"replay-controls",children:[f.jsx("button",{type:"button",onClick:()=>R(0),children:"Start"}),f.jsx("button",{type:"button",onClick:()=>R(m-1),children:"Prev"}),f.jsx("button",{type:"button",onClick:()=>R(m+1),children:"Next"}),f.jsx("button",{type:"button",onClick:()=>{var z;return R(((z=a==null?void 0:a.moves)==null?void 0:z.length)||0)},children:"End"})]}),f.jsx("div",{className:"replay-meta",children:f.jsxs("span",{children:["Move ",m,"/",((T=a==null?void 0:a.moves)==null?void 0:T.length)||0]})})]})]}),f.jsxs("section",{className:"card insight-card",children:[f.jsx("div",{className:"card-header",children:f.jsxs("div",{children:[f.jsx("h2",{children:"Move List"}),f.jsx("span",{className:"muted",children:"Tap a move to jump"})]})}),f.jsx("div",{className:"replay-move-list",children:($=a==null?void 0:a.moves)==null?void 0:$.map((z,B)=>f.jsxs("button",{type:"button",className:B===m?"active":"",onClick:()=>R(B+1),children:[z.ply,". ",z.san||z.uci]},`${z.ply}-${z.uci}`))})]})]})]})}function Ky({onAuth:s}){const[r,i]=x.useState("login"),[l,a]=x.useState(""),[d,h]=x.useState(""),[g,m]=x.useState(""),v=lu(),_=async w=>{w.preventDefault(),m("");const R=r==="signup"?"/auth/sign-up":"/auth/sign-in";try{const E=await fetch(`${gh}${R}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:d,remember:!0})});if(!E.ok){const T=await E.text();throw new Error(T||`Auth failed (${E.status})`)}const D=await E.json();D.token&&(My(D.token),s&&s(D.user),v("/computer"))}catch(E){m(E.message||"Authentication failed.")}},S=()=>{Ay(),s&&s(null),a(""),h(""),m("")};return f.jsx("div",{className:"app",children:f.jsxs("div",{className:"page-grid",children:[f.jsx("section",{className:"card hero hero-card",children:f.jsxs("div",{className:"hero-title",children:[f.jsx("div",{className:"badge",children:f.jsx("span",{role:"img","aria-label":"lock",children:""})}),f.jsxs("div",{children:[f.jsx("h1",{children:r==="signup"?"Create account":"Sign in"}),f.jsx("p",{children:"Sign in to sync ratings and preferences across devices."})]})]})}),f.jsxs("section",{className:"card tab-card",children:[f.jsxs("div",{className:"tab-bar",children:[f.jsx("button",{type:"button",className:`tab-button ${r==="login"?"active":""}`,onClick:()=>i("login"),children:"Login"}),f.jsx("button",{type:"button",className:`tab-button ${r==="signup"?"active":""}`,onClick:()=>i("signup"),children:"Sign Up"}),f.jsx("button",{type:"button",className:"tab-button",onClick:S,children:"Logout"})]}),f.jsx("div",{className:"tab-panel",children:f.jsxs("form",{className:"controls-form",onSubmit:_,children:[f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Email"}),f.jsx("input",{type:"email",value:l,onChange:w=>a(w.target.value),required:!0})]}),f.jsxs("label",{className:"select-field",children:[f.jsx("span",{children:"Password"}),f.jsx("input",{type:"password",value:d,onChange:w=>h(w.target.value),required:!0})]}),g&&f.jsx("div",{className:"difficulty-indicator",children:g}),f.jsx("button",{type:"submit",children:r==="signup"?"Create account":"Login"})]})})]})]})})}function Qy(){return f.jsxs("div",{className:"app-shell",children:[f.jsx(ym,{}),f.jsx("div",{className:"app-body",children:f.jsxs(nm,{children:[f.jsx($r,{path:"/",element:f.jsx(Sm,{})}),f.jsx($r,{path:"/computer",element:f.jsx(By,{})}),f.jsx($r,{path:"/multiplayer",element:f.jsx(Hy,{})}),f.jsx($r,{path:"/replay",element:f.jsx(Vy,{})}),f.jsx($r,{path:"/auth",element:f.jsx(Ky,{})}),f.jsx($r,{path:"*",element:f.jsx(em,{to:"/",replace:!0})})]})})]})}const qy=document.getElementById("root");dg.createRoot(qy).render(f.jsx(Lf.StrictMode,{children:f.jsx(cm,{children:f.jsx(Qy,{})})}));
